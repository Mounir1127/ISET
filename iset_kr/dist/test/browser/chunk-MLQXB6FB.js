import{a as w}from"./chunk-2NYJVHRM.js";import{a as S}from"./chunk-FTVJFWHL.js";import"./chunk-JXVCW6UT.js";import"./chunk-OLM244A5.js";import"./chunk-EVJP5UTO.js";import"./chunk-RGDPBHKT.js";import{Ja as r,Na as p,Sa as C,Xa as g,a as u,ac as P,b as h,bc as v,cb as d,cc as b,eb as x,gb as a,hb as i,hc as y,ib as l,jb as O,kb as M,nb as c,tb as s,ub as f,vb as _}from"./chunk-VLARTZ6X.js";function T(t,n){t&1&&(a(0,"div",12),l(1,"i",13),a(2,"p"),s(3,"Chargement de votre emploi du temps..."),i()())}function F(t,n){if(t&1&&(a(0,"div",21),s(1),i()),t&2){let e=n.$implicit;r(),f(e)}}function z(t,n){if(t&1&&(a(0,"div",29)(1,"span",30),s(2),i(),a(3,"span",31),l(4,"i",32),s(5),i(),a(6,"span",33),l(7,"i",34),s(8),i()()),t&2){let e,o=n.ngIf,m=c().$implicit,E=c().$implicit,k=c(2);d("ngClass",(e=k.getClassForSlot(E,m))==null?null:e.type),r(2),f((o.subject==null?null:o.subject.name)||o.module),r(3),_(" ",o.classGroup==null?null:o.classGroup.name,""),r(3),_(" ",o.room,"")}}function L(t,n){t&1&&l(0,"div",35)}function j(t,n){if(t&1&&(O(0),g(1,z,9,4,"div",27)(2,L,1,0,"div",28),M()),t&2){let e=n.$implicit,o=c().$implicit,m=c(2);r(),d("ngIf",m.getClassForSlot(o,e)),r(),d("ngIf",!m.getClassForSlot(o,e))}}function D(t,n){if(t&1&&(a(0,"div",22)(1,"div",23)(2,"span",24),s(3),i()(),a(4,"div",25),g(5,j,3,2,"ng-container",26),i()()),t&2){let e=n.$implicit,o=c(2);r(),x("today",o.isToday(e)),r(2),f(e),r(2),d("ngForOf",o.timeSlots)}}function $(t,n){if(t&1&&(a(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17),s(4,"Heure"),i(),g(5,F,2,1,"div",18),i(),a(6,"div",19),g(7,D,6,4,"div",20),i()()()),t&2){let e=c();r(5),d("ngForOf",e.timeSlots),r(2),d("ngForOf",e.weekDays)}}function U(t,n){t&1&&(a(0,"div",36)(1,"div",37),l(2,"span",38),s(3," Cours"),i(),a(4,"div",37),l(5,"span",39),s(6," TD (Travaux Dirig\xE9s)"),i(),a(7,"div",37),l(8,"span",40),s(9," TP (Travaux Pratiques)"),i()())}var I=class t{constructor(n,e){this.staffService=n;this.authService=e;this.timeSlots=["08:30 - 10:00","10:10 - 11:40","11:50 - 13:20","13:30 - 15:00","15:10 - 16:40","16:40 - 18:10"];this.weekDays=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"];this.sessions=[];this.isLoading=!0}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.currentUser&&this.currentUser.id?this.loadSchedule():this.isLoading=!1}loadSchedule(){this.isLoading=!0,this.staffService.getSchedule(this.currentUser.id).subscribe({next:n=>{this.sessions=n.map(e=>h(u({},e),{slot:`${e.startTime} - ${e.endTime}`,type:e.type?.toLowerCase()||"cours"})),this.isLoading=!1},error:n=>{console.error("Error loading schedule:",n),this.sessions=[],this.isLoading=!1}})}isToday(n){return n===["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][new Date().getDay()]}getClassForSlot(n,e){return this.sessions.find(o=>o.day===n&&o.slot===e)}static{this.\u0275fac=function(e){return new(e||t)(p(w),p(S))}}static{this.\u0275cmp=C({type:t,selectors:[["app-staff-schedule"]],decls:18,vars:3,consts:[[1,"schedule-page"],[1,"header-wrap","glass-card"],[1,"header-main"],[1,"title-wrap"],[1,"semester-info"],[1,"info-tag"],[1,"fas","fa-university"],[1,"info-tag","current"],[1,"fas","fa-history"],["class","loading-state glass-card",4,"ngIf"],["class","schedule-grid-container glass-card",4,"ngIf"],["class","schedule-legend glass-card",4,"ngIf"],[1,"loading-state","glass-card"],[1,"fas","fa-spinner","fa-spin"],[1,"schedule-grid-container","glass-card"],[1,"schedule-table"],[1,"time-column"],[1,"time-slot","header"],["class","time-slot",4,"ngFor","ngForOf"],[1,"day-columns"],["class","day-column",4,"ngFor","ngForOf"],[1,"time-slot"],[1,"day-column"],[1,"day-header"],[1,"day-name"],[1,"day-slots"],[4,"ngFor","ngForOf"],["class","class-slot",3,"ngClass",4,"ngIf"],["class","empty-slot",4,"ngIf"],[1,"class-slot",3,"ngClass"],[1,"module"],[1,"group"],[1,"fas","fa-users"],[1,"room"],[1,"fas","fa-location-arrow"],[1,"empty-slot"],[1,"schedule-legend","glass-card"],[1,"legend-item"],[1,"color-box","cours"],[1,"color-box","td"],[1,"color-box","tp"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),s(5,"Mon Emploi du Temps"),i(),a(6,"p"),s(7,"Consultez votre planning hebdomadaire, vos salles et vos horaires."),i()()(),a(8,"div",4)(9,"span",5),l(10,"i",6),s(11," Ann\xE9e Univ. 2024/2025"),i(),a(12,"span",7),l(13,"i",8),s(14," Semestre 1"),i()()(),g(15,T,4,0,"div",9)(16,$,8,2,"div",10)(17,U,10,0,"div",11),i()),e&2&&(r(15),d("ngIf",o.isLoading),r(),d("ngIf",!o.isLoading),r(),d("ngIf",!o.isLoading))},dependencies:[y,P,v,b],styles:[".schedule-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;animation:_ngcontent-%COMP%_fadeIn .8s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}.glass-card[_ngcontent-%COMP%]{background:#fffc;backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:2.2rem;box-shadow:0 10px 30px #00000008}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#0055a4;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:600}.header-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.header-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#0f172a}.header-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:500}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:12px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:.8rem;transition:all .3s}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0055a433}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:#fff;color:#0055a4;border:1px solid #0055a4}.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#eff6ff}.semester-info[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.semester-info[_ngcontent-%COMP%]   .info-tag[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#64748b;background:#f1f5f9;padding:.5rem 1rem;border-radius:8px;display:flex;align-items:center;gap:.6rem}.semester-info[_ngcontent-%COMP%]   .info-tag.current[_ngcontent-%COMP%]{color:#d97706;background:#fffbeb}.schedule-grid-container[_ngcontent-%COMP%]{padding:0;overflow:hidden}.schedule-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr;min-width:1000px}.time-slot[_ngcontent-%COMP%]{height:100px;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:800;color:#94a3b8;border-right:1px solid #f1f5f9}.time-slot.header[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #f1f5f9}.day-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr)}.day-header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;justify-content:center;background:#f8fafc;border-bottom:1px solid #f1f5f9;border-right:1px solid #f1f5f9}.day-header[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-weight:850;font-size:.9rem;color:#0f172a;text-transform:uppercase;letter-spacing:.5px}.day-header.today[_ngcontent-%COMP%]{background:#0055a4}.day-header.today[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{color:#fff}.class-slot[_ngcontent-%COMP%]{height:100px;padding:.8rem;display:flex;flex-direction:column;justify-content:center;gap:.2rem;border-right:1px solid #f1f5f9;border-bottom:1px solid #f1f5f9;transition:all .3s;cursor:pointer}.class-slot[_ngcontent-%COMP%]   .module[_ngcontent-%COMP%]{font-size:.85rem;font-weight:900;color:#fff;line-height:1.2}.class-slot[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%], .class-slot[_ngcontent-%COMP%]   .room[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#ffffffd9;display:flex;align-items:center;gap:.4rem}.class-slot.cours[_ngcontent-%COMP%]{background:#0055a4;border-left:4px solid #f59e0b}.class-slot.td[_ngcontent-%COMP%]{background:#475569;border-left:4px solid #94a3b8}.class-slot.tp[_ngcontent-%COMP%]{background:#10b981;border-left:4px solid #f59e0b}.class-slot[_ngcontent-%COMP%]:hover{transform:scale(1.05);z-index:2;box-shadow:0 10px 20px #00000026;border-radius:8px}.empty-slot[_ngcontent-%COMP%]{height:100px;border-right:1px solid #f1f5f9;border-bottom:1px solid #f1f5f9}.schedule-legend[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:1.5rem 2.2rem}.schedule-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-weight:700;font-size:.9rem;color:#0f172a}.schedule-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:4px}.schedule-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .color-box.cours[_ngcontent-%COMP%]{background:#0055a4}.schedule-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .color-box.td[_ngcontent-%COMP%]{background:#475569}.schedule-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .color-box.tp[_ngcontent-%COMP%]{background:#10b981}@media (max-width: 1024px){.schedule-grid-container[_ngcontent-%COMP%]{overflow-x:auto;margin:0 -1.5rem;border-radius:0;border-left:none;border-right:none}}@media (max-width: 768px){.glass-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:20px}.header-wrap[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.header-wrap[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.header-wrap[_ngcontent-%COMP%]   .semester-info[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem}.header-wrap[_ngcontent-%COMP%]   .semester-info[_ngcontent-%COMP%]   .info-tag[_ngcontent-%COMP%]{width:100%}.schedule-legend[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1.5rem}}@media print{.header-main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none!important;border:1px solid #eee!important;backdrop-filter:none!important;padding:0!important}.schedule-page[_ngcontent-%COMP%]{gap:1rem}.schedule-grid-container[_ngcontent-%COMP%]{overflow:visible!important}*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}}"]})}};export{I as StaffScheduleComponent};
