import{a as S}from"./chunk-FTVJFWHL.js";import{a as p}from"./chunk-JXVCW6UT.js";import{e as v,h as y}from"./chunk-OLM244A5.js";import"./chunk-EVJP5UTO.js";import{a as b}from"./chunk-RGDPBHKT.js";import{Gb as C,Ja as r,Jb as M,Na as m,Sa as u,Xa as f,bc as _,cb as g,cc as x,fb as h,fc as O,gb as e,hb as t,hc as P,ib as o,tb as n,ub as s,vb as c}from"./chunk-VLARTZ6X.js";function I(l,d){l&1&&(e(0,"div",43),o(1,"i",44),e(2,"p"),n(3,"Pas de s\xE9ances aujourd'hui. Profitez-en !"),t()())}function k(l,d){if(l&1&&(e(0,"div",45)(1,"div",46),n(2),t(),e(3,"div",47)(4,"span",48),n(5),t(),e(6,"div",49)(7,"span"),o(8,"i",50),n(9),t(),e(10,"span"),o(11,"i",51),n(12),t()()(),e(13,"div",52),n(14),t()()),l&2){let a=d.$implicit;h(a.type.toLowerCase()),r(2),s(a.startTime),r(3),s(a.subject==null?null:a.subject.name),r(4),c(" ",a.room,""),r(3),c(" ",a.staff==null?null:a.staff.name,""),r(2),s(a.type)}}var E=class l{constructor(d,a){this.authService=d;this.http=a;this.today=new Date;this.stats={gradesCount:0,schedulesCount:0,materialsCount:0};this.todaySessions=[];this.authService.currentUser.subscribe(i=>this.currentUser=i)}ngOnInit(){this.loadStats(),this.loadTodaySchedule()}loadStats(){if(!this.currentUser?._id)return;let d={studentId:this.currentUser.id||this.currentUser._id,classGroupId:this.currentUser.classGroup?._id||this.currentUser.classGroup||""};this.http.get(`${p.apiUrl}/student/stats`,{params:d}).subscribe({next:a=>{this.stats=a},error:a=>console.error("Error loading dashboard stats",a)})}loadTodaySchedule(){let d=this.currentUser?.classGroup?._id||this.currentUser?.classGroup;d&&this.http.get(`${p.apiUrl}/student/schedule`,{params:{classGroupId:d}}).subscribe({next:a=>{let w=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][this.today.getDay()];this.todaySessions=a.filter(U=>U.day===w)},error:a=>console.error("Error loading today schedule",a)})}static{this.\u0275fac=function(a){return new(a||l)(m(S),m(b))}}static{this.\u0275cmp=u({type:l,selectors:[["app-student-dashboard"]],decls:112,vars:17,consts:[[1,"dashboard-container"],[1,"dashboard-header","animate-fade-in"],[1,"welcome-text"],[1,"highlight"],[1,"text-muted"],[1,"date-display"],[1,"far","fa-calendar-alt"],[1,"stats-grid","animate-fade-up"],[1,"stat-card"],[1,"stat-icon","bg-primary-light","text-primary"],[1,"fas","fa-star"],[1,"stat-info"],[1,"stat-icon","bg-success-light","text-success"],[1,"fas","fa-calendar-check"],[1,"stat-icon","bg-warning-light","text-warning"],[1,"fas","fa-file-download"],[1,"content-grid"],[1,"grid-left","animate-fade-up","delay-1"],[1,"glass-card","schedule-today-card"],[1,"card-header"],["routerLink","/student/schedule",1,"view-all"],[1,"today-sessions"],["class","no-sessions",4,"ngIf"],["class","session-item",3,"class",4,"ngFor","ngForOf"],[1,"glass-card","shortcuts-card"],[1,"shortcuts-grid"],["routerLink","/student/schedule",1,"shortcut-item"],[1,"icon"],[1,"fas","fa-clock"],["routerLink","/student/grades",1,"shortcut-item"],[1,"fas","fa-award"],["routerLink","/student/materials",1,"shortcut-item"],[1,"fas","fa-book"],["routerLink","/student/rattrapage",1,"shortcut-item"],[1,"fas","fa-calendar-alt"],["href","#",1,"shortcut-item"],[1,"fas","fa-envelope"],[1,"grid-right","animate-fade-up","delay-2"],[1,"glass-card","info-card"],[1,"info-content"],[1,"info-item"],[1,"label"],[1,"value"],[1,"no-sessions"],[1,"fas","fa-mug-hot"],[1,"session-item"],[1,"time"],[1,"details"],[1,"subject"],[1,"meta"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-user-tie"],[1,"type-badge"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),n(4,"Bonjour, "),e(5,"span",3),n(6),t(),n(7," \u{1F44B}"),t(),e(8,"p",4),n(9,"Ravi de vous revoir. Voici un aper\xE7u de votre situation acad\xE9mique."),t()(),e(10,"div",5),o(11,"i",6),e(12,"span"),n(13),C(14,"date"),t()()(),e(15,"div",7)(16,"div",8)(17,"div",9),o(18,"i",10),t(),e(19,"div",11)(20,"h3"),n(21),t(),e(22,"p"),n(23,"Notes publi\xE9es"),t()()(),e(24,"div",8)(25,"div",12),o(26,"i",13),t(),e(27,"div",11)(28,"h3"),n(29),t(),e(30,"p"),n(31,"S\xE9ances cette semaine"),t()()(),e(32,"div",8)(33,"div",14),o(34,"i",15),t(),e(35,"div",11)(36,"h3"),n(37),t(),e(38,"p"),n(39,"Nouveaux supports"),t()()()(),e(40,"div",16)(41,"div",17)(42,"div",18)(43,"div",19)(44,"h2"),n(45,"\u{1F4C5} S\xE9ances d'Aujourd'hui"),t(),e(46,"a",20),n(47,"Voir tout"),t()(),e(48,"div",21),f(49,I,4,0,"div",22)(50,k,15,7,"div",23),t()(),e(51,"div",24)(52,"div",19)(53,"h2"),n(54,"Acc\xE8s Rapide"),t()(),e(55,"div",25)(56,"a",26)(57,"div",27),o(58,"i",28),t(),e(59,"span"),n(60,"Mon Emploi"),t()(),e(61,"a",29)(62,"div",27),o(63,"i",30),t(),e(64,"span"),n(65,"Mes Notes"),t()(),e(66,"a",31)(67,"div",27),o(68,"i",32),t(),e(69,"span"),n(70,"Mes Cours"),t()(),e(71,"a",33)(72,"div",27),o(73,"i",34),t(),e(74,"span"),n(75,"Rattrapages"),t()(),e(76,"a",35)(77,"div",27),o(78,"i",36),t(),e(79,"span"),n(80,"Messages"),t()()()()(),e(81,"div",37)(82,"div",38)(83,"div",19)(84,"h2"),n(85,"Informations Classe"),t()(),e(86,"div",39)(87,"div",40)(88,"span",41),n(89,"D\xE9partement:"),t(),e(90,"span",42),n(91),t()(),e(92,"div",40)(93,"span",41),n(94,"Classe:"),t(),e(95,"span",42),n(96),t()(),e(97,"div",40)(98,"span",41),n(99,"Niveau:"),t(),e(100,"span",42),n(101),t()(),e(102,"div",40)(103,"span",41),n(104,"Groupe:"),t(),e(105,"span",42),n(106),t()(),e(107,"div",40)(108,"span",41),n(109,"Matricule:"),t(),e(110,"span",42),n(111),t()()()()()()()),a&2&&(r(6),s(i.currentUser==null?null:i.currentUser.name),r(7),s(M(14,12,i.today,"EEEE, d MMMM yyyy","","fr")),r(8),s(i.stats.gradesCount),r(8),s(i.stats.schedulesCount),r(8),s(i.stats.materialsCount),r(12),g("ngIf",i.todaySessions.length===0),r(),g("ngForOf",i.todaySessions),r(41),s((i.currentUser==null||i.currentUser.department==null?null:i.currentUser.department.name)||(i.currentUser==null?null:i.currentUser.department)||"Non assign\xE9"),r(5),s((i.currentUser==null||i.currentUser.classGroup==null?null:i.currentUser.classGroup.name)||(i.currentUser==null?null:i.currentUser.classGroup)||"Non assign\xE9e"),r(5),s((i.currentUser==null?null:i.currentUser.level)||"N/A"),r(5),c("Groupe ",(i.currentUser==null?null:i.currentUser.group)||"N/A",""),r(5),s(i.currentUser==null?null:i.currentUser.matricule))},dependencies:[P,_,x,O,y,v],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;color:#0f172a;margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0055a4}.dashboard-header[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;background:#fff;padding:.8rem 1.5rem;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a;font-weight:600;color:#64748b}.dashboard-header[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.8rem;border-radius:20px;display:flex;align-items:center;gap:1.5rem;box-shadow:0 10px 15px -3px #0000000d;transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;margin:0;color:#0f172a}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-weight:500;font-size:.9rem}.bg-primary-light[_ngcontent-%COMP%]{background:#0055a41a}.bg-success-light[_ngcontent-%COMP%]{background:#10b9811a}.bg-warning-light[_ngcontent-%COMP%]{background:#f59e0b1a}.text-primary[_ngcontent-%COMP%]{color:#0055a4}.text-success[_ngcontent-%COMP%]{color:#10b981}.text-warning[_ngcontent-%COMP%]{color:#f59e0b}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem}.glass-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:2rem;box-shadow:0 10px 15px -3px #0000000d;border:1px solid rgba(241,245,249,1)}.glass-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:2rem}.glass-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0f172a;margin:0}.shortcuts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1.2rem}.shortcut-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:1.5rem;background:#f8fafc;border-radius:18px;text-decoration:none;transition:all .3s ease;border:1px solid transparent}.shortcut-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:50px;height:50px;background:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#0055a4;box-shadow:0 4px 6px #0000000d}.shortcut-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:#475569}.shortcut-item[_ngcontent-%COMP%]:hover{background:#fff;border-color:#0055a4;transform:translateY(-5px);box-shadow:0 10px 20px #0055a414}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#64748b;font-weight:500;font-size:.9rem}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#0f172a;font-weight:700;font-size:.95rem}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.animate-fade-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeUp .6s ease-out both}.delay-1[_ngcontent-%COMP%]{animation-delay:.1s}.delay-2[_ngcontent-%COMP%]{animation-delay:.2s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.schedule-today-card[_ngcontent-%COMP%]{margin-bottom:2rem}.schedule-today-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.schedule-today-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .view-all[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#0055a4;text-decoration:none}.schedule-today-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .view-all[_ngcontent-%COMP%]:hover{text-decoration:underline}.today-sessions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.session-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.2rem;background:#f8fafc;border-radius:16px;border-left:4px solid #0055a4;position:relative;transition:all .3s ease}.session-item[_ngcontent-%COMP%]:hover{transform:translate(5px);background:#fff;box-shadow:0 5px 15px #0000000d}.session-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-weight:800;color:#0055a4;min-width:60px;font-size:.95rem}.session-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{flex:1}.session-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{display:block;font-weight:700;color:#0f172a;margin-bottom:.3rem}.session-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.75rem;color:#64748b}.session-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.session-item[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{font-size:.65rem;font-weight:800;padding:4px 10px;border-radius:20px;background:#0055a4;color:#fff;text-transform:uppercase}.session-item.td[_ngcontent-%COMP%]{border-left-color:#f59e0b}.session-item.td[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{background:#f59e0b}.session-item.td[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#f59e0b}.session-item.tp[_ngcontent-%COMP%]{border-left-color:#10b981}.session-item.tp[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{background:#10b981}.session-item.tp[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#10b981}.no-sessions[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#94a3b8}.no-sessions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.3}.no-sessions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.glass-card[_ngcontent-%COMP%]{padding:1.5rem}.session-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.8rem}.session-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{min-width:auto}.session-item[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{position:absolute;top:1.2rem;right:1.2rem}.shortcuts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}};export{E as StudentDashboardComponent};
