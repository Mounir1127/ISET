import{a as y}from"./chunk-3EFWZ452.js";import{a as S}from"./chunk-FTVJFWHL.js";import"./chunk-JXVCW6UT.js";import"./chunk-OLM244A5.js";import"./chunk-EVJP5UTO.js";import"./chunk-RGDPBHKT.js";import{Gb as u,Ib as _,Ja as a,Na as m,Sa as h,Xa as p,bc as M,cb as c,cc as O,eb as C,fb as x,fc as P,gb as t,hb as n,hc as b,ib as d,nb as g,tb as s,ub as l,vb as f,wb as v}from"./chunk-VLARTZ6X.js";function E(i,o){i&1&&(t(0,"div",8),d(1,"div",9),t(2,"p"),s(3,"Chargement des s\xE9ances..."),n()())}function w(i,o){i&1&&(t(0,"div",10),d(1,"i",11),t(2,"h3"),s(3,"Aucun rattrapage"),n(),t(4,"p"),s(5,"Il n'y a aucune s\xE9ance de rattrapage programm\xE9e pour votre classe actuellement."),n()())}function z(i,o){if(i&1&&(t(0,"div",28)(1,"p"),s(2),n()()),i&2){let e=g().$implicit;a(2),l(e.description)}}function R(i,o){if(i&1&&(t(0,"div",14)(1,"div",15)(2,"span",16),s(3),u(4,"date"),n(),t(5,"span",17),s(6),u(7,"date"),n()(),t(8,"div",18)(9,"div",19)(10,"span",20),s(11),n(),t(12,"span",21),s(13),n()(),t(14,"div",22)(15,"div",23),d(16,"i",24),t(17,"span"),s(18),n()(),t(19,"div",23),d(20,"i",25),t(21,"span"),s(22),n()(),t(23,"div",23),d(24,"i",26),t(25,"span"),s(26),n()()(),p(27,z,3,1,"div",27),n()()),i&2){let e=o.$implicit;C("cancelled",e.status==="cancelled"),a(3),l(_(4,13,e.date,"dd")),a(3),l(_(7,16,e.date,"MMM")),a(5),l(e.subject==null?null:e.subject.name),a(),x(e.status),a(),l(e.status),a(5),v("",e.startTime," - ",e.endTime,""),a(4),f("Salle: ",e.room,""),a(4),f("Prof: ",e.teacher==null?null:e.teacher.name,""),a(),c("ngIf",e.description)}}function j(i,o){if(i&1&&(t(0,"div",12),p(1,R,28,19,"div",13),n()),i&2){let e=g();a(),c("ngForOf",e.sessions)}}var I=class i{constructor(o,e){this.catchupService=o;this.authService=e;this.sessions=[];this.loading=!0;this.authService.currentUser.subscribe(r=>this.currentUser=r)}ngOnInit(){this.loadSessions()}loadSessions(){let o=this.currentUser?.classGroup?._id||this.currentUser?.classGroup;if(!o){this.loading=!1;return}this.catchupService.getCatchupSessions(o).subscribe({next:e=>{this.sessions=e,this.loading=!1},error:e=>{console.error("Error loading catchup sessions",e),this.loading=!1}})}static{this.\u0275fac=function(e){return new(e||i)(m(y),m(S))}}static{this.\u0275cmp=h({type:i,selectors:[["app-rattrapage"]],decls:11,vars:3,consts:[[1,"rattrapage-container"],[1,"page-header","animate-fade-in"],[1,"header-content"],[1,"text-muted"],[1,"sessions-grid","animate-fade-up"],["class","loading-state",4,"ngIf"],["class","no-sessions-card glass-card",4,"ngIf"],["class","sessions-list",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"no-sessions-card","glass-card"],[1,"fas","fa-calendar-times"],[1,"sessions-list"],["class","session-card glass-card",3,"cancelled",4,"ngFor","ngForOf"],[1,"session-card","glass-card"],[1,"session-date"],[1,"day"],[1,"month"],[1,"session-main"],[1,"session-header"],[1,"subject"],[1,"status-badge"],[1,"session-details"],[1,"detail-item"],[1,"fas","fa-clock"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-user-tie"],["class","session-description",4,"ngIf"],[1,"session-description"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),s(4,"\u{1F4C5} S\xE9ances de Rattrapage"),n(),t(5,"p",3),s(6,"Consultez vos s\xE9ances de rattrapage programm\xE9es."),n()()(),t(7,"div",4),p(8,E,4,0,"div",5)(9,w,6,0,"div",6)(10,j,2,1,"div",7),n()()),e&2&&(a(8),c("ngIf",r.loading),a(),c("ngIf",!r.loading&&r.sessions.length===0),a(),c("ngIf",!r.loading&&r.sessions.length>0))},dependencies:[b,M,O,P],styles:[".rattrapage-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#0f172a;margin-bottom:.5rem}.glass-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 10px 15px -3px #0000000d;border:1px solid #f1f5f9}.no-sessions-card[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.no-sessions-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#cbd5e1;margin-bottom:1.5rem}.no-sessions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.no-sessions-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b}.sessions-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:1.5rem}.session-card[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:1.5rem;transition:transform .3s ease}.session-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.session-card.cancelled[_ngcontent-%COMP%]{opacity:.7;filter:grayscale(.5)}.session-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:70px;height:70px;background:#f0f7ff;border-radius:16px;color:#0055a4}.session-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800}.session-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;text-transform:uppercase}.session-main[_ngcontent-%COMP%]{flex:1}.session-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.session-header[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a}.session-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:800;padding:4px 10px;border-radius:20px;text-transform:uppercase}.session-header[_ngcontent-%COMP%]   .status-badge.published[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.session-header[_ngcontent-%COMP%]   .status-badge.draft[_ngcontent-%COMP%]{background:#fef9c3;color:#a16207}.session-header[_ngcontent-%COMP%]   .status-badge.cancelled[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c}.session-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.8rem;margin-bottom:1rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;font-size:.85rem;color:#64748b}.detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0055a4;width:14px}.session-description[_ngcontent-%COMP%]{font-size:.85rem;color:#475569;padding-top:.8rem;border-top:1px solid #f1f5f9;line-height:1.5}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:#64748b}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #0055a4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.sessions-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.session-card[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.session-date[_ngcontent-%COMP%]{width:100%;height:auto;padding:.8rem;flex-direction:row;gap:.5rem}.session-details[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}};export{I as RattrapageComponent};
