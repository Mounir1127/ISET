import{a as v}from"./chunk-FTVJFWHL.js";import{a as P}from"./chunk-JXVCW6UT.js";import"./chunk-OLM244A5.js";import"./chunk-EVJP5UTO.js";import{a as M}from"./chunk-RGDPBHKT.js";import{Gb as h,Ib as x,Ja as r,Na as s,Sa as p,Xa as u,bc as C,cb as c,cc as b,eb as f,gb as e,gc as _,hb as n,hc as O,ib as m,tb as i,ub as l,vb as g}from"./chunk-VLARTZ6X.js";function y(o,a){if(o&1&&(e(0,"tr",10)(1,"td",11)(2,"div",12)(3,"span",13),i(4),n(),e(5,"span",14),i(6),n()()(),e(7,"td")(8,"span",15),i(9),n()(),e(10,"td"),i(11),n(),e(12,"td",16)(13,"span",17),i(14),h(15,"number"),n()(),e(16,"td")(17,"span",18),m(18,"i",19),i(19," Publi\xE9 "),n()()()),o&2){let t=a.$implicit;r(4),l(t.module==null?null:t.module.name),r(2),l(t.module==null?null:t.module.code),r(3),l(t.examType),r(2),g("S",t.semester,""),r(2),f("excellent",t.value>=15)("good",t.value>=10&&t.value<15)("fail",t.value<10),r(),g(" ",x(15,11,t.value,"1.2-2")," ")}}function E(o,a){o&1&&(e(0,"tr")(1,"td",20),m(2,"i",21),e(3,"p"),i(4,"Aucune note n'a encore \xE9t\xE9 publi\xE9e pour votre compte."),n()()())}var S=class o{constructor(a,t){this.http=a;this.authService=t;this.grades=[];this.authService.currentUser.subscribe(d=>this.currentUser=d)}ngOnInit(){this.loadGrades()}loadGrades(){this.currentUser?._id&&this.http.get(`${P.apiUrl}/student/grades`,{params:{studentId:this.currentUser._id}}).subscribe({next:a=>this.grades=a,error:a=>console.error("Error loading grades",a)})}static{this.\u0275fac=function(t){return new(t||o)(s(M),s(v))}}static{this.\u0275cmp=p({type:o,selectors:[["app-student-grades"]],decls:28,vars:2,consts:[[1,"grades-container"],[1,"page-header","animate-fade-in"],[1,"title-area"],[1,"highlight"],[1,"text-muted"],[1,"grades-table-card","glass-card","animate-fade-up"],[1,"table-responsive"],[1,"grades-table"],["class","grade-row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grade-row"],[1,"module-cell"],[1,"module-info"],[1,"module-name"],[1,"module-id"],[1,"exam-type"],[1,"value-cell"],[1,"note-badge"],[1,"status-pill","published"],[1,"fas","fa-check-circle","me-1"],["colspan","5",1,"empty-state"],[1,"fas","fa-info-circle","mb-3"]],template:function(t,d){t&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),i(4,"Mes "),e(5,"span",3),i(6,"Notes"),n(),i(7," & \xC9valuations"),n(),e(8,"p",4),i(9,"Suivez vos performances acad\xE9miques semestre par semestre."),n()()(),e(10,"div",5)(11,"div",6)(12,"table",7)(13,"thead")(14,"tr")(15,"th"),i(16,"Module"),n(),e(17,"th"),i(18,"Type d'Examen"),n(),e(19,"th"),i(20,"Semestre"),n(),e(21,"th"),i(22,"Note"),n(),e(23,"th"),i(24,"Statut"),n()()(),e(25,"tbody"),u(26,y,20,14,"tr",8)(27,E,5,0,"tr",9),n()()()()()),t&2&&(r(26),c("ngForOf",d.grades),r(),c("ngIf",d.grades.length===0))},dependencies:[O,C,b,_],styles:[".grades-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#0f172a}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0055a4}.glass-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:2rem;box-shadow:0 10px 15px -3px #0000000d;border:1px solid #f1f5f9}.grades-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.grades-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:1.5rem 1rem;border-bottom:2px solid #f8fafc;color:#64748b;font-weight:700;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.grades-table[_ngcontent-%COMP%]   .grade-row[_ngcontent-%COMP%]{transition:background .2s ease}.grades-table[_ngcontent-%COMP%]   .grade-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.grades-table[_ngcontent-%COMP%]   .grade-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.module-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.module-info[_ngcontent-%COMP%]   .module-name[_ngcontent-%COMP%]{font-weight:700;color:#0f172a}.module-info[_ngcontent-%COMP%]   .module-id[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8;font-weight:500}.exam-type[_ngcontent-%COMP%]{background:#f1f5f9;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:600;color:#475569}.note-badge[_ngcontent-%COMP%]{display:inline-block;width:60px;height:35px;line-height:35px;text-align:center;border-radius:10px;font-weight:800;font-size:1rem}.note-badge.excellent[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.note-badge.good[_ngcontent-%COMP%]{background:#0055a41a;color:#0055a4}.note-badge.fail[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem 1rem;border-radius:20px;font-size:.8rem;font-weight:700}.status-pill.published[_ngcontent-%COMP%]{background:#ecfdf5;color:#059669}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:5rem 0;color:#94a3b8}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;opacity:.2}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;margin:0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.glass-card[_ngcontent-%COMP%]{padding:1rem;border-radius:20px}.grades-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .grades-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;font-size:.8rem}.grades-table[_ngcontent-%COMP%]   .module-cell[_ngcontent-%COMP%]{min-width:140px}.grades-table[_ngcontent-%COMP%]   .exam-type[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.75rem}}"]})}};export{S as StudentGradesComponent};
