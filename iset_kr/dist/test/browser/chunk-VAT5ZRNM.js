import{a as h}from"./chunk-2NYJVHRM.js";import{a as x}from"./chunk-FTVJFWHL.js";import"./chunk-JXVCW6UT.js";import{e as O,h as b}from"./chunk-OLM244A5.js";import"./chunk-EVJP5UTO.js";import"./chunk-RGDPBHKT.js";import{Ja as i,Kb as M,Na as g,Sa as p,Xa as m,cb as f,cc as _,gb as t,hb as e,hc as P,ib as o,nb as u,sb as C,tb as n,ub as l,vb as d}from"./chunk-VLARTZ6X.js";function w(r,s){r&1&&(t(0,"span",56),n(1,"Non trait\xE9es"),e())}function E(r,s){if(r&1&&(t(0,"div",57)(1,"div",58)(2,"span",59),n(3),e(),t(4,"span",60),n(5,"90 min"),e()(),t(6,"div",61)(7,"h4"),n(8),e(),t(9,"p"),o(10,"i",62),n(11),e(),t(12,"div",63),o(13,"i",64),n(14),e()(),t(15,"div",65)(16,"button",66),o(17,"i",67),n(18," Appel"),e(),t(19,"button",68),o(20,"i",69),n(21," Supports"),e()()()),r&2){let a=u();i(3),l(a.nextSession.startTime),i(5),l(a.nextSession.module==null?null:a.nextSession.module.name),i(3),d(" Groupe ",a.nextSession.classGroup==null?null:a.nextSession.classGroup.name,""),i(3),d(" ",a.nextSession.room,"")}}function k(r,s){r&1&&(t(0,"div",70),o(1,"i",71),t(2,"p"),n(3,"Aucune session pr\xE9vue prochainement."),e()())}var v=class r{constructor(s,a){this.staffService=s;this.authService=a;this.stats={totalStudents:0,totalModules:0,totalMaterials:0,pendingClaims:0};this.nextSession=null;this.currentUser=this.authService.getCurrentUser()}ngOnInit(){this.currentUser?.id&&this.loadDashboardData()}loadDashboardData(){let s=this.currentUser.id;this.staffService.getStats(s).subscribe({next:a=>this.stats=a,error:a=>console.error("Error stats",a)}),this.staffService.getSchedule(s).subscribe({next:a=>{a&&a.length>0&&(this.nextSession=a[0])},error:a=>console.error("Error schedule",a)})}static{this.\u0275fac=function(a){return new(a||r)(g(h),g(x))}}static{this.\u0275cmp=p({type:r,selectors:[["app-staff-dashboard"]],decls:114,vars:9,consts:[["noSession",""],[1,"dashboard-ultra-pro"],[1,"welcome-banner"],[1,"banner-content"],[1,"text-group"],[1,"quick-status"],[1,"status-item"],[1,"value"],[1,"label"],[1,"v-divider"],[1,"stats-grid"],[1,"stat-card","glass-premium","graduate"],[1,"icon-wrap"],[1,"fas","fa-user-graduate"],[1,"stat-info"],[1,"count"],[1,"trend","up"],[1,"fas","fa-arrow-up"],[1,"stat-card","glass-premium","classes"],[1,"fas","fa-book-reader"],[1,"tag"],[1,"stat-card","glass-premium","resources"],[1,"fas","fa-file-invoice"],[1,"fas","fa-check-circle"],[1,"stat-card","glass-premium","messages"],[1,"fas","fa-envelope-open-text"],["class","trend alert",4,"ngIf"],[1,"content-row"],[1,"main-card","glass-premium","next-class"],[1,"card-header"],[1,"fas","fa-clock"],["routerLink","/staff/schedule",1,"btn-view-all"],[1,"fas","fa-chevron-right"],["class","class-info-wrap",4,"ngIf","ngIfElse"],[1,"quick-actions-card","glass-premium"],[1,"actions-grid"],["routerLink","/staff/notes",1,"action-btn"],[1,"fas","fa-pen-nib"],["routerLink","/staff/materials",1,"action-btn"],[1,"fas","fa-upload"],["routerLink","/staff/announcements",1,"action-btn"],[1,"fas","fa-bullhorn"],["routerLink","/staff/claims",1,"action-btn"],[1,"fas","fa-user-check"],[1,"chart-section","glass-premium"],[1,"chart-header"],[1,"titles"],[1,"filters"],[1,"glass-select"],[1,"chart-placeholder"],[1,"bar-chart"],["data-label","Lun",1,"bar",2,"height","60%"],["data-label","Mar",1,"bar",2,"height","85%"],["data-label","Mer",1,"bar",2,"height","45%"],["data-label","Jeu",1,"bar","active",2,"height","95%"],["data-label","Ven",1,"bar",2,"height","70%"],[1,"trend","alert"],[1,"class-info-wrap"],[1,"class-time-badge"],[1,"time"],[1,"duration"],[1,"class-details"],[1,"fas","fa-users"],[1,"location-tag"],[1,"fas","fa-location-dot"],[1,"class-actions"],[1,"btn-start"],[1,"fas","fa-clipboard-check"],[1,"btn-docs"],[1,"fas","fa-file-pdf"],[1,"empty-session"],[1,"fas","fa-mug-hot"]],template:function(a,c){if(a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),n(5),e(),t(6,"p"),n(7,"Pr\xEAt pour vos sessions d'aujourd'hui ? Vos \xE9tudiants vous attendent."),e()(),t(8,"div",5)(9,"div",6)(10,"span",7),n(11),e(),t(12,"span",8),n(13,"Modules"),e()(),o(14,"div",9),t(15,"div",6)(16,"span",7),n(17,"85%"),e(),t(18,"span",8),n(19,"Assiduit\xE9 Moy."),e()()()()(),t(20,"div",10)(21,"div",11)(22,"div",12),o(23,"i",13),e(),t(24,"div",14)(25,"span",8),n(26,"Total \xC9tudiants"),e(),t(27,"span",15),n(28),e(),t(29,"span",16),o(30,"i",17),n(31," +5% ce mois"),e()()(),t(32,"div",18)(33,"div",12),o(34,"i",19),e(),t(35,"div",14)(36,"span",8),n(37,"Modules Affect\xE9s"),e(),t(38,"span",15),n(39),e(),t(40,"span",20),n(41,"ISET Kairouan"),e()()(),t(42,"div",21)(43,"div",12),o(44,"i",22),e(),t(45,"div",14)(46,"span",8),n(47,"Supports Partag\xE9s"),e(),t(48,"span",15),n(49),e(),t(50,"span",16),o(51,"i",23),n(52," En ligne"),e()()(),t(53,"div",24)(54,"div",12),o(55,"i",25),e(),t(56,"div",14)(57,"span",8),n(58,"R\xE9clamations"),e(),t(59,"span",15),n(60),e(),m(61,w,2,0,"span",26),e()()(),t(62,"div",27)(63,"div",28)(64,"div",29)(65,"h3"),o(66,"i",30),n(67," Prochaine Session"),e(),t(68,"button",31),n(69,"Mon Planning "),o(70,"i",32),e()(),m(71,E,22,4,"div",33)(72,k,4,0,"ng-template",null,0,M),e(),t(74,"div",34)(75,"h3"),n(76,"Actions Rapides"),e(),t(77,"div",35)(78,"button",36),o(79,"i",37),t(80,"span"),n(81,"Saisir Notes"),e()(),t(82,"button",38),o(83,"i",39),t(84,"span"),n(85,"D\xE9poser TD"),e()(),t(86,"button",40),o(87,"i",41),t(88,"span"),n(89,"Avis Urgent"),e()(),t(90,"button",42),o(91,"i",43),t(92,"span"),n(93,"R\xE9clamations"),e()()()()(),t(94,"div",44)(95,"div",45)(96,"div",46)(97,"h3"),n(98,"Engagement des \xC9tudiants"),e(),t(99,"p"),n(100,"Participation et pr\xE9sence hebdomadaire par groupe"),e()(),t(101,"div",47)(102,"select",48)(103,"option"),n(104,"Tous les modules"),e(),t(105,"option"),n(106,"DSI 3.1"),e()()()(),t(107,"div",49)(108,"div",50),o(109,"div",51)(110,"div",52)(111,"div",53)(112,"div",54)(113,"div",55),e()()()()),a&2){let S=C(73);i(5),d("Bonjour, ",c.currentUser==null?null:c.currentUser.name," ! \u{1F44B}"),i(6),l(c.stats.totalModules),i(17),l(c.stats.totalStudents),i(11),l(c.stats.totalModules),i(10),l(c.stats.totalMaterials),i(11),l(c.stats.pendingClaims),i(),f("ngIf",c.stats.pendingClaims>0),i(10),f("ngIf",c.nextSession)("ngIfElse",S)}},dependencies:[P,_,b,O],styles:['.dashboard-ultra-pro[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;animation:_ngcontent-%COMP%_fadeIn .8s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.welcome-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e3a8a);border-radius:30px;padding:3rem;color:#fff;position:relative;overflow:hidden;box-shadow:0 20px 40px #0f172a33}.welcome-banner[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;right:-10%;width:400px;height:400px;background:radial-gradient(circle,rgba(245,158,11,.1) 0%,transparent 70%);border-radius:50%}.welcome-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1}.welcome-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:900;margin-bottom:.5rem;letter-spacing:-1px}.welcome-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#ffffffb3;font-weight:500}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]{display:flex;gap:3rem;align-items:center}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]   .v-divider[_ngcontent-%COMP%]{width:1px;height:50px;background:#ffffff1a}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;color:#f59e0b}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#ffffff80;text-transform:uppercase;font-weight:700}.glass-premium[_ngcontent-%COMP%]{background:#fffc;backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:1.8rem;box-shadow:0 10px 30px #00000008;transition:all .4s ease}.glass-premium[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #00000014}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card.graduate[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{background:#eff6ff;color:#0055a4}.stat-card.classes[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{background:#fffbeb;color:#f59e0b}.stat-card.resources[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{background:#ecfdf5;color:#10b981}.stat-card.messages[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{background:#fef2f2;color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;font-weight:600}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#0f172a;margin:.1rem 0}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%], .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .trend.up[_ngcontent-%COMP%]{color:#10b981}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .trend.down[_ngcontent-%COMP%]{color:#f59e0b}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .trend.alert[_ngcontent-%COMP%]{color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{color:#0055a4}.content-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.5rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#0f172a;display:flex;align-items:center;gap:.8rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0055a4}.card-header[_ngcontent-%COMP%]   .btn-view-all[_ngcontent-%COMP%]{background:none;border:none;font-weight:700;color:#0055a4;cursor:pointer;font-size:.9rem}.next-class[_ngcontent-%COMP%]   .class-info-wrap[_ngcontent-%COMP%]{background:#f8fafc;border-radius:20px;padding:2rem;display:flex;align-items:center;gap:2.5rem}.next-class[_ngcontent-%COMP%]   .empty-session[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#64748b}.next-class[_ngcontent-%COMP%]   .empty-session[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#cbd5e1}.next-class[_ngcontent-%COMP%]   .class-time-badge[_ngcontent-%COMP%]{background:#0055a4;color:#fff;padding:1rem 1.5rem;border-radius:16px;display:flex;flex-direction:column;align-items:center}.next-class[_ngcontent-%COMP%]   .class-time-badge[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:900}.next-class[_ngcontent-%COMP%]   .class-time-badge[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;opacity:.8}.next-class[_ngcontent-%COMP%]   .class-details[_ngcontent-%COMP%]{flex:1}.next-class[_ngcontent-%COMP%]   .class-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:800;color:#0f172a;margin-bottom:.5rem}.next-class[_ngcontent-%COMP%]   .class-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:600;margin-bottom:.8rem}.next-class[_ngcontent-%COMP%]   .class-details[_ngcontent-%COMP%]   .location-tag[_ngcontent-%COMP%]{font-size:.85rem;color:#0055a4;font-weight:800;display:inline-flex;align-items:center;gap:.5rem;background:#eff6ff;padding:.4rem 1rem;border-radius:10px}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:12px;border:none;font-weight:800;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.6rem}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button.btn-start[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button.btn-start[_ngcontent-%COMP%]:hover{background:#003e7a;transform:scale(1.05)}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button.btn-docs[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button.btn-docs[_ngcontent-%COMP%]:hover{background:#fde68a}.quick-actions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#0f172a;margin-bottom:2rem}.quick-actions-card[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:none;padding:1.5rem;border-radius:20px;display:flex;flex-direction:column;align-items:center;gap:1rem;cursor:pointer;transition:all .3s}.quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#0055a4}.quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:.85rem;color:#0f172a}.quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#0055a4}.quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .quick-actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.chart-section[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:3rem}.chart-section[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#0f172a;margin-bottom:.3rem}.chart-section[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:.95rem;font-weight:500}.chart-section[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .glass-select[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;padding:.6rem 1.2rem;border-radius:10px;font-family:inherit;font-weight:700;cursor:pointer}.chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{height:250px;display:flex;align-items:flex-end;padding-bottom:2rem;border-bottom:2px solid #f1f5f9}.chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:flex-end;gap:2rem;height:100%}.chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:40px;background:#cbd5e1;border-radius:8px 8px 4px 4px;position:relative;transition:all .6s cubic-bezier(.175,.885,.32,1.275)}.chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:after{content:attr(data-label);position:absolute;bottom:-30px;left:50%;transform:translate(-50%);font-size:.85rem;font-weight:700;color:#64748b}.chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:hover, .chart-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .bar.active[_ngcontent-%COMP%]{background:linear-gradient(to top,#0055a4,#00b4db);box-shadow:0 10px 20px #0055a433}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.content-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.welcome-banner[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.welcome-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:2rem}.welcome-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]{width:100%;justify-content:space-between;gap:1rem}.welcome-banner[_ngcontent-%COMP%]   .quick-status[_ngcontent-%COMP%]   .v-divider[_ngcontent-%COMP%]{display:none}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.2rem}.content-row[_ngcontent-%COMP%]{gap:1rem}.main-card[_ngcontent-%COMP%], .quick-actions-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:20px}.next-class[_ngcontent-%COMP%]   .class-info-wrap[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem;gap:1.5rem}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]{flex-direction:row;width:100%}.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;justify-content:center}.chart-section[_ngcontent-%COMP%]{padding:1.5rem}.chart-section[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;margin-bottom:2rem}}@media (max-width: 480px){.next-class[_ngcontent-%COMP%]   .class-actions[_ngcontent-%COMP%]{flex-direction:column}}']})}};export{v as StaffDashboardComponent};
