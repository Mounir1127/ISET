import{a as S}from"./chunk-GEXBFA6A.js";import"./chunk-6M42G65N.js";import{a as M,c as P}from"./chunk-EN3AVEG2.js";import{$b as x,Ja as s,Na as g,Sa as h,Xa as d,ac as C,cb as l,fb as _,fc as O,gb as o,hb as t,ib as p,mb as b,nb as m,tb as r,ub as c,vb as f}from"./chunk-PFXVN3LX.js";function y(i,n){if(i&1&&(o(0,"th"),r(1),t()),i&2){let e=n.$implicit;s(),c(e)}}function w(i,n){if(i&1&&(o(0,"div",14)(1,"span",15),r(2),t(),o(3,"span",16),r(4),t(),o(5,"div",17)(6,"span",18),p(7,"i",19),r(8),t(),o(9,"span",20),p(10,"i",21),r(11),t()(),o(12,"span",22),r(13),t()()),i&2){let e=n.ngIf;_(e.type.toLowerCase()),s(2),c(e.subject==null?null:e.subject.name),s(2),c(e.module==null?null:e.module.name),s(4),f(" ",e.room,""),s(3),f(" ",e.staff==null?null:e.staff.name,""),s(2),c(e.type)}}function I(i,n){if(i&1&&(o(0,"td"),d(1,w,14,7,"div",13),t()),i&2){let e=n.$implicit,a=m().$implicit,u=m();s(),l("ngIf",u.getSession(e,a))}}function E(i,n){if(i&1&&(o(0,"tr")(1,"td",12),r(2),t(),d(3,I,2,1,"td",11),t()),i&2){let e=n.$implicit,a=m();s(2),c(e),s(),l("ngForOf",a.days)}}var v=class i{constructor(n,e){this.http=n;this.authService=e;this.days=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"];this.timeSlots=["08:30","10:15","13:30","15:15"];this.scheduleItems=[];this.authService.currentUser.subscribe(a=>this.currentUser=a)}ngOnInit(){this.loadSchedule()}loadSchedule(){let n=this.currentUser?.classGroup?._id||this.currentUser?.classGroup;n&&this.http.get(`${P.apiUrl}/student/schedule`,{params:{classGroupId:n}}).subscribe({next:e=>this.scheduleItems=e,error:e=>console.error("Error loading schedule",e)})}getSession(n,e){return this.scheduleItems.find(a=>a.day===n&&a.startTime===e)}printSchedule(){window.print()}static{this.\u0275fac=function(e){return new(e||i)(g(M),g(S))}}static{this.\u0275cmp=h({type:i,selectors:[["app-student-schedule"]],decls:23,vars:2,consts:[[1,"schedule-container"],[1,"page-header","animate-fade-in"],[1,"title-area"],[1,"highlight"],[1,"text-muted"],[1,"actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-print","me-2"],[1,"schedule-grid-wrapper","animate-fade-up"],[1,"table-responsive","glass-card"],[1,"schedule-table"],[4,"ngFor","ngForOf"],[1,"time-slot"],["class","session-box",3,"class",4,"ngIf"],[1,"session-box"],[1,"subject"],[1,"module"],[1,"info-row"],[1,"room"],[1,"fas","fa-map-marker-alt"],[1,"staff"],[1,"fas","fa-user-tie"],[1,"type-tag"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),r(4,"Mon Emploi du "),o(5,"span",3),r(6,"Temps"),t()(),o(7,"p",4),r(8,"Consultez votre emploi du temps hebdomadaire officiel."),t()(),o(9,"div",5)(10,"button",6),b("click",function(){return a.printSchedule()}),p(11,"i",7),r(12," Imprimer "),t()()(),o(13,"div",8)(14,"div",9)(15,"table",10)(16,"thead")(17,"tr")(18,"th"),r(19,"Heure"),t(),d(20,y,2,1,"th",11),t()(),o(21,"tbody"),d(22,E,4,2,"tr",11),t()()()()()),e&2&&(s(20),l("ngForOf",a.days),s(2),l("ngForOf",a.timeSlots))},dependencies:[O,x,C],styles:[".schedule-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#0f172a}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0055a4}.glass-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:1.5rem;box-shadow:0 10px 15px -3px #0000000d;border:1px solid #f1f5f9}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:10px}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-weight:800;color:#475569;text-transform:uppercase;font-size:.8rem;letter-spacing:1px}.schedule-table[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{font-weight:700;color:#0055a4;background:#f8fafc;border-radius:12px;padding:1rem;text-align:center;width:120px;font-size:.9rem}.session-box[_ngcontent-%COMP%]{background:#eff6ff;border-left:4px solid #0055a4;padding:1rem;border-radius:12px;display:flex;flex-direction:column;gap:.4rem;min-height:100px;transition:all .3s ease;position:relative;overflow:hidden}.session-box[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 5px 15px #0000001a}.session-box[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-weight:800;font-size:.95rem;color:#1e3a8a}.session-box[_ngcontent-%COMP%]   .module[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600}.session-box[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:#475569;margin-top:.5rem}.session-box[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b;margin-right:3px}.session-box[_ngcontent-%COMP%]   .type-tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:#0055a4;color:#fff;font-size:.65rem;padding:2px 8px;border-bottom-left-radius:8px;font-weight:800}.session-box.td[_ngcontent-%COMP%]{background:#fef3c7;border-left-color:#f59e0b}.session-box.td[_ngcontent-%COMP%]   .type-tag[_ngcontent-%COMP%]{background:#f59e0b}.session-box.td[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{color:#92400e}.session-box.tp[_ngcontent-%COMP%]{background:#ecfdf5;border-left-color:#10b981}.session-box.tp[_ngcontent-%COMP%]   .type-tag[_ngcontent-%COMP%]{background:#10b981}.session-box.tp[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{color:#065f46}.btn-primary[_ngcontent-%COMP%]{background:#0055a4;color:#fff;padding:.8rem 1.5rem;border-radius:12px;font-weight:700;border:none;box-shadow:0 4px 12px #0055a433}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.animate-fade-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeUp .6s ease-out both}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.page-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.glass-card[_ngcontent-%COMP%]{padding:1rem;border-radius:20px}.schedule-grid-wrapper[_ngcontent-%COMP%]{margin:0 -1.5rem}.table-responsive[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none}.schedule-table[_ngcontent-%COMP%]{border-spacing:5px}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;font-size:.7rem}.schedule-table[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{width:80px;font-size:.8rem;padding:.8rem .5rem}.session-box[_ngcontent-%COMP%]{padding:.8rem;min-height:80px}.session-box[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:.8rem}.session-box[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{flex-direction:column;gap:.3rem}}"]})}};export{v as StudentScheduleComponent};
