import{a as S}from"./chunk-GJNKRY6E.js";import"./chunk-5PZCWADI.js";import{a as w}from"./chunk-JUIKBY4O.js";import{$b as h,Db as g,Eb as O,Fb as P,Ga as u,Ia as a,Ma as m,Ra as C,Wa as M,_b as x,bb as d,bc as y,cc as b,eb as f,ec as v,fb as t,gb as n,hb as c,mb as _,sb as r,tb as s,ub as p}from"./chunk-5SKKYWQC.js";function E(o,i){if(o&1&&(t(0,"div",8)(1,"div",9)(2,"div",10),c(3,"i"),n(),t(4,"div",11)(5,"h3"),r(6),n(),t(7,"p",12),r(8),n(),t(9,"div",13)(10,"span"),c(11,"i",14),r(12),n(),t(13,"span"),c(14,"i",15),r(15),n()()(),t(16,"a",16),c(17,"i",17),n()(),t(18,"div",18)(19,"span",19),r(20),g(21,"date"),n(),t(22,"span",20),r(23),g(24,"uppercase"),n()()()),o&2){let e=i.$implicit,l=_();a(2),f(e.fileType),a(),f(l.getFileIcon(e.fileType)),a(3),s(e.name),a(2),s(e.module==null?null:e.module.name),a(4),p(" ",e.uploadedBy==null?null:e.uploadedBy.name,""),a(3),p(" ",e.size,""),a(),d("href",e.fileUrl,u),a(4),p("Ajout\xE9 le ",P(21,11,e.createdAt,"dd MMM yyyy"),""),a(3),s(O(24,14,e.fileType))}}function z(o,i){o&1&&(t(0,"div",21),c(1,"i",22),t(2,"p"),r(3,"Aucun support n'est disponible pour votre classe pour le moment."),n()())}var I=class o{constructor(i,e){this.http=i;this.authService=e;this.materials=[];this.authService.currentUser.subscribe(l=>this.currentUser=l)}ngOnInit(){this.loadMaterials()}loadMaterials(){this.currentUser?.classGroup?._id&&this.http.get("/api/student/materials",{params:{classGroupId:this.currentUser.classGroup._id}}).subscribe({next:i=>this.materials=i,error:i=>console.error("Error loading materials",i)})}getFileIcon(i){switch(i){case"pdf":return"far fa-file-pdf";case"ppt":return"far fa-file-powerpoint";case"zip":return"far fa-file-archive";default:return"far fa-file-alt"}}static{this.\u0275fac=function(e){return new(e||o)(m(w),m(S))}}static{this.\u0275cmp=C({type:o,selectors:[["app-student-materials"]],decls:12,vars:2,consts:[[1,"materials-container"],[1,"page-header","animate-fade-in"],[1,"title-area"],[1,"highlight"],[1,"text-muted"],[1,"materials-grid","animate-fade-up"],["class","material-card glass-card",4,"ngFor","ngForOf"],["class","col-12 text-center py-5 empty-state",4,"ngIf"],[1,"material-card","glass-card"],[1,"card-body"],[1,"file-icon-wrap"],[1,"material-details"],[1,"module-name"],[1,"meta-info"],[1,"far","fa-user","me-1"],[1,"far","fa-hdd","me-1"],["target","_blank",1,"download-btn",3,"href"],[1,"fas","fa-download"],[1,"card-footer"],[1,"date"],[1,"file-type-badge"],[1,"col-12","text-center","py-5","empty-state"],[1,"fas","fa-folder-open","mb-3"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),r(4,"Cours & "),t(5,"span",3),r(6,"Supports"),n()(),t(7,"p",4),r(8,"Acc\xE9dez aux ressources partag\xE9es par vos enseignants."),n()()(),t(9,"div",5),M(10,E,25,16,"div",6)(11,z,4,0,"div",7),n()()),e&2&&(a(10),d("ngForOf",l.materials),a(),d("ngIf",l.materials.length===0))},dependencies:[v,x,h,y,b],styles:[".materials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#0f172a}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0055a4}.materials-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.glass-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 10px 15px -3px #0000000d;border:1px solid #f1f5f9;transition:all .3s ease}.glass-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a}.material-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.material-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;gap:1.2rem}.material-card[_ngcontent-%COMP%]   .file-icon-wrap[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:1.8rem}.material-card[_ngcontent-%COMP%]   .file-icon-wrap.pdf[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.material-card[_ngcontent-%COMP%]   .file-icon-wrap.ppt[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.material-card[_ngcontent-%COMP%]   .file-icon-wrap.zip[_ngcontent-%COMP%]{background:#6b72801a;color:#6b7280}.material-card[_ngcontent-%COMP%]   .file-icon-wrap.other[_ngcontent-%COMP%]{background:#0055a41a;color:#0055a4}.material-card[_ngcontent-%COMP%]   .material-details[_ngcontent-%COMP%]{flex:1}.material-card[_ngcontent-%COMP%]   .material-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin-bottom:.3rem}.material-card[_ngcontent-%COMP%]   .material-details[_ngcontent-%COMP%]   .module-name[_ngcontent-%COMP%]{color:#0055a4;font-weight:600;font-size:.85rem;margin-bottom:.5rem}.material-card[_ngcontent-%COMP%]   .material-details[_ngcontent-%COMP%]   .meta-info[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.75rem;color:#64748b;font-weight:500}.material-card[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#f8fafc;display:flex;align-items:center;justify-content:center;color:#0055a4;text-decoration:none;transition:all .2s ease}.material-card[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:hover{background:#0055a4;color:#fff}.material-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:#f8fafc;padding:.8rem 1.5rem;display:flex;justify-content:space-between;align-items:center}.material-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.7rem;color:#94a3b8;font-weight:600}.material-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .file-type-badge[_ngcontent-%COMP%]{font-size:.65rem;font-weight:900;color:#64748b;letter-spacing:1px}.empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:5rem;color:#94a3b8;border:2px dashed #e2e8f0}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;opacity:.2}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.animate-fade-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeUp .6s ease-out both}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}};export{I as StudentMaterialsComponent};
