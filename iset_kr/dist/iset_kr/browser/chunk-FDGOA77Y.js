import{b as I,d as k,h as T,n as z,o as D,q as N,w as F}from"./chunk-FP5P32BW.js";import{a as W}from"./chunk-HHETINLL.js";import"./chunk-EN3AVEG2.js";import{$ as S,$b as y,Ab as C,Bb as b,Ja as l,Na as x,Sa as M,Xa as g,_ as h,ac as w,cb as c,db as O,fc as E,gb as e,hb as n,ib as m,lb as P,mb as p,nb as u,tb as i,ub as f,vb as v,zb as _}from"./chunk-PFXVN3LX.js";function V(o,a){if(o&1&&(e(0,"option",20),i(1),n()),o&2){let t=a.$implicit;c("value",t._id),l(),f(t.name)}}function A(o,a){o&1&&(e(0,"div",21),m(1,"i",22),e(2,"p"),i(3,"Chargement des \xE9tudiants..."),n()())}function j(o,a){if(o&1&&m(0,"div",40),o&2){let t=u().$implicit;O("background-image","url("+t.photo+")")}}function Y(o,a){if(o&1&&(e(0,"div",41),i(1),n()),o&2){let t=u().$implicit;l(),v(" ",t.name.charAt(0)," ")}}function R(o,a){if(o&1){let t=P();e(0,"tr",27)(1,"td"),g(2,j,1,2,"div",28)(3,Y,2,1,"div",29),n(),e(4,"td")(5,"div",30)(6,"span",31),i(7),n(),e(8,"span",32),i(9),n()()(),e(10,"td")(11,"span",33),i(12),n()(),e(13,"td"),i(14),n(),e(15,"td")(16,"span",34),i(17),n()(),e(18,"td",35)(19,"button",36),p("click",function(){let d=h(t).$implicit,s=u(2);return S(s.viewProfile(d))}),m(20,"i",37),n(),e(21,"button",38),p("click",function(){let d=h(t).$implicit,s=u(2);return S(s.messageStudent(d))}),m(22,"i",39),n()()()}if(o&2){let t=a.$implicit;l(2),c("ngIf",t.photo),l(),c("ngIf",!t.photo),l(4),f(t.name),l(2),f(t.email),l(3),f(t.matricule),l(2),f((t.department==null?null:t.department.name)||"Inconnu"),l(3),f((t.classGroup==null?null:t.classGroup.name)||"N/A")}}function B(o,a){o&1&&(e(0,"div",42),m(1,"i",43),e(2,"h3"),i(3,"Aucun \xE9tudiant trouv\xE9"),n(),e(4,"p"),i(5,"Essayez d'ajuster vos filtres de recherche."),n()())}function G(o,a){if(o&1&&(e(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th"),i(5,"Photo"),n(),e(6,"th"),i(7,"Nom & Pr\xE9nom"),n(),e(8,"th"),i(9,"Matricule"),n(),e(10,"th"),i(11,"D\xE9partement"),n(),e(12,"th"),i(13,"Classe"),n(),e(14,"th"),i(15,"Actions"),n()()(),e(16,"tbody"),g(17,R,23,7,"tr",25),n()(),g(18,B,6,0,"div",26),n()),o&2){let t=u();l(17),c("ngForOf",t.filteredStudents),l(),c("ngIf",t.filteredStudents.length===0)}}var L=class o{constructor(a){this.staffService=a;this.searchTerm="";this.selectedClass="all";this.selectedSpecialty="all";this.loading=!1;this.students=[];this.filteredStudents=[];this.groups=[]}ngOnInit(){this.loadInitialData(),this.loadStudents()}loadInitialData(){this.groups=[{_id:"g1",name:"DSI 3.1"},{_id:"g2",name:"DSI 3.2"},{_id:"g3",name:"RSI 2.1"}]}loadStudents(){this.loading=!0,this.staffService.getStudents(this.selectedClass!=="all"?this.selectedClass:void 0).subscribe({next:a=>{this.students=a,this.filterStudents(),this.loading=!1},error:a=>{console.error("Error loading students",a),this.loading=!1}})}filterStudents(){let a=this.searchTerm.toLowerCase();this.filteredStudents=this.students.filter(t=>{let r=t.name.toLowerCase().includes(a)||t.matricule.includes(a),d=this.selectedSpecialty==="all"||t.specialty&&t.specialty===this.selectedSpecialty;return r&&d})}viewProfile(a){alert(`D\xE9tails de l'\xE9tudiant : ${a.name}`)}messageStudent(a){alert(`Contacter ${a.name}`)}exportList(){alert("Exportation de la liste au format Excel...")}static{this.\u0275fac=function(t){return new(t||o)(x(W))}}static{this.\u0275cmp=M({type:o,selectors:[["app-staff-students"]],decls:31,vars:6,consts:[[1,"students-management"],[1,"control-header","glass-card"],[1,"header-main"],[1,"title-wrap"],[1,"header-actions"],[1,"btn-primary",3,"click"],[1,"fas","fa-file-excel"],[1,"filters-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Rechercher par nom ou matricule...",3,"ngModelChange","input","ngModel"],[1,"select-group"],[1,"glass-select",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","Informatique"],["value","R\xE9seaux"],[1,"students-content","glass-card"],["class","loading-state",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"loading-state"],[1,"fas","fa-circle-notch","fa-spin"],[1,"table-responsive"],[1,"premium-table"],["class","student-row",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"student-row"],["class","student-avatar",3,"background-image",4,"ngIf"],["class","student-avatar-placeholder",4,"ngIf"],[1,"name-cell"],[1,"full-name"],[1,"email"],[1,"matricule-tag"],[1,"class-badge"],[1,"actions-cell"],["title","Voir profil",1,"action-btn",3,"click"],[1,"fas","fa-eye"],["title","Envoyer message",1,"action-btn",3,"click"],[1,"fas","fa-paper-plane"],[1,"student-avatar"],[1,"student-avatar-placeholder"],[1,"empty-state"],[1,"fas","fa-user-slash"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),i(5,"Mes \xC9tudiants"),n(),e(6,"p"),i(7,"Consultez les profils et les listes par groupe de votre d\xE9partement."),n()(),e(8,"div",4)(9,"button",5),p("click",function(){return r.exportList()}),m(10,"i",6),i(11," Exporter Liste "),n()()(),e(12,"div",7)(13,"div",8),m(14,"i",9),e(15,"input",10),b("ngModelChange",function(s){return C(r.searchTerm,s)||(r.searchTerm=s),s}),p("input",function(){return r.filterStudents()}),n()(),e(16,"div",11)(17,"select",12),b("ngModelChange",function(s){return C(r.selectedClass,s)||(r.selectedClass=s),s}),p("change",function(){return r.loadStudents()}),e(18,"option",13),i(19,"Toutes les classes"),n(),g(20,V,2,2,"option",14),n(),e(21,"select",12),b("ngModelChange",function(s){return C(r.selectedSpecialty,s)||(r.selectedSpecialty=s),s}),p("change",function(){return r.filterStudents()}),e(22,"option",13),i(23,"Toutes sp\xE9cialit\xE9s"),n(),e(24,"option",15),i(25,"G\xE9nie Informatique"),n(),e(26,"option",16),i(27,"R\xE9seaux & T\xE9l\xE9coms"),n()()()()(),e(28,"div",17),g(29,A,4,0,"div",18)(30,G,19,2,"div",19),n()()),t&2&&(l(15),_("ngModel",r.searchTerm),l(2),_("ngModel",r.selectedClass),l(3),c("ngForOf",r.groups),l(),_("ngModel",r.selectedSpecialty),l(8),c("ngIf",r.loading),l(),c("ngIf",!r.loading))},dependencies:[E,y,w,F,D,N,I,z,k,T],styles:[".students-management[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;animation:_ngcontent-%COMP%_slideUp .6s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.glass-card[_ngcontent-%COMP%]{background:#fffc;backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:2rem;box-shadow:0 10px 30px #0f172a08}.header-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#0f172a;letter-spacing:-.5px}.header-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:500}.header-main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:12px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:.8rem;transition:all .3s}.header-main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#003e7a;transform:translateY(-2px);box-shadow:0 8px 20px #0055a433}.filters-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;flex:1;min-width:300px}.filters-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#94a3b8}.filters-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#f1f5f9;border:1px solid transparent;padding:.8rem 1rem .8rem 3rem;border-radius:14px;font-family:inherit;font-weight:600;transition:all .3s}.filters-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;background:#fff;box-shadow:0 0 0 4px #0055a41a}.filters-row[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]{display:flex;gap:1rem}.filters-row[_ngcontent-%COMP%]   .glass-select[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid transparent;padding:.8rem 1.2rem;border-radius:14px;font-family:inherit;font-weight:700;color:#0f172a;cursor:pointer}.filters-row[_ngcontent-%COMP%]   .glass-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4}.premium-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 .8rem}.premium-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.5rem;text-align:left;font-size:.75rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:1px}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]{background:#fff;transition:all .3s}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.2rem 1.5rem;border-top:1px solid #f1f5f9;border-bottom:1px solid #f1f5f9;vertical-align:middle}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #f1f5f9;border-radius:16px 0 0 16px}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #f1f5f9;border-radius:0 16px 16px 0}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 10px 20px #0000000d}.premium-table[_ngcontent-%COMP%]   .student-row[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{border-color:#0055a4;background:#f0f7ff}.premium-table[_ngcontent-%COMP%]   .student-avatar[_ngcontent-%COMP%], .premium-table[_ngcontent-%COMP%]   .student-avatar-placeholder[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:12px;background-size:cover;background-position:center}.premium-table[_ngcontent-%COMP%]   .student-avatar-placeholder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#0077c8);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.2rem}.premium-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}.premium-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]   .full-name[_ngcontent-%COMP%]{font-weight:800;color:#0f172a;font-size:1rem}.premium-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;font-weight:500}.premium-table[_ngcontent-%COMP%]   .matricule-tag[_ngcontent-%COMP%]{background:#f1f5f9;padding:.4rem .8rem;border-radius:10px;font-size:.8rem;font-weight:900;color:#0055a4;font-family:monospace}.premium-table[_ngcontent-%COMP%]   .specialty-badge[_ngcontent-%COMP%]{font-weight:700;color:#d97706;background:#fffbeb;padding:.3rem .8rem;border-radius:8px;font-size:.8rem}.premium-table[_ngcontent-%COMP%]   .class-badge[_ngcontent-%COMP%]{font-weight:700;color:#0055a4;background:#eff6ff;padding:.3rem .8rem;border-radius:8px;font-size:.8rem}.premium-table[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;width:38px;height:38px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;margin-right:.5rem;cursor:pointer;transition:all .3s;color:#64748b}.premium-table[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#0055a4;color:#fff;border-color:#0055a4;transform:translateY(-2px)}.empty-state[_ngcontent-%COMP%]{padding:5rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#f1f5f9;margin-bottom:2rem;display:block}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#0f172a;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:500}.loading-state[_ngcontent-%COMP%]{padding:4rem;text-align:center;color:#64748b}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem;color:#cbd5e1}"]})}};export{L as StaffStudentsComponent};
