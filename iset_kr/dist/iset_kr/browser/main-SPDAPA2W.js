import{a as vt}from"./chunk-VY33TQ4F.js";import{a as Ce}from"./chunk-GJNKRY6E.js";import{a as Pa,b as wa,c as ka,d as Ii,f as $t,g as je,h as Ie,i as Gt,j as Ta,k as pe}from"./chunk-5PZCWADI.js";import{a as Aa,b as Be,c as J,d as Ue,e as Yt,f as Ia,g as Da,h as xt,i as Kt,k as Fa,l as wn,m as On,n as Ct,o as yt,p as La,q as Mt,t as Na,u as Ra,v as En,w as We,x as kn}from"./chunk-ADCJ3DLS.js";import{a as Oa,b as Ea}from"./chunk-JUIKBY4O.js";import{$ as D,$b as le,Ab as se,Cb as xa,D as Te,Db as ee,Eb as fe,Fa as fa,Fb as ct,Ga as Ve,Gb as Ca,Ia as h,Jb as ya,Ka as ga,Kb as bt,L as ma,M as ie,Ma as $,O as Ke,Qb as Ma,Ra as Q,T as Me,Ua as Ti,Wa as k,Zb as Ht,_ as I,_b as xe,a as De,ab as Kn,ac as Ai,b as ht,bb as y,bc as Pn,c as ra,cb as Oe,cc as ot,d as sa,db as z,eb as Ge,ec as X,fb as c,ga as ua,gb as m,hb as b,hc as tt,ib as Qn,j as ki,jb as Xn,kb as U,kc as Sa,lb as w,m as Mn,mb as P,oa as _t,ob as Ut,pa as pr,pb as Wt,qb as qt,r as aa,rb as ha,s as la,sa as pa,sb as p,tb as F,ub as q,vb as _a,wb as ba,x as ca,xb as va,y as da,yb as oe,z as Sn,zb as re}from"./chunk-5SKKYWQC.js";function em(i,t){if(i&1&&(c(0,"span",17),p(1),m()),i&2){let e=t.$implicit;h(),q(" ",e," ")}}function tm(i,t){if(i&1&&(c(0,"div",12)(1,"div",13),b(2,"i",14),p(3," Destin\xE9 \xE0: "),m(),c(4,"div",15),k(5,em,2,1,"span",16),m()()),i&2){let e=P();h(5),y("ngForOf",e.announcement.targetAudience)}}function nm(i,t){if(i&1){let e=U();c(0,"div",24),b(1,"i",25),c(2,"span",26),p(3),m(),c(4,"button",27),w("click",function(){let o=I(e).$implicit,r=P(3);return D(r.downloadAttachment(o))}),b(5,"i",28),m()()}if(i&2){let e=t.$implicit;h(3),F(e.name)}}function im(i,t){if(i&1&&(c(0,"div",22),k(1,nm,6,1,"div",23),m()),i&2){let e=P(2);h(),y("ngForOf",e.announcement.attachments)}}function om(i,t){if(i&1){let e=U();c(0,"div",18)(1,"button",19),w("click",function(){I(e);let o=P();return D(o.toggleAttachments())}),b(2,"i",20),p(3),m(),k(4,im,2,1,"div",21),m()}if(i&2){let e=P();h(3),ba(" ",e.getAttachmentCount()," pi\xE8ce",e.getAttachmentCount()>1?"s":""," jointe",e.getAttachmentCount()>1?"s":""," "),h(),y("ngIf",e.showAttachments)}}var Di=class i{constructor(){this.showNumber=!0;this.showArabic=!0;this.showDetails=!1;this.compact=!1;this.isExpanded=!1;this.showAttachments=!1}ngOnInit(){if(!this.announcement)throw new Error("Announcement input is required");!this.announcement.date&&this.announcement.publishDate&&(this.announcement.date=this.announcement.publishDate)}toggleExpand(){this.isExpanded=!this.isExpanded}toggleAttachments(){this.showAttachments=!this.showAttachments}openStudentSpace(){window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer")}downloadAttachment(t){let e=document.createElement("a");e.href=t.url,e.download=t.name,document.body.appendChild(e),e.click(),document.body.removeChild(e)}getPriorityColor(){return{high:"#d32f2f",medium:"#f57c00",low:"#0055a4"}[this.announcement.priority||"low"]}getPriorityIcon(){return{high:"fa-exclamation-circle",medium:"fa-exclamation-triangle",low:"fa-info-circle"}[this.announcement.priority||"low"]}getDay(){return this.announcement.date?new Date(this.announcement.date).getDate().toString().padStart(2,"0"):""}getMonth(){if(!this.announcement.date)return"";let t=new Date(this.announcement.date);return["Janv.","F\xE9vr.","Mars","Avr.","Mai","Juin","Juil.","Ao\xFBt","Sept.","Oct.","Nov.","D\xE9c."][t.getMonth()]}getFormattedDate(){return this.announcement.date?new Date(this.announcement.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):""}hasAttachments(){return!!this.announcement.attachments&&this.announcement.attachments.length>0}getAttachmentCount(){return this.announcement.attachments?.length||0}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-announcement-card"]],inputs:{announcement:"announcement",showNumber:"showNumber",showArabic:"showArabic",showDetails:"showDetails",compact:"compact"},decls:19,vars:19,consts:[[1,"announcement-card"],[1,"announcement-image"],[3,"src","alt"],[1,"announcement-date-bar"],[1,"far","fa-calendar-alt","me-2"],[1,"announcement-body"],[1,"announcement-title"],[1,"details-link",3,"click"],[1,"ms-1"],[1,"announcement-extra-details"],["class","target-audience","style","margin-top: 1rem; padding: 0.8rem; background: white; border-radius: 8px;",4,"ngIf"],["class","announcement-attachments","style","margin-top: 1rem;",4,"ngIf"],[1,"target-audience",2,"margin-top","1rem","padding","0.8rem","background","white","border-radius","8px"],[2,"font-weight","600","color","#0055a4","margin-bottom","0.5rem","font-size","0.85rem"],[1,"fas","fa-users"],[2,"display","flex","flex-wrap","wrap","gap","0.5rem"],["style","background: rgba(0,85,164,0.1); color: #0055a4; padding: 0.3rem 0.8rem; border-radius: 12px; font-size: 0.8rem; font-weight: 600;",4,"ngFor","ngForOf"],[2,"background","rgba(0,85,164,0.1)","color","#0055a4","padding","0.3rem 0.8rem","border-radius","12px","font-size","0.8rem","font-weight","600"],[1,"announcement-attachments",2,"margin-top","1rem"],[2,"background","rgba(0,85,164,0.1)","color","#0055a4","border","none","padding","0.6rem 1rem","border-radius","8px","font-weight","600","cursor","pointer","font-size","0.85rem",3,"click"],[1,"fas","fa-paperclip"],["style","margin-top: 0.8rem; background: white; border-radius: 8px; padding: 0.8rem;",4,"ngIf"],[2,"margin-top","0.8rem","background","white","border-radius","8px","padding","0.8rem"],["style","display: flex; align-items: center; gap: 0.8rem; padding: 0.6rem; background: #f8fafc; border-radius: 6px; margin-bottom: 0.5rem;",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","gap","0.8rem","padding","0.6rem","background","#f8fafc","border-radius","6px","margin-bottom","0.5rem"],[1,"fas","fa-file",2,"color","#0055a4"],[2,"flex","1","font-size","0.85rem","color","#334155"],[2,"background","none","border","none","color","#f59e0b","cursor","pointer","padding","0.3rem",3,"click"],[1,"fas","fa-download"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1),b(2,"img",2),m(),c(3,"div",3),b(4,"i",4),c(5,"span"),p(6),ee(7,"date"),m()(),c(8,"div",5)(9,"h3",6),p(10),m(),c(11,"button",7),w("click",function(){return n.toggleExpand()}),p(12),b(13,"i",8),m()(),c(14,"div",9)(15,"p"),p(16),m(),k(17,tm,6,1,"div",10)(18,om,5,4,"div",11),m()()),e&2&&(z("expanded",n.isExpanded),h(2),y("src",n.announcement.image||"assets/images/default-announcement.jpg",Ve)("alt",n.announcement.title),h(4),F(ct(7,16,n.announcement.date,"dd. MMM. yyyy")||"Date \xE0 venir"),h(4),F(n.announcement.title),h(2),q(" ",n.isExpanded?"R\xC9DUIRE":"PLUS DE D\xC9TAILS"," "),h(),z("fa-chevron-up",n.isExpanded)("fa-arrow-right",!n.isExpanded),h(),z("show",n.isExpanded),h(2),F(n.announcement.content),h(),y("ngIf",n.announcement.targetAudience&&n.announcement.targetAudience.length>0),h(),y("ngIf",n.hasAttachments()))},dependencies:[X,xe,le,ot],styles:[".announcement-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;overflow:hidden;box-shadow:0 10px 40px #0000000a;transition:all .5s cubic-bezier(.16,1,.3,1);display:flex;flex-direction:column;border:1px solid rgba(0,0,0,.04);min-height:450px;height:auto}.announcement-card.expanded[_ngcontent-%COMP%]{box-shadow:0 30px 60px #0000001f}.announcement-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px);box-shadow:0 25px 50px #0000001a}.announcement-card[_ngcontent-%COMP%]:hover   .announcement-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.08)}.announcement-card[_ngcontent-%COMP%]:hover   .details-link[_ngcontent-%COMP%]{gap:1.2rem;color:#004494}.announcement-image[_ngcontent-%COMP%]{height:240px;overflow:hidden;background:#f1f5f9;position:relative}.announcement-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform 1s cubic-bezier(.16,1,.3,1)}.announcement-date-bar[_ngcontent-%COMP%]{background:#0055a4;color:#fff;padding:1rem 1.8rem;font-size:.85rem;font-weight:700;display:flex;align-items:center;letter-spacing:.5px}.announcement-date-bar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;opacity:.9}.announcement-body[_ngcontent-%COMP%]{padding:2.2rem;flex:1;display:flex;flex-direction:column;justify-content:space-between}.announcement-title[_ngcontent-%COMP%]{color:#1a1a1a;font-size:1.4rem;font-weight:800;margin-bottom:2.5rem;line-height:1.3;text-transform:none}.details-link[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;color:#c33;font-weight:900;font-size:.85rem;letter-spacing:1.5px;display:flex;align-items:center;gap:.6rem;transition:all .4s ease;cursor:pointer;text-transform:uppercase}.details-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .4s ease;font-size:1rem}.announcement-extra-details[_ngcontent-%COMP%]{max-height:0;opacity:0;overflow:hidden;transition:all .6s cubic-bezier(.16,1,.3,1);background:#fdfdfd;transform:translateY(-10px)}.announcement-extra-details.show[_ngcontent-%COMP%]{max-height:1200px;opacity:1;transform:translateY(0);padding:2.5rem;border-top:1px solid rgba(0,0,0,.05);border-left:5px solid #0055a4;box-shadow:inset 0 10px 20px #00000005}.announcement-extra-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;line-height:1.8;font-size:1.05rem;margin-bottom:0}@media (max-width: 768px){.announcement-card[_ngcontent-%COMP%]{min-height:auto;border-radius:16px}.announcement-image[_ngcontent-%COMP%]{height:180px}.announcement-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-title[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:1.5rem}.announcement-extra-details.show[_ngcontent-%COMP%]{padding:1.5rem}}"]})}};var rm=["clubsScrollContainer"],sm=["galleryScrollContainer"],am=["academicScrollContainer"],lm=["industrialScrollContainer"],cm=["internationalScrollContainer"];function dm(i,t){if(i&1){let e=U();c(0,"div",142),b(1,"div",143)(2,"div",144),c(3,"div",145)(4,"div",146),b(5,"h1",147),c(6,"p",148),p(7),m(),c(8,"div",149)(9,"a",150),b(10,"i",151),p(11," EXPLORER NOS FORMATIONS "),m(),c(12,"button",152),w("click",function(){I(e);let o=P();return D(o.openStudentSpace())}),b(13,"i",153),p(14," ESPACE \xC9TUDIANT "),m()()()()()}if(i&2){let e=t.$implicit,n=t.index,o=P();z("active",n===o.currentHeroSlide),h(),Oe("background-image","url("+e.image+")"),h(4),y("innerHTML",e.title,fa),h(2),F(e.subtitle)}}function mm(i,t){if(i&1){let e=U();c(0,"button",154),w("click",function(){let o=I(e).index,r=P();return D(r.goToSlide(o))}),m()}if(i&2){let e=t.index,n=P();z("active",e===n.currentHeroSlide)}}function um(i,t){if(i&1&&(c(0,"div",155)(1,"div",156)(2,"div",157),b(3,"i"),m(),c(4,"h3",158),p(5),c(6,"span",159),p(7,"+"),m()(),c(8,"p",160),p(9),m()()()),i&2){let e=t.$implicit,n=t.index;h(),Ge("delay-"+(n+1)),h(2),Ge(e.icon),h(2),F(e.value),h(4),F(e.label)}}function pm(i,t){if(i&1&&(c(0,"div",161),b(1,"app-announcement-card",162),m()),i&2){let e=t.$implicit;h(),y("announcement",e)}}function fm(i,t){i&1&&(c(0,"div",163)(1,"div",164),b(2,"i",165),m(),c(3,"p",166),p(4,"Aucune publication dans cette cat\xE9gorie."),m()())}function gm(i,t){i&1&&(c(0,"div",167)(1,"a",168),p(2,"VOIR TOUTES les actualit\xE9s "),b(3,"i",169),m()())}function hm(i,t){if(i&1&&(c(0,"a",170)(1,"div",171),b(2,"i"),m(),c(3,"h4",172),p(4),m(),c(5,"p",173),p(6),m(),c(7,"span",174),p(8,"REJOINDRE LE CLUB "),b(9,"i",175),m()()),i&2){let e=t.$implicit;y("href",e.link,Ve),h(2),Ge(e.icon),h(2),F(e.name),h(2),F(e.description)}}function _m(i,t){if(i&1&&(c(0,"a",176),b(1,"img",177),m()),i&2){let e=t.$implicit;y("href","#",Ve),h(),y("src",e.logo,Ve)("alt",e.name)("title",e.name)}}function bm(i,t){if(i&1&&(c(0,"a",176),b(1,"img",177),m()),i&2){let e=t.$implicit;y("href",e.link||"#",Ve),h(),y("src",e.logo,Ve)("alt",e.name)("title",e.name)}}function vm(i,t){if(i&1&&(c(0,"a",178),b(1,"img",177),m()),i&2){let e=t.$implicit;y("href",e.link||"#",Ve),h(),y("src",e.logo,Ve)("alt",e.name)("title",e.name)}}function xm(i,t){if(i&1){let e=U();c(0,"div",179),w("click",function(){let o=I(e).$implicit,r=P();return D(r.openImagePreview(o))}),b(1,"img",180),c(2,"div",181),b(3,"i",182),m()()}if(i&2){let e=t.$implicit;h(),y("src",e,Ve)}}var Fi=class i{constructor(t,e,n,o){this.dataService=t;this.authService=e;this.cdr=n;this.sanitizer=o;this.services=[];this.certificates=[];this.announcements=[];this.stats=[];this.isLoading={services:!0,certificates:!0,announcements:!0,stats:!0};this.hero={title:"Excellence Acad\xE9mique & Innovation Technologique",subtitle:"L'ISET Kairouan forme les techniciens sup\xE9rieurs et ing\xE9nieurs de demain dans les domaines de l'informatique, des t\xE9l\xE9communications et du g\xE9nie \xE9lectrique.",backgroundImage:"assets/images/campus/hero-bg.jpg",ctaButtons:[{text:"D\xC9COUVRIR NOS FORMATIONS",link:"/formations",variant:"primary"},{text:"ESPACE \xC9TUDIANT",action:"openStudentSpace",variant:"secondary"}]};this.practicalServices={title:"Services Pratiques Aux \xC9tudiants",subtitle:"Acc\xE9dez \xE0 tous les services en ligne essentiels pour votre parcours acad\xE9mique",servicesList:[{icon:"fa-user-check",text:"INSCRIPTION EN LIGNE"},{icon:"fa-download",text:"ESPACE T\xC9L\xC9CHARGEMENT"},{icon:"fa-book",text:"BIBLIOTH\xC8QUE EN LIGNE"},{icon:"fa-newspaper",text:"PLAQUETTES P\xC9DAGOGIQUES"},{icon:"fa-calendar-alt",text:"EMPLOI DU TEMPS"},{icon:"fa-chart-line",text:"R\xC9SULTATS & NOTES",action:"openStudentSpace"}]};this.manifestations=[];this.appelsOffre=[];this.nouveautes=[];this.activeTab="all";this.currentHeroSlide=0;this.heroSlides=[{title:'EXCELLENCE<br><span class="highlight">ACAD\xC9MIQUE</span> &<br>INNOVATION',subtitle:"L'ISET Kairouan forme les techniciens sup\xE9rieurs et ing\xE9nieurs de demain",image:"assets/images/images_iset/Image8.jpg"},{title:`FORMATIONS<br><span class="highlight">TECHNOLOGIQUES</span><br>D'EXCELLENCE`,subtitle:"Des parcours adapt\xE9s aux besoins de l'industrie moderne",image:"assets/images/images_iset/Image9.jpg"},{title:'INNOVATION<br>& <span class="highlight">RECHERCHE</span><br>APPLIQU\xC9E',subtitle:"Un environnement propice \xE0 la cr\xE9ativit\xE9 et \xE0 l'innovation",image:"assets/images/images_iset/Image10.jpg"},{title:'VIE<br><span class="highlight">UNIVERSITAIRE</span><br>DYNAMIQUE',subtitle:"Plus qu'une formation, une exp\xE9rience humaine et associative unique",image:"assets/images/images_iset/493688342_1038981721665537_4271788476003824290_n.jpg"},{title:'PARTENARIATS<br><span class="highlight">STRAT\xC9GIQUES</span><br>SOLIDES',subtitle:"Une ouverture constante sur le monde professionnel et international",image:"assets/images/images_iset/600299781_122153593976891020_5618636641594002043_n.jpg"},{title:'ATELIERS<br>& <span class="highlight">PRATIQUE</span><br>INTENSIVE',subtitle:"Le savoir-faire au coeur de notre p\xE9dagogie active",image:"assets/images/images_iset/atelie2.jpg"},{title:'D\xC9PARTEMENT<br><span class="highlight">G\xC9NIE M\xC9CANIQUE</span>',subtitle:"17 Enseignants experts \xE0 votre service",image:"assets/images/images_iset/image17.jpg"},{title:'D\xC9PARTEMENT<br><span class="highlight">G\xC9NIE \xC9LECTRIQUE</span>',subtitle:"14 Enseignants sp\xE9cialis\xE9s",image:"assets/images/images_iset/imge14.jpg"},{title:'D\xC9PARTEMENT<br><span class="highlight">TECHNOLOGIES INFO.</span>',subtitle:"11 Enseignants \xE0 la pointe du num\xE9rique",image:"assets/images/images_iset/image11.jpg"},{title:'SECTION<br><span class="highlight">ADMIN. AFFAIRES</span>',subtitle:"8 Consultants et enseignants d\xE9di\xE9s",image:"assets/images/images_iset/image12.jpg"},{title:'D\xC9VELOPPEMENT<br><span class="highlight">MOBILE & WEB</span>',subtitle:"Formation pratique sur les derni\xE8res technologies",image:"assets/images/images_iset/image13.jpg"},{title:'LABORATOIRES<br><span class="highlight">DE POINTE</span>',subtitle:"\xC9quipements modernes pour vos travaux pratiques",image:"assets/images/images_iset/image15.jpg"},{title:'\xC9NERGIES<br><span class="highlight">RENOUVELABLES</span>',subtitle:"Pr\xE9parer la transition \xE9nerg\xE9tique",image:"assets/images/images_iset/image18.jpg"},{title:`ESPRIT<br><span class="highlight">D'INNOVATION</span>`,subtitle:"Encourager la cr\xE9ativit\xE9 de nos \xE9tudiants",image:"assets/images/images_iset/image19.jpg"}];this.campusImages=["assets/images/images_iset/image11.jpg","assets/images/images_iset/image12.jpg","assets/images/images_iset/image13.jpg","assets/images/images_iset/imge14.jpg","assets/images/images_iset/image15.jpg","assets/images/images_iset/image16.jpg","assets/images/images_iset/image17.jpg","assets/images/images_iset/image18.jpg","assets/images/images_iset/image19.jpg","assets/images/images_iset/Image8.jpg","assets/images/images_iset/Image9.jpg","assets/images/images_iset/Image10.jpg","assets/images/images_iset/atelie2.jpg"];this.weatherData={temp:24,condition:"Ensoleill\xE9",location:"Kairouan, TN",icon:"fas fa-sun"};this.clubs=[{name:"Scouts ISET KR",link:"https://www.facebook.com/profile.php?id=61572859037569",icon:"fas fa-campground",description:"Toujours pr\xEAts pour servir et guider."},{name:"IEEE Student Branch",link:"https://www.facebook.com/IEEE.iset.Kairouan.sb",icon:"fas fa-microchip",description:"Technologie et innovation pour l'humanit\xE9."},{name:"Club AI",link:"https://www.facebook.com/profile.php?id=61559044582386",icon:"fas fa-brain",description:"Exploration de l'intelligence artificielle."},{name:"Club Edujoy",link:"https://www.facebook.com/profile.php?id=61550578007610",icon:"fas fa-gamepad",description:"Apprendre en s'amusant et innovant."},{name:"Club CGM",link:"https://www.facebook.com/profile.php?id=61570112363480",icon:"fas fa-cogs",description:"Conception et g\xE9nie m\xE9canique cr\xE9atif."},{name:"Club IT",link:"https://www.facebook.com/itisetkr",icon:"fas fa-laptop-code",description:"D\xE9veloppement, r\xE9seaux et technologies IT."},{name:"Club Robotique",link:"https://www.facebook.com/profile.php?id=61574105670014",icon:"fas fa-robot",description:"Construction et programmation de robots."},{name:"Club Sport",link:"https://www.facebook.com/profile.php?id=61576730609220",icon:"fas fa-futbol",description:"Esprit d'\xE9quipe et activit\xE9 physique."},{name:"Club Sant\xE9 et Env.",link:"https://www.facebook.com/profile.php?id=61583378950279",icon:"fas fa-leaf",description:"Sensibilisation \xE0 la sant\xE9 et l'\xE9cologie."}];this.selectedImage=null;this.internationalPartners=[{name:"AUF",logo:"assets/images/nos_parteners/AUF.png"},{name:"KOICA",logo:"assets/images/nos_parteners/KOICA.png"},{name:"PNUD",logo:"assets/images/nos_parteners/UNDP.png"},{name:"AFD",logo:"assets/images/nos_parteners/AFD.jpg"}];this.academicPartners=[{name:"Universit\xE9 de Kairouan",logo:"assets/images/nos_parteners/Universit\xE9%20de%20Kairouan.png"},{name:"Canada",logo:"assets/images/nos_parteners/canada.png"},{name:"CNFCPP",logo:"assets/images/nos_parteners/CNFCPP.png"},{name:"CNFCCP",logo:"assets/images/nos_parteners/CNFCCP.jpg"},{name:"ESPITA",logo:"assets/images/nos_parteners/ESPITA.jpg"},{name:"IHE Sousse",logo:"assets/images/nos_parteners/ihesousse_logo.jpg"},{name:"ASH",logo:"assets/images/nos_parteners/ASH.jpg"},{name:"Jannet",logo:"assets/images/nos_parteners/Jannet.jpg"},{name:"MTK",logo:"assets/images/nos_parteners/MTK.jpg"}];this.industrialPartners=[{name:"Orange Digital Center",logo:"assets/images/nos_parteners/orange.png",link:"https://engageforchange.orange.com"},{name:"4C ISET Kairouan",logo:"assets/images/nos_parteners/4C.png"},{name:"GoMyCode",logo:"assets/images/nos_parteners/GomyCode.png"},{name:"JCI Kairouan",logo:"assets/images/nos_parteners/jci_kr.jpg"},{name:"ANME",logo:"assets/images/nos_parteners/ANME.jpg"},{name:"APII",logo:"assets/images/nos_parteners/APII.png"},{name:"UTICA",logo:"assets/images/nos_parteners/Logo_UTICA.gif"},{name:"Landor",logo:"assets/images/nos_parteners/LANDOR.jpg"},{name:"Sabrine",logo:"assets/images/nos_parteners/Sabrine.jpg"},{name:"Vizmerald",logo:"assets/images/nos_parteners/vizmerald.png"}];this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3234.331393661148!2d10.06060751510976!3d35.59818278021374!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12fdd0beb969169d%3A0x1410192ef187ce3a!2sInstitut%20Sup%C3%A9rieur%20des%20%C3%89tudes%20Technologiques%20de%20Kairouan!5e0!3m2!1sfr!2stn!4v1709999999999!5m2!1sfr!2stn")}scrollClubs(t){let e=this.clubsScrollContainer.nativeElement,n=400;t==="left"?e.scrollBy({left:-n,behavior:"smooth"}):e.scrollBy({left:n,behavior:"smooth"})}scrollPartners(t,e){let n;t==="academic"?n=this.academicScrollContainer.nativeElement:t==="industrial"?n=this.industrialScrollContainer.nativeElement:n=this.internationalScrollContainer.nativeElement;let o=300;e==="left"?n.scrollBy({left:-o,behavior:"smooth"}):n.scrollBy({left:o,behavior:"smooth"})}scrollGallery(t){let e=this.galleryScrollContainer.nativeElement,n=500;t==="left"?e.scrollBy({left:-n,behavior:"smooth"}):e.scrollBy({left:n,behavior:"smooth"})}ngOnInit(){let t=this.authService.getCurrentUser();this.loadAllData(),this.startHeroCarousel(),this.initScrollAnimations(),this.dataService.refreshAnnouncementsRequested$.subscribe(()=>{this.loadAnnouncements(),this.loadStats()})}startHeroCarousel(){setInterval(()=>{this.currentHeroSlide=(this.currentHeroSlide+1)%this.heroSlides.length},5e3)}nextSlide(){this.currentHeroSlide=(this.currentHeroSlide+1)%this.heroSlides.length}prevSlide(){this.currentHeroSlide=(this.currentHeroSlide-1+this.heroSlides.length)%this.heroSlides.length}goToSlide(t){this.currentHeroSlide=t}initScrollAnimations(){if(typeof window<"u"){let t={threshold:.1,rootMargin:"0px 0px -100px 0px"},e=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-in")})},t);setTimeout(()=>{document.querySelectorAll(".animate-on-scroll").forEach(n=>{e.observe(n)})},100)}}loadAllData(){this.loadServices(),this.loadCertificates(),this.loadAnnouncements(),this.loadStats()}loadServices(){this.isLoading.services=!0,this.dataService.getServices().subscribe({next:t=>{this.services=t,this.isLoading.services=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading services:",t),this.isLoading.services=!1,this.cdr.detectChanges()}})}loadCertificates(){this.isLoading.certificates=!0,this.dataService.getCertificates().subscribe({next:t=>{this.certificates=t,this.isLoading.certificates=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading certificates:",t),this.isLoading.certificates=!1,this.cdr.detectChanges()}})}loadAnnouncements(){this.isLoading.announcements=!0,this.dataService.getAnnouncements().pipe(Te(()=>{this.isLoading.announcements=!1,this.cdr.detectChanges()})).subscribe({next:t=>{if(!t){console.warn("[Home] No announcements payload received"),this.announcements=[];return}this.announcements=t.map(e=>{let n=e.type?.toLowerCase()||"news";return n==="academic"&&(n="news"),n==="administrative"&&(n="tender"),ht(De({},e),{type:n})}),this.announcements.sort((e,n)=>{let o=new Date(e.date||e.publishDate||0).getTime();return new Date(n.date||n.publishDate||0).getTime()-o}),this.manifestations=this.announcements.filter(e=>e.type==="event"),this.appelsOffre=this.announcements.filter(e=>e.type==="tender"),this.nouveautes=this.announcements.filter(e=>e.type==="news"),this.cdr.detectChanges()},error:t=>{console.error("[Home] Erreur chargement annonces:",t),this.announcements=[],this.manifestations=[],this.appelsOffre=[],this.nouveautes=[],this.cdr.detectChanges()}})}setActiveTab(t){this.activeTab=t,setTimeout(()=>this.initScrollAnimations(),200)}get filteredItems(){switch(this.activeTab){case"all":return this.announcements;case"news":return this.nouveautes;case"event":return this.manifestations;case"tender":return this.appelsOffre;default:return this.announcements}}loadStats(){this.isLoading.stats=!0,this.dataService.getStats().subscribe({next:t=>{this.stats=[{value:1122,label:"\xC9TUDIANTS",icon:"fas fa-user-graduate",color:"#0055a4"},{value:99,label:"ENSEIGNANTS",icon:"fas fa-chalkboard-teacher",color:"#0077c8"},{value:10,label:"PROF. ENS. SUP.",icon:"fas fa-user-tie",color:"#d32f2f"},{value:39,label:"VACATAIRES",icon:"fas fa-clock",color:"#fbc02d"}],this.isLoading.stats=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading stats:",t),this.stats=[{value:1122,label:"\xC9TUDIANTS",icon:"fas fa-user-graduate",color:"#0055a4"},{value:99,label:"ENSEIGNANTS",icon:"fas fa-chalkboard-teacher",color:"#0077c8"},{value:10,label:"PROF. ENS. SUP.",icon:"fas fa-user-tie",color:"#d32f2f"},{value:39,label:"VACATAIRES",icon:"fas fa-clock",color:"#fbc02d"}],this.isLoading.stats=!1,this.cdr.detectChanges()}})}openStudentSpace(){window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer")}trackByService(t,e){return e.id}trackByCertificate(t,e){return e.id}trackByAnnouncement(t,e){return e.id}trackByStat(t,e){return e.label}get isLoadingAll(){return Object.values(this.isLoading).some(t=>t)}openImagePreview(t){this.selectedImage=t,typeof document<"u"&&(document.body.style.overflow="hidden")}closeImagePreview(){this.selectedImage=null,typeof document<"u"&&(document.body.style.overflow="auto")}static{this.\u0275fac=function(e){return new(e||i)($(vt),$(Ce),$(bt),$(ka))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-home"]],viewQuery:function(e,n){if(e&1&&(Ut(rm,5),Ut(sm,5),Ut(am,5),Ut(lm,5),Ut(cm,5)),e&2){let o;Wt(o=qt())&&(n.clubsScrollContainer=o.first),Wt(o=qt())&&(n.galleryScrollContainer=o.first),Wt(o=qt())&&(n.academicScrollContainer=o.first),Wt(o=qt())&&(n.industrialScrollContainer=o.first),Wt(o=qt())&&(n.internationalScrollContainer=o.first)}},decls:262,vars:19,consts:[["clubsScrollContainer",""],["internationalScrollContainer",""],["academicScrollContainer",""],["industrialScrollContainer",""],["galleryScrollContainer",""],[1,"home-page","overflow-hidden"],["id","hero",1,"vh-100","position-relative","bg-dark"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","carousel-fade","h-100"],[1,"carousel-inner","h-100"],["class","carousel-item h-100",3,"active",4,"ngFor","ngForOf"],[1,"carousel-indicators","mb-5","justify-content-start","ms-4","ms-lg-5","ps-lg-4"],["type","button","class","rounded-pill mx-1","style","width: 30px; height: 4px;",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-control-prev","h-25","my-auto","ms-4",3,"click"],[1,"carousel-icon-box","shadow-sm"],[1,"fas","fa-chevron-left"],[1,"carousel-control-next","h-25","my-auto","me-4",3,"click"],[1,"fas","fa-chevron-right"],[1,"scroll-indicator-box","position-absolute","bottom-0","start-50","translate-middle-x","mb-4"],[1,"mouse-scroll","shadow-sm"],[1,"wheel"],[1,"stats-section","position-relative","py-5"],[1,"container","mt-neg-100","position-relative","z-3"],[1,"row","g-4","justify-content-center"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"news-section","py-10","bg-white","position-relative"],[1,"container","position-relative","z-2"],[1,"row","align-items-end","mb-5"],[1,"col-lg-7"],[1,"d-inline-flex","align-items-center","gap-3","mb-2"],[1,"d-inline-block","bg-gold",2,"width","40px","height","4px","border-radius","2px"],[1,"text-gold","fw-bold","ls-2","text-uppercase","small"],[1,"display-4","fw-black","text-navy","mb-0","ls-tight"],[1,"text-gold-gradient"],[1,"col-lg-5","text-lg-end","mt-4","mt-lg-0"],[1,"nav-filter-pro","d-inline-flex","gap-4"],[1,"filter-btn",3,"click"],[1,"row","g-4"],["class","col-md-6 col-lg-4 d-flex",4,"ngFor","ngForOf"],["class","text-center py-5",4,"ngIf"],["class","text-center mt-5",4,"ngIf"],[1,"dept-section","py-10"],[1,"section-bg-text"],[1,"container","position-relative"],[1,"dept-header-pro","d-flex","align-items-center","animate-on-scroll","slide-up"],[1,"header-accent","me-4","d-none","d-md-block"],[1,"flex-grow-1"],[1,"display-5","fw-black","text-navy","mb-2","ls-tight"],[1,"h5","text-secondary","fw-light","mb-0"],[1,"row","g-5"],[1,"col-md-6","col-lg-3","animate-on-scroll","slide-up","delay-1"],["routerLink","/departement/genie-electrique",1,"card","dept-card-pro","text-decoration-none",2,"--dept-color","#0055a4","--dept-color-alpha","rgba(0, 85, 164, 0.1)"],[1,"dept-icon-box"],[1,"fas","fa-microchip"],[1,"btn-view-dept"],[1,"col-md-6","col-lg-3","animate-on-scroll","slide-up","delay-2"],["routerLink","/departement/informatique",1,"card","dept-card-pro","text-decoration-none",2,"--dept-color","#00b8d4","--dept-color-alpha","rgba(0, 184, 212, 0.1)"],[1,"fas","fa-laptop-code"],[1,"col-md-6","col-lg-3","animate-on-scroll","slide-up","delay-3"],["routerLink","/departement/genie-mecanique",1,"card","dept-card-pro","text-decoration-none",2,"--dept-color","#f4511e","--dept-color-alpha","rgba(244, 81, 30, 0.1)"],[1,"fas","fa-cogs"],[1,"col-md-6","col-lg-3","animate-on-scroll","slide-up","delay-4"],["routerLink","/departement/gestion",1,"card","dept-card-pro","text-decoration-none",2,"--dept-color","#43a047","--dept-color-alpha","rgba(67, 160, 71, 0.1)"],[1,"fas","fa-chart-line"],[1,"life-section","py-8","bg-navy","text-white","position-relative","overflow-hidden"],[1,"abstract-blobs","opacity-10"],[1,"row","align-items-center","mb-5","animate-on-scroll","slide-up"],[1,"col-lg-8"],[1,"display-5","fw-black","ls-tight","mb-3"],[1,"text-gold"],[1,"h5","fw-light","text-white-50"],[1,"col-lg-4","text-end","d-none","d-lg-block"],[1,"carousel-nav-pro","d-flex","justify-content-end","gap-3"],["aria-label","Pr\xE9c\xE9dent",1,"btn-nav-round",3,"click"],["aria-label","Suivant",1,"btn-nav-round",3,"click"],[1,"clubs-carousel-pro","position-relative","animate-on-scroll","slide-up","delay-1"],[1,"d-flex","gap-4","p-2","clubs-inner","scrollbar-hide"],["target","_blank","class","card club-card flex-shrink-0 border-0 rounded-4 p-5 text-center text-decoration-none transition","style","width: 320px;",3,"href",4,"ngFor","ngForOf"],[1,"d-lg-none","d-flex","justify-content-center","gap-4","mt-5"],[1,"btn-nav-round","sm",3,"click"],[1,"training-section","py-10","bg-light"],[1,"container"],[1,"col-lg-6","animate-on-scroll","slide-right"],["routerLink","/formations",1,"card","h-100","border-0","rounded-5","overflow-hidden","shadow-2xl","group","portal-card"],[1,"portal-img","h-100",2,"background-image","url('assets/images/images_iset/1629_1.JPG')"],[1,"portal-overlay"],[1,"card-img-overlay","d-flex","flex-column","justify-content-end","p-5"],[1,"text-gold","fw-black","ls-3","mb-2"],[1,"display-4","fw-black","text-white","mb-4"],[1,"btn","btn-white","text-navy","fw-bold","rounded-pill","px-4","btn-hover-gold"],[1,"fas","fa-arrow-right","ms-2"],[1,"col-lg-6","animate-on-scroll","slide-left"],[1,"portal-img","h-100",2,"background-image","url('assets/images/images_iset/BD34_1.JPG')"],[1,"social-section","py-5"],["href","https://www.facebook.com/KairouanISET?locale=fr_FR","target","_blank",1,"fb-pro-card","bg-facebook","rounded-5","p-5","position-relative","d-block","text-decoration-none","overflow-hidden","shadow-2xl","shadow-blue-500","animate-on-scroll"],[1,"row","align-items-center","position-relative","z-2"],[1,"col-lg-8","text-center","text-lg-start","mb-4","mb-lg-0"],[1,"d-inline-flex","align-items-center","gap-3","mb-3"],[1,"fb-icon-white","bg-white","text-facebook","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","50px","height","50px"],[1,"fab","fa-facebook-f","fa-lg"],[1,"text-white-50","fw-bold","ls-2","uppercase"],[1,"display-4","fw-black","text-white","ls-tight"],[1,"text-white-50"],[1,"col-lg-4","text-center","text-lg-end"],[1,"btn","btn-white","btn-lg","px-5","py-3","rounded-pill","fw-black","text-facebook","shadow-lg-hover"],[1,"fas","fa-external-link-alt","ms-2"],[1,"fb-bg-icon","position-absolute","opacity-10"],[1,"fab","fa-facebook-f"],[1,"partners-section","py-10"],[1,"section-header","text-center","mb-8","animate-on-scroll","slide-up"],[1,"text-gold","fw-black","ls-3","uppercase"],[1,"display-4","fw-black","text-navy","mt-2"],[1,"divider-gold","mx-auto"],[1,"partner-category-wrapper","animate-on-scroll","slide-up"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"partner-category-title"],[1,"partner-nav","d-flex","gap-2"],[1,"partner-nav-round",3,"click"],[1,"partners-carousel-wrapper"],[1,"partners-inner"],["class","partner-card-pro",3,"href",4,"ngFor","ngForOf"],[1,"partner-category-wrapper","animate-on-scroll","slide-up","delay-1"],[1,"partner-category-wrapper","animate-on-scroll","slide-up","delay-2"],["target","_blank","class","partner-card-pro",3,"href",4,"ngFor","ngForOf"],[1,"gallery-section","py-10","bg-white"],[1,"section-header","mb-5"],[1,"display-4","fw-black","text-navy","mb-0"],[1,"gallery-carousel","position-relative"],[1,"d-flex","gap-4","p-2","gallery-inner","overflow-hidden"],["class","gallery-card flex-shrink-0 shadow-lg rounded-4 overflow-hidden position-relative group shadow-hover-xl cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-navy","shadow-lg","rounded-circle","position-absolute","top-50","start-0","translate-middle-y","ms-neg-20","d-none","d-lg-flex",3,"click"],[1,"btn","btn-navy","shadow-lg","rounded-circle","position-absolute","top-50","end-0","translate-middle-y","me-neg-20","d-none","d-lg-flex",3,"click"],[1,"final-cta-section","border-top","border-white-10"],[1,"cta-bg-premium","position-absolute","w-100","h-100","top-0"],[1,"container","cta-content","text-center","text-white"],[1,"animate-on-scroll"],[1,"display-2","fw-black","mb-4","ls-tight"],[1,"h4","fw-light","text-white-50","mb-5","max-w-800","mx-auto","ls-1"],[1,"d-flex","flex-wrap","justify-content-center","gap-4","mt-5"],["routerLink","/formations",1,"btn","btn-gold","btn-xl","px-5","py-4","rounded-pill","fw-black","shadow-gold-xl","transition-up","d-flex","align-items-center"],[1,"fas","fa-paper-plane","ms-3"],[1,"btn","btn-outline-white","btn-xl","px-5","py-4","rounded-pill","fw-black","transition-up","d-flex","align-items-center",3,"click"],[1,"fas","fa-headset","ms-3"],[1,"carousel-item","h-100"],[1,"hero-bg-img","position-absolute","w-100","h-100",2,"background-size","cover","background-position","center"],[1,"hero-overlay","position-absolute","w-100","h-100"],[1,"container","h-100","d-flex","align-items-center","position-relative","z-3"],[1,"col-lg-8","animate-fade-up"],[1,"display-1","fw-black","text-white","mb-4","ls-tight",3,"innerHTML"],[1,"h4","text-white-50","mb-5","fw-light","max-w-600"],[1,"d-flex","flex-wrap","gap-3","mt-4"],["routerLink","/formations",1,"btn","btn-primary","btn-lg","px-5","py-3","rounded-pill","fw-bold","shadow-gold"],[1,"fas","fa-graduation-cap","me-2"],[1,"btn","btn-outline-light","btn-lg","px-5","py-3","rounded-pill","fw-bold","blur-bg",3,"click"],[1,"fas","fa-user-graduate","me-2"],["type","button",1,"rounded-pill","mx-1",2,"width","30px","height","4px",3,"click"],[1,"col-6","col-md-3"],[1,"card","h-100","border-0","shadow-xl","rounded-4","text-center","p-4","hover-up","glass-card","animate-on-scroll","scale-up"],[1,"stat-icon-circle","mx-auto","mb-3","mb-lg-4","shadow-blue"],[1,"display-5","fw-black","text-navy","mb-0"],[1,"text-gold","h4"],[1,"small","fw-bold","text-secondary","text-uppercase","ls-1","mb-0"],[1,"col-md-6","col-lg-4","d-flex"],[1,"w-100","animate-on-scroll","slide-up",3,"announcement"],[1,"text-center","py-5"],[1,"empty-state-icon","mb-4"],[1,"fas","fa-newspaper-slash","display-1","text-muted","opacity-25"],[1,"h5","text-muted","fw-light"],[1,"text-center","mt-5"],["routerLink","/actualites",1,"btn","btn-link","text-navy","fw-bold","text-decoration-none","ls-1"],[1,"fas","fa-arrow-right","ms-2","text-gold"],["target","_blank",1,"card","club-card","flex-shrink-0","border-0","rounded-4","p-5","text-center","text-decoration-none","transition",2,"width","320px",3,"href"],[1,"club-avatar","mx-auto","mb-4","shadow-sm","bg-white","text-navy","display-5","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","90px","height","90px"],[1,"fw-bold","text-white","mb-3","ls-1","lh-sm"],[1,"small","text-white-50","mb-4","opacity-75"],[1,"badge","rounded-pill","bg-gold","text-navy","py-3","px-4","w-100","fw-black"],[1,"fas","fa-arrow-right","ms-2","scale-75"],[1,"partner-card-pro",3,"href"],[3,"src","alt","title"],["target","_blank",1,"partner-card-pro",3,"href"],[1,"gallery-card","flex-shrink-0","shadow-lg","rounded-4","overflow-hidden","position-relative","group","shadow-hover-xl","cursor-pointer",3,"click"],[1,"img-fluid","transition","scale-110","group-hover-scale-100",2,"height","350px","width","450px","object-fit","cover",3,"src"],[1,"gallery-overlay-pro","group-hover-opacity-100","bg-navy-70","d-flex","align-items-center","justify-content-center"],[1,"fas","fa-expand-arrows-alt","text-white","display-4"]],template:function(e,n){if(e&1){let o=U();c(0,"main",5)(1,"section",6)(2,"div",7)(3,"div",8),k(4,dm,15,6,"div",9),m(),c(5,"div",10),k(6,mm,1,2,"button",11),m(),c(7,"button",12),w("click",function(){return I(o),D(n.prevSlide())}),c(8,"span",13),b(9,"i",14),m()(),c(10,"button",15),w("click",function(){return I(o),D(n.nextSlide())}),c(11,"span",13),b(12,"i",16),m()()(),c(13,"div",17)(14,"div",18),b(15,"div",19),m()()(),c(16,"section",20)(17,"div",21)(18,"div",22),k(19,um,10,6,"div",23),m()()(),c(20,"section",24)(21,"div",25)(22,"div",26)(23,"div",27)(24,"div",28),b(25,"span",29),c(26,"span",30),p(27,"Information en Continu"),m()(),c(28,"h2",31),p(29,"Actualit\xE9s & "),b(30,"br"),c(31,"span",32),p(32,"Vie de l'Institut"),m()()(),c(33,"div",33)(34,"div",34)(35,"button",35),w("click",function(){return I(o),D(n.setActiveTab("all"))}),p(36," Tout "),m(),c(37,"button",35),w("click",function(){return I(o),D(n.setActiveTab("news"))}),p(38," Actualit\xE9s "),m(),c(39,"button",35),w("click",function(){return I(o),D(n.setActiveTab("event"))}),p(40," Agenda "),m(),c(41,"button",35),w("click",function(){return I(o),D(n.setActiveTab("tender"))}),p(42," Appels d'Offre "),m()()()(),c(43,"div",36),k(44,pm,2,1,"div",37),m(),k(45,fm,5,0,"div",38)(46,gm,4,0,"div",39),m()(),c(47,"section",40)(48,"div",41),p(49,"ISET"),m(),c(50,"div",42)(51,"div",43),b(52,"div",44),c(53,"div",45)(54,"h2",46),p(55,"P\xF4les d'Excellence"),m(),c(56,"p",47),p(57,"Explorez nos domaines d'expertise \xE0 la pointe de la technologie. "),m()()(),c(58,"div",48)(59,"div",49)(60,"a",50)(61,"div",51),b(62,"i",52),m(),c(63,"h4"),p(64,"G\xE9nie \xC9lectrique"),m(),c(65,"p"),p(66,"Automatisme & \xC9lectronique"),m(),c(67,"div",53),p(68," D\xC9COUVRIR "),b(69,"i",16),m()()(),c(70,"div",54)(71,"a",55)(72,"div",51),b(73,"i",56),m(),c(74,"h4"),p(75,"Informatique"),m(),c(76,"p"),p(77,"D\xE9veloppement & R\xE9seaux"),m(),c(78,"div",53),p(79," D\xC9COUVRIR "),b(80,"i",16),m()()(),c(81,"div",57)(82,"a",58)(83,"div",51),b(84,"i",59),m(),c(85,"h4"),p(86,"G\xE9nie M\xE9canique"),m(),c(87,"p"),p(88,"Conception & Maintenance"),m(),c(89,"div",53),p(90," D\xC9COUVRIR "),b(91,"i",16),m()()(),c(92,"div",60)(93,"a",61)(94,"div",51),b(95,"i",62),m(),c(96,"h4"),p(97,"Section Gestion"),m(),c(98,"p"),p(99,"Management & Entreprise"),m(),c(100,"div",53),p(101," D\xC9COUVRIR "),b(102,"i",16),m()()()()()(),c(103,"section",63),b(104,"div",64),c(105,"div",25)(106,"div",65)(107,"div",66)(108,"h2",67),p(109,"Une Vie Associative "),c(110,"span",68),p(111,"Vibrante"),m()(),c(112,"p",69),p(113,"Des dizaines de clubs innovants pour transformer vos id\xE9es en projets r\xE9els."),m()(),c(114,"div",70)(115,"div",71)(116,"button",72),w("click",function(){return I(o),D(n.scrollClubs("left"))}),b(117,"i",14),m(),c(118,"button",73),w("click",function(){return I(o),D(n.scrollClubs("right"))}),b(119,"i",16),m()()()(),c(120,"div",74)(121,"div",75,0),k(123,hm,10,5,"a",76),m(),c(124,"div",77)(125,"button",78),w("click",function(){return I(o),D(n.scrollClubs("left"))}),b(126,"i",14),m(),c(127,"button",78),w("click",function(){return I(o),D(n.scrollClubs("right"))}),b(128,"i",16),m()()()()(),c(129,"section",79)(130,"div",80)(131,"div",48)(132,"div",81)(133,"a",82),b(134,"div",83)(135,"div",84),c(136,"div",85)(137,"span",86),p(138,"CYCLE LICENCE"),m(),c(139,"h2",87),p(140,"Ing\xE9nierie du "),b(141,"br"),c(142,"span",68),p(143,"Futur"),m()(),c(144,"div",88),p(145," D\xC9COUVRIR LE CURSUS "),b(146,"i",89),m()()()(),c(147,"div",90)(148,"a",82),b(149,"div",91)(150,"div",84),c(151,"div",85)(152,"span",86),p(153,"CYCLE MAST\xC8RE"),m(),c(154,"h2",87),p(155,"Sp\xE9cialisation "),b(156,"br"),c(157,"span",68),p(158,"Premium"),m()(),c(159,"div",88),p(160," D\xC9COUVRIR LE CURSUS "),b(161,"i",89),m()()()()()()(),c(162,"section",92)(163,"div",80)(164,"a",93)(165,"div",94)(166,"div",95)(167,"div",96)(168,"div",97),b(169,"i",98),m(),c(170,"span",99),p(171,"FACEBOOK OFFICIEL"),m()(),c(172,"h2",100),p(173,"Vivez l'ISET Kairouan "),b(174,"br"),c(175,"span",101),p(176,"en temps r\xE9el"),m()()(),c(177,"div",102)(178,"div",103),p(179," PAGE OFFICIELLE "),b(180,"i",104),m()()(),c(181,"div",105),b(182,"i",106),m()()()(),c(183,"section",107)(184,"div",80)(185,"div",108)(186,"span",109),p(187,"Collaboration & \xC9cosyst\xE8me"),m(),c(188,"h2",110),p(189,"Nos Partenaires"),m(),b(190,"div",111),m(),c(191,"div",112)(192,"div",113)(193,"h3",114),p(194,"Partenaires Internationaux"),m(),c(195,"div",115)(196,"button",116),w("click",function(){return I(o),D(n.scrollPartners("international","left"))}),b(197,"i",14),m(),c(198,"button",116),w("click",function(){return I(o),D(n.scrollPartners("international","right"))}),b(199,"i",16),m()()(),c(200,"div",117)(201,"div",118,1),k(203,_m,2,4,"a",119),m()()(),c(204,"div",120)(205,"div",113)(206,"h3",114),p(207,"Partenaires Acad\xE9miques"),m(),c(208,"div",115)(209,"button",116),w("click",function(){return I(o),D(n.scrollPartners("academic","left"))}),b(210,"i",14),m(),c(211,"button",116),w("click",function(){return I(o),D(n.scrollPartners("academic","right"))}),b(212,"i",16),m()()(),c(213,"div",117)(214,"div",118,2),k(216,bm,2,4,"a",119),m()()(),c(217,"div",121)(218,"div",113)(219,"h3",114),p(220,"Partenaires Sociaux Professionnels"),m(),c(221,"div",115)(222,"button",116),w("click",function(){return I(o),D(n.scrollPartners("industrial","left"))}),b(223,"i",14),m(),c(224,"button",116),w("click",function(){return I(o),D(n.scrollPartners("industrial","right"))}),b(225,"i",16),m()()(),c(226,"div",117)(227,"div",118,3),k(229,vm,2,4,"a",122),m()()()()(),c(230,"section",123)(231,"div",80)(232,"div",124)(233,"h2",125),p(234,"Immersion Campus"),m(),b(235,"div",111),m(),c(236,"div",126)(237,"div",127,4),k(239,xm,4,1,"div",128),m(),c(240,"button",129),w("click",function(){return I(o),D(n.scrollGallery("left"))}),b(241,"i",14),m(),c(242,"button",130),w("click",function(){return I(o),D(n.scrollGallery("right"))}),b(243,"i",16),m()()()(),c(244,"section",131),b(245,"div",132),c(246,"div",133)(247,"div",134)(248,"h2",135),p(249,"Pr\xEAt pour l'"),c(250,"span"),p(251,"excellence"),m(),p(252," ?"),m(),c(253,"p",136),p(254,"Faites le premier pas vers une carri\xE8re technologique innovante et transformez votre avenir avec l'ISET Kairouan."),m(),c(255,"div",137)(256,"a",138),p(257," REJOINDRE L'ISET "),b(258,"i",139),m(),c(259,"button",140),w("click",function(){return I(o),D(n.openStudentSpace())}),p(260," CONTACTER UN CONSEILLER "),b(261,"i",141),m()()()()()()}e&2&&(h(4),y("ngForOf",n.heroSlides),h(2),y("ngForOf",n.heroSlides),h(13),y("ngForOf",n.stats),h(16),z("active",n.activeTab==="all"),h(2),z("active",n.activeTab==="news"),h(2),z("active",n.activeTab==="event"),h(2),z("active",n.activeTab==="tender"),h(3),y("ngForOf",n.filteredItems.slice(0,6)),h(),y("ngIf",n.filteredItems.length===0),h(),y("ngIf",n.filteredItems.length>6),h(77),y("ngForOf",n.clubs),h(80),y("ngForOf",n.internationalPartners),h(13),y("ngForOf",n.academicPartners),h(13),y("ngForOf",n.industrialPartners),h(10),y("ngForOf",n.campusImages))},dependencies:[X,xe,le,pe,Ie,Di],styles:['.fw-black[_ngcontent-%COMP%]{font-weight:950!important}.ls-tight[_ngcontent-%COMP%]{letter-spacing:-2px!important}.ls-1[_ngcontent-%COMP%]{letter-spacing:1px!important}.ls-2[_ngcontent-%COMP%]{letter-spacing:2px!important}.ls-3[_ngcontent-%COMP%]{letter-spacing:3px!important}.text-navy[_ngcontent-%COMP%]{color:#001b44!important}.text-gold[_ngcontent-%COMP%]{color:#c5a021!important}.text-facebook[_ngcontent-%COMP%]{color:#1877f2!important}.bg-navy[_ngcontent-%COMP%]{background-color:#001b44!important}.bg-gold[_ngcontent-%COMP%]{background-color:#c5a021!important}.bg-facebook[_ngcontent-%COMP%]{background-color:#1877f2!important}.bg-gold-subtle[_ngcontent-%COMP%]{background-color:#f9f4e8!important}.max-w-600[_ngcontent-%COMP%]{max-width:600px}.max-w-800[_ngcontent-%COMP%]{max-width:800px}.py-8[_ngcontent-%COMP%]{padding-top:6rem;padding-bottom:6rem}.py-10[_ngcontent-%COMP%]{padding-top:8rem;padding-bottom:8rem}.mt-neg-100[_ngcontent-%COMP%]{margin-top:-100px}.blur-bg[_ngcontent-%COMP%]{backdrop-filter:blur(10px);background:#ffffff1a}.blur-md[_ngcontent-%COMP%]{backdrop-filter:blur(15px)}.shadow-gold[_ngcontent-%COMP%]{box-shadow:0 10px 30px #c5a0214d}.shadow-gold-xl[_ngcontent-%COMP%]{box-shadow:0 20px 50px #c5a02166}.shadow-blue[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0055a433}.shadow-2xl[_ngcontent-%COMP%]{box-shadow:0 25px 50px -12px #00000040}.divider-gold[_ngcontent-%COMP%]{width:80px;height:4px;background:linear-gradient(90deg,#c5a021,#e5c967);margin-top:1.5rem;border-radius:2px}.btn-primary[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-primary[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-60%;width:20%;height:200%;background:#fff6;transform:rotate(30deg);transition:all .6s cubic-bezier(.19,1,.22,1)}.btn-primary[_ngcontent-%COMP%]:hover:after{left:120%}.hero-section[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{transition:opacity 1.5s ease-in-out;display:block!important;opacity:0;position:absolute;inset:0;z-index:1}.hero-section[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%]{opacity:1;position:relative;z-index:2}.hero-section[_ngcontent-%COMP%]   .hero-bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:center;transform:scale(1.1);transition:transform 5s ease-in-out;image-rendering:-webkit-optimize-contrast;filter:brightness(1.1) contrast(1.05) saturate(1.1)}.hero-section[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%]   .hero-bg-img[_ngcontent-%COMP%]{transform:scale(1);filter:brightness(1.1) contrast(1.05) saturate(1.1)}.hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(105deg,#001b44f2,#001b44b3 40%,#001b4433);z-index:5}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{z-index:10}.hero-section[_ngcontent-%COMP%]   .carousel-icon-box[_ngcontent-%COMP%]{width:60px;height:60px;background:#ffffff1a;backdrop-filter:blur(10px);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.2)}.hero-section[_ngcontent-%COMP%]   .carousel-icon-box[_ngcontent-%COMP%]:hover{background:#c5a021;color:#001b44;border-color:#c5a021;transform:scale(1.1)}.hero-section[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .4s ease;height:6px;border-radius:3px;background-color:#ffffff4d;border:none}.hero-section[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#c5a021;width:60px}.hero-section[_ngcontent-%COMP%]   .hero-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:4px;background:#c5a021;z-index:100;width:0%;transition:width 5s linear}.mouse-scroll[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid rgba(255,255,255,.3);border-radius:15px;display:flex;justify-content:center;padding-top:10px}.mouse-scroll[_ngcontent-%COMP%]   .wheel[_ngcontent-%COMP%]{width:4px;height:8px;background:#fff;border-radius:2px;animation:_ngcontent-%COMP%_mouse-wheel 1.5s infinite}@keyframes _ngcontent-%COMP%_mouse-wheel{0%{transform:translateY(0);opacity:1}to{transform:translateY(15px);opacity:0}}.hover-up[_ngcontent-%COMP%]{transition:transform .3s}.hover-up[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.hover-navy[_ngcontent-%COMP%]:hover{background-color:#001b44!important}.hover-navy[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:#fff!important}.hover-navy[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#ffffffb3!important}.life-section[_ngcontent-%COMP%]{background:radial-gradient(circle at top right,#002d72,#001b44)}.life-section[_ngcontent-%COMP%]   .abstract-blobs[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 10% 20%,rgba(197,160,33,.05) 0%,transparent 40%),radial-gradient(circle at 90% 80%,rgba(0,85,164,.1) 0%,transparent 40%);pointer-events:none}.life-section[_ngcontent-%COMP%]   .clubs-scroll[_ngcontent-%COMP%]{position:relative;background:#ffffff05;border:1px solid rgba(255,255,255,.05);backdrop-filter:blur(10px)}.life-section[_ngcontent-%COMP%]   .clubs-inner[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none;padding:2rem 1rem!important}.life-section[_ngcontent-%COMP%]   .clubs-inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.165,.84,.44,1);position:relative;border:1px solid rgba(255,255,255,.1)!important;background:#ffffff08}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;padding:2px;background:linear-gradient(45deg,transparent,rgba(197,160,33,.3),transparent);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;-webkit-mask-composite:xor;opacity:0;transition:opacity .4s}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px);background:#ffffff14;border-color:#c5a02166!important;box-shadow:0 20px 40px #0000004d}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]:hover:before{opacity:1}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]:hover   .club-avatar[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);background-color:#c5a021!important;color:#001b44!important;box-shadow:0 0 20px #c5a02166}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]:hover   .badge[_ngcontent-%COMP%]{background-color:#fff!important;color:#001b44!important}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]   .club-avatar[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.life-section[_ngcontent-%COMP%]   .club-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{transition:all .3s ease;font-size:.75rem;letter-spacing:1px;font-weight:800;padding:.8rem 1.2rem!important}.life-section[_ngcontent-%COMP%]   .btn-outline-gold[_ngcontent-%COMP%]{border:1px solid rgba(197,160,33,.3);color:#c5a021}.life-section[_ngcontent-%COMP%]   .btn-outline-gold[_ngcontent-%COMP%]:hover{background:#c5a0211a;border-color:#c5a021}.life-section[_ngcontent-%COMP%]   .btn-gold[_ngcontent-%COMP%]{background:#c5a021;color:#001b44;border:none}.life-section[_ngcontent-%COMP%]   .btn-gold[_ngcontent-%COMP%]:hover{background:#deb93b;transform:scale(1.05);box-shadow:0 0 20px #c5a02166}.life-section[_ngcontent-%COMP%]   .btn-nav-round[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#fff;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.16,1,.3,1);cursor:pointer}.life-section[_ngcontent-%COMP%]   .btn-nav-round[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s}.life-section[_ngcontent-%COMP%]   .btn-nav-round[_ngcontent-%COMP%]:hover{background:#c5a021;color:#001b44;border-color:#c5a021;transform:scale(1.1);box-shadow:0 10px 20px #0000004d}.life-section[_ngcontent-%COMP%]   .btn-nav-round[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.life-section[_ngcontent-%COMP%]   .btn-nav-round.sm[_ngcontent-%COMP%]{width:50px;height:50px}.life-section[_ngcontent-%COMP%]   .clubs-carousel-pro[_ngcontent-%COMP%]{padding-bottom:2rem}.transition-up[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.16,1,.3,1)}.transition-up[_ngcontent-%COMP%]:hover{transform:translateY(-8px)}.glass-card[_ngcontent-%COMP%]{background:#ffffffd9;backdrop-filter:blur(12px) saturate(180%);border:1px solid rgba(255,255,255,.4);box-shadow:0 10px 20px #0000000d,0 2px 6px #0000000d,inset 0 0 0 1px #ffffff80}.stat-icon-circle[_ngcontent-%COMP%]{width:70px;height:70px;background:#0055a40d;border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:1.8rem;color:#0055a4}.dept-section[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f8faff,#fff);position:relative;overflow:hidden}.dept-section[_ngcontent-%COMP%]   .section-bg-text[_ngcontent-%COMP%]{position:absolute;top:10%;left:10%;font-size:15vw;font-weight:900;color:#001b4405;pointer-events:none;-webkit-user-select:none;user-select:none;z-index:1}.dept-section[_ngcontent-%COMP%]   .dept-header-pro[_ngcontent-%COMP%]{background:#fff;border-radius:2rem;padding:3rem;box-shadow:0 15px 40px #001b440d;border:1px solid rgba(0,27,68,.05);margin-bottom:4rem;position:relative;z-index:2}.dept-section[_ngcontent-%COMP%]   .dept-header-pro[_ngcontent-%COMP%]   .header-accent[_ngcontent-%COMP%]{width:8px;height:60px;background:#c5a021;border-radius:4px}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]{background:#fff;border-radius:2.5rem;padding:3.5rem 2.5rem;height:100%;transition:all .5s cubic-bezier(.16,1,.3,1);border:1px solid rgba(0,27,68,.05);position:relative;overflow:hidden;z-index:2}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,var(--dept-color-alpha, rgba(0, 85, 164, .1)) 0%,transparent 100%);opacity:0;transition:opacity .5s}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]:hover{transform:translateY(-15px);border-color:var(--dept-color, #0055a4);box-shadow:0 30px 60px #001b441a}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]:hover:after{opacity:1}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]:hover   .dept-icon-box[_ngcontent-%COMP%]{background:var(--dept-color, #0055a4)!important;color:#fff!important;transform:scale(1.1) rotate(5deg);box-shadow:0 10px 25px var(--dept-color-alpha, rgba(0, 85, 164, .3))}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]:hover   .btn-view-dept[_ngcontent-%COMP%]{background:var(--dept-color, #0055a4);color:#fff;width:100%;opacity:1;transform:translateY(0)}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]   .dept-icon-box[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:30px;background:#f0f4f9;color:var(--dept-color, #0055a4);display:flex;align-items:center;justify-content:center;font-size:2.8rem;margin-bottom:2rem;transition:all .5s cubic-bezier(.16,1,.3,1);position:relative;z-index:2}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:relative;z-index:2;font-weight:800;color:#001b44;margin-bottom:.5rem}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;z-index:2;color:#6c757d;font-size:.95rem;margin-bottom:2rem}.dept-section[_ngcontent-%COMP%]   .dept-card-pro[_ngcontent-%COMP%]   .btn-view-dept[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);transition:all .4s;border-radius:1rem;font-weight:700;padding:.8rem;display:flex;align-items:center;justify-content:center;gap:10px;background:#f8faff;color:#001b44;text-transform:uppercase;font-size:.75rem;letter-spacing:1px}.portal-card[_ngcontent-%COMP%]   .portal-img[_ngcontent-%COMP%]{background-size:cover;background-position:center;transition:transform 1.5s cubic-bezier(.16,1,.3,1)}.portal-card[_ngcontent-%COMP%]   .portal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#001b4400,#001b44e6);z-index:1}.portal-card[_ngcontent-%COMP%]:hover   .portal-img[_ngcontent-%COMP%]{transform:scale(1.1)}.portal-card[_ngcontent-%COMP%]   .btn-hover-gold[_ngcontent-%COMP%]:hover{background-color:#c5a021!important;color:#001b44!important}.fb-pro-card[_ngcontent-%COMP%]   .fb-bg-icon[_ngcontent-%COMP%]{bottom:-50px;right:-50px;font-size:250px;color:#fff;transform:rotate(-15deg)}.gallery-overlay-pro[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:all .4s;backdrop-filter:blur(5px);background:#001b4499}.final-cta-section[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding:8rem 0!important;background-color:#001b44}.final-cta-section[_ngcontent-%COMP%]   .cta-bg-premium[_ngcontent-%COMP%]{background:linear-gradient(#001b44eb,#001b44eb),url(https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=1920);background-size:cover;background-position:center;background-attachment:fixed;z-index:1}.final-cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{position:relative;z-index:10}.final-cta-section[_ngcontent-%COMP%]   .btn-gold[_ngcontent-%COMP%]{background-color:#fc0!important;color:#001b44!important;border:none;font-weight:900!important;box-shadow:0 10px 30px #ffcc004d}.final-cta-section[_ngcontent-%COMP%]   .btn-gold[_ngcontent-%COMP%]:hover{background-color:#ffd633!important;transform:translateY(-5px);box-shadow:0 15px 40px #ffcc0080}.final-cta-section[_ngcontent-%COMP%]   .btn-outline-white[_ngcontent-%COMP%]{border:2px solid #ffffff!important;background:#ffffff1a!important;color:#fff!important;font-weight:900!important;backdrop-filter:none!important}.final-cta-section[_ngcontent-%COMP%]   .btn-outline-white[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#001b44!important;transform:translateY(-5px)}.animate-fade-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s cubic-bezier(.16,1,.3,1) forwards;opacity:0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.animate-on-scroll[_ngcontent-%COMP%]{opacity:0;will-change:transform,opacity;transition:all .8s cubic-bezier(.16,1,.3,1)}.animate-on-scroll.slide-up[_ngcontent-%COMP%]{transform:translateY(50px)}.animate-on-scroll.slide-left[_ngcontent-%COMP%]{transform:translate(50px)}.animate-on-scroll.slide-right[_ngcontent-%COMP%]{transform:translate(-50px)}.animate-on-scroll.scale-up[_ngcontent-%COMP%]{transform:scale(.9)}.animate-on-scroll.animate-in[_ngcontent-%COMP%]{opacity:1;transform:translate(0) scale(1)!important}.animate-on-scroll.delay-1[_ngcontent-%COMP%]{transition-delay:.1s}.animate-on-scroll.delay-2[_ngcontent-%COMP%]{transition-delay:.2s}.animate-on-scroll.delay-3[_ngcontent-%COMP%]{transition-delay:.3s}.animate-on-scroll.delay-4[_ngcontent-%COMP%]{transition-delay:.4s}.hover-glow[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.165,.84,.44,1)}.hover-glow[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #0055a41a}.hover-glow[_ngcontent-%COMP%]:hover:after{opacity:1}.img-zoom-hover[_ngcontent-%COMP%]{overflow:hidden}.img-zoom-hover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform 1.2s cubic-bezier(.16,1,.3,1)}.img-zoom-hover[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.news-section[_ngcontent-%COMP%]{background-color:#fff!important;padding-bottom:8rem!important}.news-section[_ngcontent-%COMP%]   .text-gold-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c5a021,#e6c85e,#c5a021);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;display:inline-block}.news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]{display:inline-flex;gap:2rem;padding:.5rem;border-bottom:1px solid rgba(0,27,68,.1)}.news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{background:none;border:none;color:#001b4480;font-weight:700;font-size:.95rem;padding:.5rem 0;cursor:pointer;position:relative;transition:all .3s ease}.news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:0%;height:2px;background-color:#c5a021;transition:width .3s ease}.news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover, .news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{color:#001b44}.news-section[_ngcontent-%COMP%]   .nav-filter-pro[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]:after{width:100%}.news-section[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:1px;text-transform:uppercase}.news-section[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(5px);transition:transform .3s ease}@media (max-width: 991px){.display-1[_ngcontent-%COMP%]{font-size:4rem}.display-2[_ngcontent-%COMP%]{font-size:3rem}.display-4[_ngcontent-%COMP%]{font-size:3.5rem;color:#001b44;margin-top:1rem;margin-bottom:.5rem}.divider-gold[_ngcontent-%COMP%]{width:80px;height:4px;background:#c5a021;border-radius:2px;margin-bottom:3rem}.mt-neg-100[_ngcontent-%COMP%]{margin-top:0;padding-top:3rem}}@media (max-width: 768px){.display-1[_ngcontent-%COMP%]{font-size:2.8rem!important}.display-4[_ngcontent-%COMP%]{font-size:2.2rem!important}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-top:4rem;text-align:center}.hero-section[_ngcontent-%COMP%]   .d-flex.flex-wrap[_ngcontent-%COMP%]{justify-content:center}.nav-filter-pro[_ngcontent-%COMP%]{display:flex!important;overflow-x:auto!important;width:calc(100% + 3rem);margin-left:-1.5rem;padding:.5rem 1.5rem!important;gap:1.5rem!important;border-bottom:1px solid rgba(0,27,68,.1);scrollbar-width:none}.nav-filter-pro[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.nav-filter-pro[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{white-space:nowrap;flex:0 0 auto}.dept-header-pro[_ngcontent-%COMP%]{padding:2rem!important;text-align:center;flex-direction:column}.dept-header-pro[_ngcontent-%COMP%]   .header-accent[_ngcontent-%COMP%]{width:60px!important;height:6px!important;margin-bottom:1.5rem;margin-right:0!important}.social-section[_ngcontent-%COMP%]   .fb-pro-card[_ngcontent-%COMP%]{padding:2.5rem!important;text-align:center}.social-section[_ngcontent-%COMP%]   .fb-pro-card[_ngcontent-%COMP%]   .display-4[_ngcontent-%COMP%]{font-size:2rem!important}.social-section[_ngcontent-%COMP%]   .fb-pro-card[_ngcontent-%COMP%]   .col-lg-8[_ngcontent-%COMP%]{margin-bottom:2rem!important}.final-cta-section[_ngcontent-%COMP%]{padding:5rem 0!important}.final-cta-section[_ngcontent-%COMP%]   .display-2[_ngcontent-%COMP%]{font-size:2.5rem!important}.final-cta-section[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%}.final-cta-section[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:350px}}@media (max-width: 576px){.hero-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:90vh!important}.stat-icon-circle[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}}.mini-stat-card[_ngcontent-%COMP%]{background:#ffffffe6;backdrop-filter:blur(10px);transition:all .4s cubic-bezier(.175,.885,.32,1.275);border:1px solid rgba(0,0,0,.05)}.mini-stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);background:#fff;box-shadow:0 15px 30px #0000001a!important;z-index:10}.mini-stat-card[_ngcontent-%COMP%]   .mini-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:45px;height:45px;display:flex;align-items:center;justify-content:center;background:#00000008;border-radius:12px;transition:all .3s ease}.mini-stat-card[_ngcontent-%COMP%]:hover   .mini-icon[_ngcontent-%COMP%]{background:#0000000d;transform:scale(1.1)}.partners-section[_ngcontent-%COMP%]{position:relative;background:#fff}.partner-category-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;color:#001b44;letter-spacing:2px;position:relative;margin-bottom:2rem;padding-left:1rem;text-transform:uppercase}.partner-category-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:100%;background:#c5a021;border-radius:2px}.partners-carousel-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:4rem}.partners-inner[_ngcontent-%COMP%]{display:flex;gap:2rem;overflow-x:auto;padding:1rem;scroll-behavior:smooth}.partners-inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.partner-card-pro[_ngcontent-%COMP%]{flex:0 0 240px;height:140px;background:#fff;border-radius:20px;border:1px solid rgba(0,0,0,.05);box-shadow:0 8px 30px #00000008;display:flex;align-items:center;justify-content:center;padding:1.5rem;transition:all .4s cubic-bezier(.165,.84,.44,1);cursor:pointer;text-decoration:none}.partner-card-pro[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 45px #00000014;border-color:#c5a02133}.partner-card-pro[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:grayscale(0%);opacity:1;transform:scale(1.05)}.partner-card-pro[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;transition:all .5s ease}.partner-nav-round[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;border:1px solid #eee;background:#fff;display:flex;align-items:center;justify-content:center;color:#001b44;transition:all .3s ease;box-shadow:0 5px 15px #0000000d;cursor:pointer;z-index:10}.partner-nav-round[_ngcontent-%COMP%]:hover{background:#c5a021;color:#fff;border-color:#c5a021;transform:translateY(-2px);box-shadow:0 8px 20px #c5a0214d}.divider-gold[_ngcontent-%COMP%]{width:80px;height:4px;background:#c5a021;margin:1.5rem 0;border-radius:2px}']})}};function Cm(i,t){if(i&1&&(c(0,"div",34)(1,"div",35),b(2,"i",36),m(),c(3,"div",37)(4,"h4"),p(5),m(),c(6,"p"),p(7),m()()()),i&2){let e=t.$implicit;h(2),Ge(e.icon),h(3),F(e.title),h(2),F(e.description)}}function ym(i,t){if(i&1){let e=U();c(0,"div",57),w("click",function(){I(e);let o=P(2);return D(o.errorMessage="")}),c(1,"div",58),b(2,"i",59),m(),c(3,"div",60),p(4),m(),c(5,"button",61),b(6,"i",62),m()()}if(i&2){let e=P(2);h(4),q(" ",e.errorMessage," ")}}function Mm(i,t){i&1&&(c(0,"div",63),p(1," Ce champ est requis "),m())}function Sm(i,t){i&1&&(c(0,"div",63),p(1," Mot de passe requis (minimum 6 caract\xE8res) "),m())}function Pm(i,t){i&1&&b(0,"i",25)}function wm(i,t){i&1&&b(0,"i",64)}function Om(i,t){if(i&1){let e=U();c(0,"form",38),w("ngSubmit",function(){I(e);let o=P();return D(o.onLogin())}),k(1,ym,7,1,"div",39),c(2,"div",40)(3,"label",41),b(4,"i",42),p(5," Email ou Matricule "),m(),b(6,"input",43),k(7,Mm,2,0,"div",44),m(),c(8,"div",40)(9,"label",45),b(10,"i",46),p(11," Mot de passe "),m(),c(12,"div",47),b(13,"input",48),c(14,"button",49),w("click",function(){I(e);let o=P();return D(o.togglePasswordVisibility())}),b(15,"i",36),m()(),k(16,Sm,2,0,"div",44),m(),c(17,"div",50)(18,"label",51),b(19,"input",52),c(20,"span"),p(21,"Se souvenir de moi"),m()(),c(22,"button",53),w("click",function(){I(e);let o=P();return D(o.forgotPassword())}),p(23," Mot de passe oubli\xE9 ? "),m()(),c(24,"button",54),k(25,Pm,1,0,"i",55)(26,wm,1,0,"i",56),p(27),m()()}if(i&2){let e=P();z("shake-error",e.errorMessage),y("formGroup",e.loginForm),h(),y("ngIf",e.errorMessage),h(5),z("error",e.loginFormControls.username.invalid&&(e.loginFormControls.username.touched||e.loginSubmitted)),h(),y("ngIf",e.loginFormControls.username.invalid&&(e.loginFormControls.username.touched||e.loginSubmitted)),h(6),z("error",e.loginFormControls.password.invalid&&(e.loginFormControls.password.touched||e.loginSubmitted)),y("type",e.showPassword?"text":"password"),h(2),z("fa-eye",!e.showPassword)("fa-eye-slash",e.showPassword),h(),y("ngIf",e.loginFormControls.password.invalid&&(e.loginFormControls.password.touched||e.loginSubmitted)),h(8),y("disabled",e.isLoading),h(),y("ngIf",!e.isLoading),h(),y("ngIf",e.isLoading),h(),q(" ",e.isLoading?"Connexion en cours...":"Se connecter"," ")}}function Em(i,t){i&1&&(c(0,"div",63),p(1," Nom complet requis (minimum 3 caract\xE8res) "),m())}function km(i,t){i&1&&(c(0,"div",63),p(1," Veuillez choisir un r\xF4le "),m())}function Tm(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e),h(),F(e)}}function Am(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function Im(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function Dm(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e),h(),F(e)}}function Fm(i,t){if(i&1&&(c(0,"label",121),b(1,"input",122),c(2,"span"),p(3),m()()),i&2){let e=t.$implicit;h(),y("value",e),h(2),q("Groupe ",e,"")}}function Lm(i,t){if(i&1&&(Qn(0),c(1,"div",67)(2,"div",40)(3,"label",112),b(4,"i",113),p(5," Classe "),m(),c(6,"select",114)(7,"option",103),p(8,"Choisir..."),m(),k(9,Im,2,2,"option",104),m()(),c(10,"div",40)(11,"label",115),b(12,"i",116),p(13," Niveau "),m(),c(14,"select",117)(15,"option",103),p(16,"Choisir..."),m(),k(17,Dm,2,2,"option",104),m()()(),c(18,"div",40)(19,"label"),b(20,"i",118),p(21," Groupe "),m(),c(22,"div",119),k(23,Fm,4,2,"label",120),m()(),Xn()),i&2){let e=P(3);h(9),y("ngForOf",e.filteredClasses),h(8),y("ngForOf",e.levels),h(6),y("ngForOf",e.groups)}}function Nm(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e),h(),F(e)}}function Rm(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function zm(i,t){if(i&1&&(c(0,"option",111),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function Vm(i,t){if(i&1&&(Qn(0),c(1,"div",67)(2,"div",40)(3,"label",123),b(4,"i",124),p(5," Grade "),m(),c(6,"select",125)(7,"option",103),p(8,"Choisir..."),m(),k(9,Nm,2,2,"option",104),m()(),c(10,"div",40)(11,"label",126),b(12,"i",127),p(13," Sp\xE9cialit\xE9 "),m(),b(14,"input",128),m()(),c(15,"div",40)(16,"label",129),b(17,"i",130),p(18," Bureau "),m(),b(19,"input",131),m(),c(20,"div",67)(21,"div",40)(22,"label"),b(23,"i",132),p(24," Classes assign\xE9es "),m(),c(25,"select",133),k(26,Rm,2,2,"option",104),ee(27,"async"),m(),c(28,"small",134),p(29,"Ctrl + Clic pour plusieurs"),m()(),c(30,"div",40)(31,"label"),b(32,"i",135),p(33," Mati\xE8res / Modules "),m(),c(34,"select",136),k(35,zm,2,2,"option",104),ee(36,"async"),m(),c(37,"small",134),p(38,"Ctrl + Clic pour plusieurs"),m()()(),Xn()),i&2){let e=P(3);h(9),y("ngForOf",e.grades),h(17),y("ngForOf",fe(27,3,e.classes$)),h(9),y("ngForOf",fe(36,5,e.modules$))}}function jm(i,t){if(i&1){let e=U();c(0,"div",95)(1,"div",96),b(2,"i",12),p(3," Informations Compl\xE9mentaires "),m(),c(4,"div",67)(5,"div",40)(6,"label",97),b(7,"i",98),p(8," Num\xE9ro CIN "),m(),b(9,"input",99),m(),c(10,"div",40)(11,"label",100),b(12,"i",101),p(13," Genre "),m(),c(14,"select",102)(15,"option",103),p(16,"S\xE9lectionner"),m(),k(17,Tm,2,2,"option",104),m()()(),c(18,"div",67)(19,"div",40)(20,"label",105),b(21,"i",106),p(22," Date de naissance "),m(),b(23,"input",107),m(),c(24,"div",40)(25,"label",108),b(26,"i",109),p(27," D\xE9partement "),m(),c(28,"select",110),w("change",function(){I(e);let o=P(2);return D(o.onDepartmentChange())}),c(29,"option",103),p(30,"Choisir..."),m(),k(31,Am,2,2,"option",104),ee(32,"async"),m()()(),k(33,Lm,24,3,"ng-container",30)(34,Vm,39,7,"ng-container",30),m()}if(i&2){let e,n,o=P(2);h(9),z("error",o.registerFormControls.cin.invalid&&o.registerFormControls.cin.touched),h(8),y("ngForOf",o.genders),h(14),y("ngForOf",fe(32,6,o.departments$)),h(2),y("ngIf",((e=o.registerForm.get("role"))==null?null:e.value)==="student"),h(),y("ngIf",((n=o.registerForm.get("role"))==null?null:n.value)==="staff")}}function Bm(i,t){i&1&&(c(0,"div",63),p(1," Email acad\xE9mique @isetk.rnu.tn requis "),m())}function Um(i,t){i&1&&(c(0,"div",63),p(1," Mot de passe requis (min 8 car.) "),m())}function Wm(i,t){i&1&&(c(0,"div",137),p(1," Les mots de passe ne correspondent pas "),m())}function qm(i,t){i&1&&(c(0,"div",63),p(1," Vous devez accepter les conditions "),m())}function Hm(i,t){i&1&&b(0,"i",26)}function $m(i,t){i&1&&b(0,"i",64)}function Gm(i,t){if(i&1){let e=U();c(0,"form",38),w("ngSubmit",function(){I(e);let o=P();return D(o.onRegister())}),c(1,"div",40)(2,"label",65),b(3,"i",42),p(4," Nom complet "),m(),b(5,"input",66),k(6,Em,2,0,"div",44),m(),c(7,"div",67)(8,"div",40)(9,"label",68),b(10,"i",69),p(11," Matricule (RH/\xC9tudiant) "),m(),b(12,"input",70),m(),c(13,"div",40)(14,"label",71),b(15,"i",72),p(16," T\xE9l\xE9phone "),m(),b(17,"input",73),m()(),c(18,"div",40)(19,"label",74),b(20,"i",75),p(21," R\xF4le "),m(),c(22,"select",76)(23,"option",77),p(24,"\xC9tudiant"),m(),c(25,"option",78),p(26,"Enseignant / Personnel"),m(),c(27,"option",79),p(28,"Administrateur"),m()(),k(29,km,2,0,"div",44),m(),k(30,jm,35,8,"div",80),c(31,"div",40)(32,"label",81),b(33,"i",82),p(34," Email acad\xE9mique "),m(),b(35,"input",83),k(36,Bm,2,0,"div",44),m(),c(37,"div",67)(38,"div",40)(39,"label",84),b(40,"i",46),p(41," Mot de passe "),m(),c(42,"div",47),b(43,"input",85),c(44,"button",49),w("click",function(){I(e);let o=P();return D(o.togglePasswordVisibility())}),b(45,"i",36),m()(),k(46,Um,2,0,"div",44),m(),c(47,"div",40)(48,"label",86),b(49,"i",46),p(50," Confirmer "),m(),c(51,"div",47),b(52,"input",87),c(53,"button",49),w("click",function(){I(e);let o=P();return D(o.toggleConfirmPasswordVisibility())}),b(54,"i",36),m()()()(),k(55,Wm,2,0,"div",88),c(56,"div",89),b(57,"input",90),c(58,"label",91),p(59," J'accepte les "),c(60,"a",92),p(61,"conditions d'utilisation"),m(),p(62," et la "),c(63,"a",93),p(64,"politique de confidentialit\xE9"),m()()(),k(65,qm,2,0,"div",44),c(66,"button",54),k(67,Hm,1,0,"i",94)(68,$m,1,0,"i",56),p(69),m()()}if(i&2){let e,n=P();y("formGroup",n.registerForm),h(5),z("error",n.registerFormControls.fullName.invalid&&(n.registerFormControls.fullName.touched||n.registerSubmitted)),h(),y("ngIf",n.registerFormControls.fullName.invalid&&(n.registerFormControls.fullName.touched||n.registerSubmitted)),h(6),z("error",n.registerFormControls.matricule.invalid&&(n.registerFormControls.matricule.touched||n.registerSubmitted)),h(5),z("error",n.registerFormControls.phone.invalid&&(n.registerFormControls.phone.touched||n.registerSubmitted)),h(5),z("error",n.registerFormControls.role.invalid&&n.registerFormControls.role.touched),h(7),y("ngIf",n.registerFormControls.role.invalid&&n.registerFormControls.role.touched),h(),y("ngIf",((e=n.registerForm.get("role"))==null?null:e.value)==="student"||((e=n.registerForm.get("role"))==null?null:e.value)==="staff"),h(5),z("error",n.registerFormControls.email.invalid&&(n.registerFormControls.email.touched||n.registerSubmitted)),h(),y("ngIf",n.registerFormControls.email.invalid&&(n.registerFormControls.email.touched||n.registerSubmitted)),h(7),z("error",n.registerFormControls.password.invalid&&(n.registerFormControls.password.touched||n.registerSubmitted)),y("type",n.showPassword?"text":"password"),h(2),z("fa-eye",!n.showPassword)("fa-eye-slash",n.showPassword),h(),y("ngIf",n.registerFormControls.password.invalid&&(n.registerFormControls.password.touched||n.registerSubmitted)),h(6),z("error",n.registerFormControls.confirmPassword.invalid&&(n.registerFormControls.confirmPassword.touched||n.registerSubmitted)),y("type",n.showConfirmPassword?"text":"password"),h(2),z("fa-eye",!n.showConfirmPassword)("fa-eye-slash",n.showConfirmPassword),h(),y("ngIf",n.registerForm.hasError("passwordMismatch")&&(n.registerFormControls.confirmPassword.touched||n.registerSubmitted)),h(10),y("ngIf",n.registerFormControls.acceptTerms.invalid&&(n.registerFormControls.acceptTerms.touched||n.registerSubmitted)),h(),y("disabled",n.registerForm.invalid||n.isLoading),h(),y("ngIf",!n.isLoading),h(),y("ngIf",n.isLoading),h(),q(" ",n.isLoading?"Inscription en cours...":"Cr\xE9er un compte"," ")}}function Ym(i,t){if(i&1){let e=U();c(0,"p"),p(1," Pas encore de compte ? "),c(2,"button",138),w("click",function(){I(e);let o=P();return D(o.switchTab("register"))}),p(3,"S'inscrire"),m()()}}function Km(i,t){if(i&1){let e=U();c(0,"p"),p(1," D\xE9j\xE0 un compte ? "),c(2,"button",138),w("click",function(){I(e);let o=P();return D(o.switchTab("login"))}),p(3,"Se connecter"),m()()}}var Ni=class i{constructor(t,e,n,o){this.fb=t;this.authService=e;this.router=n;this.cdr=o;this.activeTab="login";this.isLoading=!1;this.showPassword=!1;this.showConfirmPassword=!1;this.errorMessage="";this.successMessage="";this.loginSubmitted=!1;this.registerSubmitted=!1;this.allClasses=[];this.filteredClasses=[];this.levels=["1\xE8re ann\xE9e","2\xE8me ann\xE9e","3\xE8me ann\xE9e"];this.groups=["A","B"];this.grades=["Professeur technologue","Ma\xEEtre de conf\xE9rences technologue","Ma\xEEtre assistant technologue","Assistant technologue","PES (Prof agr\xE9g\xE9 / certifi\xE9)"];this.genders=["Homme","Femme"];this.loginFeatures=[{icon:"fa-graduation-cap",title:"Formations Certifi\xE9es",description:"Dipl\xF4mes reconnus par l'\xC9tat"},{icon:"fa-laptop-code",title:"Plateforme Num\xE9rique",description:"Acc\xE8s 24/7 aux ressources p\xE9dagogiques"},{icon:"fa-chart-line",title:"Suivi Personnalis\xE9",description:"Accompagnement individualis\xE9"}];this.testimonials=[{text:"La plateforme de l'ISET Kairouan a r\xE9volutionn\xE9 mon apprentissage. Interface intuitive et ressources compl\xE8tes.",author:"Ahmed Ben Salah",role:"\xC9tudiant en G\xE9nie Informatique"},{text:"Excellent outil pour le suivi acad\xE9mique. Je recommande \xE0 tous les \xE9tudiants.",author:"Sarra Ben Ali",role:"\xC9tudiante en T\xE9l\xE9communications"}];this.departments$=this.authService.getDepartments().pipe(Sn(r=>(console.error("Error fetching departments:",r),Mn([])))),this.classes$=this.authService.getClasses().pipe(ma(r=>this.allClasses=r),Sn(r=>(console.error("Error fetching classes:",r),Mn([])))),this.modules$=this.authService.getModules().pipe(Sn(r=>(console.error("Error fetching modules:",r),Mn([])))),this.loginForm=this.fb.group({username:["",[J.required]],password:["",[J.required,J.minLength(6)]],rememberMe:[!1]}),this.registerForm=this.fb.group({fullName:["",[J.required,J.minLength(3)]],matricule:["",[J.required,J.minLength(4)]],email:["",[J.required,J.email,J.pattern(/^[a-zA-Z0-9._%+-]+@.+\.rnu\.tn$/)]],phone:["",[J.required]],role:["student",[J.required]],cin:["",[J.required,J.pattern(/^\d{8}$/)]],birthDate:["",[J.required]],gender:["",[J.required]],department:["",[J.required]],classGroup:[""],level:[""],group:[""],grade:[""],speciality:[""],office:[""],assignedClasses:[[]],subjects:[[]],password:["",[J.required,J.minLength(8)]],confirmPassword:["",[J.required]],acceptTerms:[!1,[J.requiredTrue]]},{validators:this.passwordMatchValidator})}ngOnInit(){this.loadMetadata(),this.registerForm.get("password")?.valueChanges.subscribe(()=>{this.registerForm.get("confirmPassword")?.updateValueAndValidity()}),this.registerForm.get("role")?.valueChanges.subscribe(e=>{this.updateValidators(e)});let t=this.registerForm.get("role")?.value;t&&this.updateValidators(t)}loadMetadata(){this.loginForm.valueChanges.subscribe(()=>this.clearMessages()),this.registerForm.valueChanges.subscribe(()=>this.clearMessages()),this.classes$.subscribe(t=>{console.log("Classes loaded:",t),this.allClasses=t,this.filteredClasses=t,this.cdr.detectChanges()})}clearMessages(){(this.errorMessage||this.successMessage)&&(this.errorMessage="",this.successMessage="",this.cdr.detectChanges())}onDepartmentChange(){let t=this.registerForm.get("department")?.value;console.log("Department changed to:",t),console.log("All classes:",this.allClasses),t?this.filteredClasses=this.allClasses.filter(e=>(e.department?._id||e.department)===t):this.filteredClasses=this.allClasses,console.log("Filtered classes:",this.filteredClasses),this.cdr.detectChanges()}passwordMatchValidator(t){let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}updateValidators(t){let e=this.registerForm.get("cin"),n=this.registerForm.get("birthDate"),o=this.registerForm.get("gender"),r=this.registerForm.get("department"),s=this.registerForm.get("classGroup"),a=this.registerForm.get("level"),l=this.registerForm.get("group");e?.clearValidators(),n?.clearValidators(),o?.clearValidators(),r?.clearValidators(),s?.clearValidators(),a?.clearValidators(),l?.clearValidators(),(t==="student"||t==="staff")&&(e?.setValidators([J.required,J.pattern(/^\d{8}$/)]),n?.setValidators([J.required]),o?.setValidators([J.required]),r?.setValidators([J.required])),e?.updateValueAndValidity(),n?.updateValueAndValidity(),o?.updateValueAndValidity(),r?.updateValueAndValidity(),s?.updateValueAndValidity(),a?.updateValueAndValidity(),l?.updateValueAndValidity()}switchTab(t){this.activeTab=t,this.errorMessage="",this.successMessage="",this.loginSubmitted=!1,this.registerSubmitted=!1,this.cdr.detectChanges()}onLogin(){if(this.loginSubmitted=!0,this.loginForm.invalid){this.errorMessage="Identifiant ou mot de passe incorrect.",this.markFormGroupTouched(this.loginForm),this.cdr.detectChanges();return}this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginForm.value).pipe(Te(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe({next:t=>{console.log("Login success:",t),this.successMessage="Connexion r\xE9ussie ! Redirection en cours...",this.errorMessage="",this.cdr.detectChanges();let e=t.user;setTimeout(()=>{e&&e.role==="admin"?this.router.navigate(["/admin"]):e&&(e.role==="staff"||e.role==="chef")?this.router.navigate(["/staff"]):e&&e.role==="student"?this.router.navigate(["/student"]):this.router.navigate(["/"])},1500)},error:t=>{console.error("Login error:",t),this.successMessage="",this.errorMessage=t.error?.message||t.message||"Identifiant ou mot de passe incorrect.",this.cdr.detectChanges()}})}onRegister(){if(this.registerSubmitted=!0,console.log("Register form values:",this.registerForm.value),this.registerForm.invalid){console.warn("Register form invalid:",this.registerForm.errors),this.errorMessage="Veuillez remplir correctement tous les champs requis.",this.markFormGroupTouched(this.registerForm),this.cdr.detectChanges();return}this.isLoading=!0,this.errorMessage="",this.authService.register(this.registerForm.value).pipe(Te(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe({next:t=>{console.log("Register success:",t),this.successMessage="Inscription r\xE9ussie ! Redirection en cours...",this.errorMessage="",this.cdr.detectChanges(),setTimeout(()=>{t&&t.role==="admin"?this.router.navigate(["/admin"]):t&&(t.role==="staff"||t.role==="chef")?this.router.navigate(["/staff"]):t&&t.role==="student"?this.router.navigate(["/student"]):this.router.navigate(["/"])},2e3)},error:t=>{console.error("Register error:",t),this.errorMessage=t.error?.message||t.message||"Erreur lors de l'inscription. Veuillez r\xE9essayer.",this.cdr.detectChanges()}})}socialLogin(t){this.isLoading=!0,this.authService.socialLogin(t).pipe(Te(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe({next:e=>{this.router.navigate(["/"])},error:e=>{this.errorMessage=`Erreur de connexion avec ${t}.`,this.cdr.detectChanges()}})}forgotPassword(){let t=prompt("Entrez votre email acad\xE9mique pour r\xE9initialiser votre mot de passe:");t&&t.includes("@isetk.rnu.tn")?this.successMessage="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre email.":t&&(this.errorMessage="Veuillez utiliser votre email acad\xE9mique @isetk.rnu.tn")}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}openOfficialPortal(){window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer")}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof Ia&&this.markFormGroupTouched(e)})}get loginFormControls(){return this.loginForm.controls}get registerFormControls(){return this.registerForm.controls}static{this.\u0275fac=function(e){return new(e||i)($(En),$(Ce),$(je),$(bt))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-login"]],decls:55,vars:9,consts:[[1,"login-page"],[1,"bg-blob","blob-1"],[1,"bg-blob","blob-2"],["routerLink","/",1,"btn-back-home","shadow-lg"],[1,"fas","fa-home"],[1,"login-container"],[1,"login-left"],[1,"brand-section"],[1,"brand-logo"],[1,"logo-circle"],[1,"brand-text"],[1,"login-info"],[1,"fas","fa-info-circle"],[1,"portal-link",3,"click"],[1,"features-section"],[1,"features-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"certifications-section"],[1,"certifications"],[1,"certification-badge"],[1,"fas","fa-certificate"],[1,"decor-text"],[1,"login-right"],[1,"auth-tabs"],[1,"auth-tab",3,"click"],[1,"fas","fa-sign-in-alt"],[1,"fas","fa-user-plus"],["class","auth-form",3,"formGroup","shake-error","ngSubmit",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"auth-footer"],[4,"ngIf"],[1,"portal-redirect"],[1,"fas","fa-external-link-alt"],[3,"click"],[1,"feature-item"],[1,"feature-icon"],[1,"fas"],[1,"feature-content"],[1,"auth-form",3,"ngSubmit","formGroup"],["class","form-alert error",3,"click",4,"ngIf"],[1,"form-group"],["for","loginUsername"],[1,"fas","fa-user"],["type","text","id","loginUsername","formControlName","username","placeholder","exemple@isetk.rnu.tn ou 20240001"],["class","error-text",4,"ngIf"],["for","loginPassword"],[1,"fas","fa-lock"],[1,"password-input"],["id","loginPassword","formControlName","password","placeholder","Votre mot de passe",3,"type"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","formControlName","rememberMe"],["type","button",1,"forgot-password",3,"click"],["type","submit",1,"submit-btn",3,"disabled"],["class","fas fa-sign-in-alt",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"form-alert","error",3,"click"],[1,"alert-icon"],[1,"fas","fa-exclamation-triangle"],[1,"alert-content"],["type","button",1,"alert-close"],[1,"fas","fa-times"],[1,"error-text"],[1,"fas","fa-spinner","fa-spin"],["for","registerFullName"],["type","text","id","registerFullName","formControlName","fullName","placeholder","Votre nom et pr\xE9nom"],[1,"form-row"],["for","registerMatricule"],[1,"fas","fa-id-card"],["type","text","id","registerMatricule","formControlName","matricule","placeholder","Ex: 20240001"],["for","registerPhone"],[1,"fas","fa-phone"],["type","tel","id","registerPhone","formControlName","phone","placeholder","+216 XX XXX XXX"],["for","registerRole"],[1,"fas","fa-user-tag"],["id","registerRole","formControlName","role",1,"form-select"],["value","student"],["value","staff"],["value","admin"],["class","role-fields-container",4,"ngIf"],["for","registerEmail"],[1,"fas","fa-envelope"],["type","email","id","registerEmail","formControlName","email","placeholder","exemple@isetk.rnu.tn"],["for","registerPassword"],["id","registerPassword","formControlName","password","placeholder","Minimum 8 caract\xE8res",3,"type"],["for","registerConfirmPassword"],["id","registerConfirmPassword","formControlName","confirmPassword","placeholder","Confirmez",3,"type"],["class","error-text match-error",4,"ngIf"],[1,"form-check"],["type","checkbox","id","acceptTerms","formControlName","acceptTerms"],["for","acceptTerms"],["routerLink","/mentions-legales"],["routerLink","/politique-confidentialite"],["class","fas fa-user-plus",4,"ngIf"],[1,"role-fields-container"],[1,"section-title"],["for","registerCin"],[1,"fas","fa-address-card"],["type","text","id","registerCin","formControlName","cin","placeholder","12345678"],["for","registerGender"],[1,"fas","fa-venus-mars"],["id","registerGender","formControlName","gender",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","registerBirth"],[1,"fas","fa-calendar-alt"],["type","date","id","registerBirth","formControlName","birthDate",1,"form-control"],["for","regDept"],[1,"fas","fa-building"],["id","regDept","formControlName","department",1,"form-select",3,"change"],[3,"value"],["for","regClass"],[1,"fas","fa-users"],["id","regClass","formControlName","classGroup",1,"form-select"],["for","regLevel"],[1,"fas","fa-layer-group"],["id","regLevel","formControlName","level",1,"form-select"],[1,"fas","fa-object-group"],[1,"radio-group"],["class","radio-item",4,"ngFor","ngForOf"],[1,"radio-item"],["type","radio","formControlName","group",3,"value"],["for","regGrade"],[1,"fas","fa-award"],["id","regGrade","formControlName","grade",1,"form-select"],["for","regSpec"],[1,"fas","fa-brain"],["type","text","id","regSpec","formControlName","speciality","placeholder","Informatique, Gestion..."],["for","regOffice"],[1,"fas","fa-door-open"],["type","text","id","regOffice","formControlName","office","placeholder","Ex: Bloc B 102"],[1,"fas","fa-chalkboard-teacher"],["multiple","","formControlName","assignedClasses",1,"form-select","multiselect"],[1,"help-text"],[1,"fas","fa-book"],["multiple","","formControlName","subjects",1,"form-select","multiselect"],[1,"error-text","match-error"],["type","button",3,"click"]],template:function(e,n){e&1&&(c(0,"div",0),b(1,"div",1)(2,"div",2),c(3,"a",3),b(4,"i",4),m(),c(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),p(10,"IK"),m(),c(11,"div",10)(12,"h1"),p(13,"ISET KAIR OUAN"),m(),c(14,"p"),p(15,"Institut Sup\xE9rieur des \xC9tudes Technologiques"),m()()(),c(16,"div",11)(17,"p"),b(18,"i",12),p(19," Pour acc\xE9der \xE0 l'espace \xE9tudiant officiel, "),c(20,"button",13),w("click",function(){return n.openOfficialPortal()}),p(21," cliquez ici "),m()()()(),c(22,"div",14)(23,"h3"),p(24,"Pourquoi utiliser notre plateforme ?"),m(),c(25,"div",15),k(26,Cm,8,4,"div",16),m()(),c(27,"div",17)(28,"div",18)(29,"div",19),b(30,"i",20),p(31," ISO 9001:2015 "),m(),c(32,"div",19),b(33,"i",20),p(34," ISO 21001:2018 "),m()()(),c(35,"div",21),p(36,"ISETK"),m()(),c(37,"div",22)(38,"div",23)(39,"button",24),w("click",function(){return n.switchTab("login")}),b(40,"i",25),p(41," Connexion "),m(),c(42,"button",24),w("click",function(){return n.switchTab("register")}),b(43,"i",26),p(44," Inscription "),m()(),k(45,Om,28,19,"form",27)(46,Gm,70,36,"form",28),c(47,"div",29),k(48,Ym,4,0,"p",30)(49,Km,4,0,"p",30),c(50,"p",31),b(51,"i",32),p(52," Pour acc\xE9der au portail officiel, "),c(53,"button",33),w("click",function(){return n.openOfficialPortal()}),p(54,"cliquez ici"),m()()()()()()),e&2&&(h(26),y("ngForOf",n.loginFeatures),h(13),z("active",n.activeTab==="login"),h(3),z("active",n.activeTab==="register"),h(3),y("ngIf",n.activeTab==="login"),h(),y("ngIf",n.activeTab==="register"),h(2),y("ngIf",n.activeTab==="login"),h(),y("ngIf",n.activeTab==="register"))},dependencies:[X,xe,le,Ai,kn,Kt,yt,Mt,Be,Aa,Ct,La,Fa,Ue,Yt,wn,On,pe,Ie],styles:['.login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:#0f172a;position:relative;overflow:hidden;font-family:Outfit,sans-serif}.login-page[_ngcontent-%COMP%]   .bg-blob[_ngcontent-%COMP%]{position:absolute;width:600px;height:600px;background:radial-gradient(circle,rgba(0,85,164,.15) 0%,transparent 70%);filter:blur(80px);z-index:0;animation:_ngcontent-%COMP%_blobFloat 20s infinite alternate cubic-bezier(.4,0,.2,1)}.login-page[_ngcontent-%COMP%]   .bg-blob.blob-1[_ngcontent-%COMP%]{top:-200px;left:-200px}.login-page[_ngcontent-%COMP%]   .bg-blob.blob-2[_ngcontent-%COMP%]{bottom:-200px;right:-200px;animation-delay:-5s}.login-page[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url("./media/meca-MI6YX3FG.jpg") center/cover no-repeat;opacity:.1;z-index:0}@keyframes _ngcontent-%COMP%_blobFloat{0%{transform:translate(0) scale(1)}to{transform:translate(50px,100px) scale(1.1)}}.login-container[_ngcontent-%COMP%]{width:100%;max-width:1150px;min-height:720px;display:flex;background:#fffffff2;border-radius:32px;overflow:hidden;box-shadow:0 50px 100px -20px #0000004d;position:relative;z-index:1;border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_containerAppear .8s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_containerAppear{0%{opacity:0;transform:translateY(30px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.login-left[_ngcontent-%COMP%]{flex:.9;background:linear-gradient(165deg,#001e3c,#0055a4);color:#fff;padding:4rem;display:flex;flex-direction:column;position:relative;overflow:hidden}.login-left[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:radial-gradient(rgba(255,255,255,.05) 1px,transparent 1px);background-size:30px 30px;opacity:.5}.login-left[_ngcontent-%COMP%]   .decor-text[_ngcontent-%COMP%]{position:absolute;bottom:-20px;right:-20px;font-size:15rem;font-weight:900;color:#ffffff08;line-height:1;-webkit-user-select:none;user-select:none;pointer-events:none}.brand-section[_ngcontent-%COMP%]{position:relative;z-index:2}.brand-section[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin-bottom:3rem}.brand-section[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .logo-circle[_ngcontent-%COMP%]{width:64px;height:64px;background:#fff;color:#0055a4;font-weight:900;font-size:1.8rem;border-radius:18px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 20px #0003}.brand-section[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;letter-spacing:-.5px;margin:0;background:linear-gradient(to right,#fff,#93c5fd);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.brand-section[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;opacity:.7;margin:2px 0 0;font-weight:500}.features-section[_ngcontent-%COMP%]{flex:1;position:relative;z-index:2}.features-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;margin-bottom:2rem;text-transform:uppercase;letter-spacing:2px;color:var(--secondary, #f59e0b)}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-bottom:2rem}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:#ffffff1a;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#93c5fd;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;margin:0 0 .3rem}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;opacity:.7;line-height:1.5;margin:0}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{background:#fff;color:#0055a4;transform:scale(1.1) rotate(-5deg)}.certifications-section[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:1rem;z-index:2}.certifications-section[_ngcontent-%COMP%]   .certification-badge[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;font-size:.75rem;font-weight:700;display:flex;align-items:center;gap:.6rem;transition:all .3s}.certifications-section[_ngcontent-%COMP%]   .certification-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.certifications-section[_ngcontent-%COMP%]   .certification-badge[_ngcontent-%COMP%]:hover{background:#ffffff1a}.login-right[_ngcontent-%COMP%]{flex:1.1;padding:4.5rem;background:#fff;display:flex;flex-direction:column;overflow-y:auto}.login-right[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.login-right[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.auth-tabs[_ngcontent-%COMP%]{display:flex;background:#f1f5f9;padding:.4rem;border-radius:16px;margin-bottom:3rem}.auth-tabs[_ngcontent-%COMP%]   .auth-tab[_ngcontent-%COMP%]{flex:1;border:none;background:none;padding:.9rem;font-weight:700;font-size:.95rem;color:#64748b;border-radius:12px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:.8rem}.auth-tabs[_ngcontent-%COMP%]   .auth-tab.active[_ngcontent-%COMP%]{background:#fff;color:#0055a4;box-shadow:0 4px 12px #0000000d;transform:scale(1.02)}.auth-tabs[_ngcontent-%COMP%]   .auth-tab[_ngcontent-%COMP%]:hover:not(.active){color:#334155}.auth-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_formSlideUp .5s ease-out}@keyframes _ngcontent-%COMP%_formSlideUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]{margin-bottom:1.8rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;margin-bottom:.7rem;font-weight:700;color:#1e293b;font-size:.9rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:1.1rem 1.4rem;background:#f8fafc;border:2px solid #f1f5f9;border-radius:16px;font-size:1rem;font-weight:500;color:#0f172a;transition:all .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;background:#fff;box-shadow:0 0 0 4px #0055a40d}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#fff1f2}.password-input[_ngcontent-%COMP%]{position:relative}.password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1.2rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#94a3b8;cursor:pointer;padding:.4rem}.password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#0055a4}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-weight:600;color:#64748b;font-size:.9rem;cursor:pointer}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#0055a4;cursor:pointer}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{background:none;border:none;color:#0055a4;font-weight:700;font-size:.9rem;cursor:pointer}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:1.2rem;background:linear-gradient(135deg,#0055a4,#036);color:#fff;border:none;border-radius:16px;font-size:1.1rem;font-weight:800;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:1rem;box-shadow:0 12px 24px #0055a433}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 15px 30px #0055a44d;background:linear-gradient(135deg,#048,#024)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;filter:grayscale(.5)}.form-alert[_ngcontent-%COMP%]{padding:1.2rem;border-radius:16px;margin-bottom:2.5rem;display:flex;align-items:center;gap:1.2rem;font-weight:600;position:relative;animation:_ngcontent-%COMP%_slideInDownAlert .4s cubic-bezier(.16,1,.3,1);border:1px solid transparent}.form-alert.error[_ngcontent-%COMP%]{background:#fff1f2;color:#9f1239;border-color:#fda4af}.form-alert.error[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#e11d48}.form-alert.success[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534;border-color:#bbf7d0}.form-alert.success[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#15803d}.form-alert[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem;display:flex;align-items:center}.form-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]{flex:1;font-size:.95rem;line-height:1.4}.form-alert[_ngcontent-%COMP%]   .alert-close[_ngcontent-%COMP%]{background:none;border:none;color:currentColor;opacity:.5;cursor:pointer;padding:.5rem;font-size:1rem;display:flex;align-items:center;transition:all .2s}.form-alert[_ngcontent-%COMP%]   .alert-close[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.auth-footer[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:1px solid #f1f5f9;text-align:center;color:#64748b;font-size:.95rem}.auth-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#0055a4;font-weight:800;margin-left:.5rem;cursor:pointer}.auth-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:underline}.portal-redirect[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#eff6ff;border-radius:12px;color:#1e40af;font-weight:600;font-size:.85rem;display:flex;align-items:center;justify-content:center;gap:.6rem;border:1px solid #dbeafe}.portal-redirect[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1d4ed8;padding:0;font-weight:800}.btn-back-home[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;width:50px;height:50px;background:#fff;border-radius:15px;display:flex;align-items:center;justify-content:center;color:#0f172a;box-shadow:0 10px 20px #0000001a;z-index:10;transition:all .3s}.btn-back-home[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#0055a4;color:#fff}.role-fields-container[_ngcontent-%COMP%]{margin:2rem 0;padding:2.5rem;background:#f8fafc;border-radius:24px;border:2px dashed #e2e8f0}.role-fields-container[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-weight:800;color:#0055a4;margin-bottom:2rem;font-size:.9rem;text-transform:uppercase;letter-spacing:1px}.role-fields-container[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.radio-group[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-top:.5rem}.radio-group[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;cursor:pointer;font-weight:600;color:#475569}.radio-group[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:22px;height:22px;accent-color:#0055a4}.form-check[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1.5rem 0}.form-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:22px;height:22px;accent-color:#0055a4}.form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b;font-weight:500;line-height:1.5}.form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0055a4;font-weight:700}@media (max-width: 1024px){.login-container[_ngcontent-%COMP%]{flex-direction:column;max-width:600px;margin:1rem}.login-left[_ngcontent-%COMP%]{display:none}.login-right[_ngcontent-%COMP%]{padding:3rem 1.5rem}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}.shake-error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .4s ease-in-out 0s 2}@keyframes _ngcontent-%COMP%_slideInDownAlert{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}']})}};var Ri=class i{constructor(){this.formations=[{id:1,title:"G\xE9nie Informatique",department:"Informatique",level:"Ing\xE9nieur",duration:"3 ans",description:"Formation d'ing\xE9nieurs en informatique sp\xE9cialis\xE9s dans le d\xE9veloppement logiciel, les bases de donn\xE9es et les syst\xE8mes d'information.",courses:["Algorithmique","Base de donn\xE9es","R\xE9seaux","D\xE9veloppement Web","Intelligence Artificielle"],career:["D\xE9veloppeur Full-Stack","Administrateur Base de donn\xE9es","Chef de projet IT","Architecte logiciel"],requirements:["Baccalaur\xE9at Scientifique","Concours national d'entr\xE9e"],icon:"fa-laptop-code",color:"#0055a4"},{id:2,title:"R\xE9seaux & T\xE9l\xE9coms",department:"T\xE9l\xE9communications",level:"Ing\xE9nieur",duration:"3 ans",description:"Formation d'ing\xE9nieurs en r\xE9seaux et t\xE9l\xE9communications avec expertise en s\xE9curit\xE9 r\xE9seau et communications mobiles.",courses:["R\xE9seaux locaux","T\xE9l\xE9communications","S\xE9curit\xE9 r\xE9seau","5G & IoT","Administration syst\xE8mes"],career:["Ing\xE9nieur r\xE9seaux","Administrateur s\xE9curit\xE9","Consultant t\xE9l\xE9coms","Ing\xE9nieur syst\xE8mes"],requirements:["Baccalaur\xE9at Scientifique","Concours national d'entr\xE9e"],icon:"fa-satellite-dish",color:"#0077c8"},{id:3,title:"G\xE9nie \xC9lectrique",department:"\xC9lectrique",level:"Ing\xE9nieur",duration:"3 ans",description:"Formation d'ing\xE9nieurs en g\xE9nie \xE9lectrique sp\xE9cialis\xE9s en automatisme, \xE9nergies renouvelables et \xE9lectrotechnique.",courses:["Automatisme industriel","\xC9nergies renouvelables","\xC9lectrotechnique","\xC9lectronique de puissance","Contr\xF4le-commande"],career:["Ing\xE9nieur automatisme","Chef projet \xE9nergies renouvelables","Ing\xE9nieur maintenance","Consultant \xE9lectrique"],requirements:["Baccalaur\xE9at Scientifique","Concours national d'entr\xE9e"],icon:"fa-bolt",color:"#f57c00"},{id:4,title:"Licence en Informatique",department:"Informatique",level:"Licence",duration:"3 ans",description:"Formation fondamentale en informatique pr\xE9parant aux m\xE9tiers du d\xE9veloppement et de l'administration des syst\xE8mes.",courses:["Programmation","Syst\xE8mes d'exploitation","Bases de donn\xE9es","R\xE9seaux informatiques","G\xE9nie logiciel"],career:["D\xE9veloppeur","Technicien r\xE9seaux","Administrateur syst\xE8mes","Webmaster"],requirements:["Baccalaur\xE9at","S\xE9lection sur dossier"],icon:"fa-code",color:"#2e7d32"},{id:5,title:"Master en Cybers\xE9curit\xE9",department:"Informatique",level:"Master",duration:"2 ans",description:"Formation sp\xE9cialis\xE9e en s\xE9curit\xE9 des syst\xE8mes d'information et protection des donn\xE9es.",courses:["Cryptographie","S\xE9curit\xE9 r\xE9seau","Forensique num\xE9rique","Droit du num\xE9rique","Audit s\xE9curit\xE9"],career:["Analyste s\xE9curit\xE9","Consultant cybers\xE9curit\xE9","Auditeur s\xE9curit\xE9","Responsable SSI"],requirements:["Licence en informatique","Entretien de s\xE9lection"],icon:"fa-shield-alt",color:"#d32f2f"},{id:6,title:"Technicien Sup\xE9rieur",department:"Maintenance industrielle",level:"Licence",duration:"2 ans",description:"Formation de techniciens sup\xE9rieurs sp\xE9cialis\xE9s en maintenance industrielle et gestion de production.",courses:["Maintenance pr\xE9ventive","Gestion de production","Automatisme","M\xE9canique","Qualit\xE9"],career:["Technicien maintenance","Responsable atelier","Technicien m\xE9thodes","Agent de ma\xEEtrise"],requirements:["Baccalaur\xE9at technique","S\xE9lection sur dossier"],icon:"fa-tools",color:"#9c27b0"}];this.departments=[{id:"all",name:"Toutes les formations",count:6},{id:"informatique",name:"Informatique",count:3},{id:"telecom",name:"T\xE9l\xE9communications",count:1},{id:"electrique",name:"G\xE9nie \xC9lectrique",count:1},{id:"maintenance",name:"Maintenance",count:1}];this.levels=[{id:"all",name:"Tous les niveaux"},{id:"licence",name:"Licence"},{id:"master",name:"Master"},{id:"ingenieur",name:"Ing\xE9nieur"}];this.filteredFormations=[];this.selectedDepartment="all";this.selectedLevel="all";this.searchTerm="";this.pageInfo={title:"Nos Formations",subtitle:"D\xE9couvrez notre offre de formations d'excellence",description:"L'ISET Kairouan propose des formations dipl\xF4mantes dans les domaines technologiques, alliant th\xE9orie et pratique pour pr\xE9parer les \xE9tudiants aux d\xE9fis du march\xE9 du travail.",image:"assets/images/campus/formations-bg.jpg"}}ngOnInit(){this.filteredFormations=[...this.formations]}filterByDepartment(t){this.selectedDepartment=t,this.applyFilters()}filterByLevel(t){this.selectedLevel=t,this.applyFilters()}onSearch(t){this.searchTerm=t.toLowerCase(),this.applyFilters()}applyFilters(){let t=[...this.formations];this.selectedDepartment!=="all"&&(t=t.filter(e=>e.department.toLowerCase()===this.selectedDepartment)),this.selectedLevel!=="all"&&(t=t.filter(e=>e.level.toLowerCase()===this.selectedLevel)),this.searchTerm&&(t=t.filter(e=>e.title.toLowerCase().includes(this.searchTerm)||e.description.toLowerCase().includes(this.searchTerm)||e.department.toLowerCase().includes(this.searchTerm))),this.filteredFormations=t}getLevelClass(t){return{Licence:"level-licence",Master:"level-master",Ing\u00E9nieur:"level-ingenieur"}[t]||""}getDepartmentColor(t){return{Informatique:"#0055a4",T\u00E9l\u00E9communications:"#0077c8",\u00C9lectrique:"#f57c00","Maintenance industrielle":"#9c27b0"}[t]||"#666"}trackByFormation(t,e){return e.id}trackByDepartment(t,e){return e.id}trackByLevel(t,e){return e.id}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-formations"]],decls:42,vars:0,consts:[[1,"formations-page"],[1,"formation-hero"],[1,"hero-title","animate-on-scroll"],[1,"formation-section"],[1,"section-text"],[1,"section-label"],[1,"section-description"],[1,"section-image"],["src","assets/images/images_iset/Image8.jpg","alt","ISET Kairouan Formation"],[1,"formation-section","reverse"],[1,"plus-icon"],[1,"fas","fa-plus","ms-2"],["src","assets/images/images_iset/Image9.jpg","alt","Licences ISET"],["src","assets/images/images_iset/Image10.jpg","alt","Mast\xE8res ISET"],["src","assets/images/images_iset/ead_prsenc.jpg","alt","Formation \xE0 distance ISET"],["routerLink","/",1,"btn-back-home","shadow-lg"],[1,"fas","fa-home"]],template:function(e,n){e&1&&(c(0,"main",0)(1,"header",1)(2,"h1",2),p(3,"Formation"),m()(),c(4,"section",3)(5,"div",4)(6,"div",5),p(7,"Formation"),m(),c(8,"p",6),p(9," L'ISET de Kairouan offre un large \xE9ventail de programmes de formation professionnelle et technique. Notre mission est de pr\xE9parer les \xE9tudiants aux d\xE9fis du march\xE9 de l'emploi \xE0 travers une p\xE9dagogie innovante et des \xE9quipements de pointe. "),m()(),c(10,"div",7),b(11,"img",8),m()(),c(12,"section",9)(13,"div",4)(14,"div",5),p(15," Licences "),c(16,"span",10),b(17,"i",11),m()(),c(18,"p",6),p(19," Nos programmes de Licence sont con\xE7us pour fournir une base solide de connaissances th\xE9oriques et pratiques dans divers domaines technologiques. Nous formons des techniciens sup\xE9rieurs hautement qualifi\xE9s et pr\xEAts \xE0 int\xE9grer le milieu industriel. "),m()(),c(20,"div",7),b(21,"img",12),m()(),c(22,"section",3)(23,"div",4)(24,"div",5),p(25," Mast\xE8res "),m(),c(26,"p",6),p(27," Pour ceux qui souhaitent approfondir leurs connaissances, nos Mast\xE8res professionnels permettent une sp\xE9cialisation pointue dans des domaines d'avenir. Un parcours d'excellence pour devenir les experts de demain. "),m()(),c(28,"div",7),b(29,"img",13),m()(),c(30,"section",9)(31,"div",4)(32,"div",5),p(33," Formation \xE0 distance "),c(34,"span",10),b(35,"i",11),m()(),c(36,"p",6),p(37," L'ISET Kairouan s'adapte aux nouvelles technologies avec des programmes de formation \xE0 distance flexibles, permettant d'apprendre \xE0 son rythme tout en b\xE9n\xE9ficiant de l'encadrement de nos meilleurs experts. "),m()(),c(38,"div",7),b(39,"img",14),m()(),c(40,"button",15),b(41,"i",16),m()())},dependencies:[X,pe,Ie,We],styles:['.formations-page[_ngcontent-%COMP%]{background-color:#fff;min-height:100vh}.formations-page[_ngcontent-%COMP%]   .formation-hero[_ngcontent-%COMP%]{height:350px;background:linear-gradient(#001b44d9,#001b44f2),url(https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=1920);background-size:cover;background-position:center;background-attachment:fixed;display:flex;align-items:center;justify-content:center;position:relative;border-bottom:5px solid #c5a021}.formations-page[_ngcontent-%COMP%]   .formation-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:5rem;font-weight:950;color:#fff;text-transform:uppercase;letter-spacing:12px;text-shadow:0 15px 45px rgba(0,0,0,.6);animation:_ngcontent-%COMP%_tracking-in-expand 1.2s cubic-bezier(.215,.61,.355,1) both}@keyframes _ngcontent-%COMP%_tracking-in-expand{0%{letter-spacing:-.5em;opacity:0}40%{opacity:.6}to{opacity:1}}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]{padding:0;overflow:hidden;display:flex;min-height:400px;border-bottom:1px solid #eee}.formations-page[_ngcontent-%COMP%]   .formation-section.reverse[_ngcontent-%COMP%]{flex-direction:row-reverse}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]{flex:1;padding:5rem;display:flex;flex-direction:column;justify-content:center;transition:all .5s ease}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-weight:800;color:#001b44;font-size:1.5rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:15px}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]:after{content:"";height:3px;flex-grow:1;background:#eee}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]   .plus-icon[_ngcontent-%COMP%]{color:#0055a4;font-weight:400}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;line-height:1.8}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-image[_ngcontent-%COMP%]{flex:1;overflow:hidden}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform 1.5s cubic-bezier(.16,1,.3,1)}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]:hover   .section-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]:hover   .section-text[_ngcontent-%COMP%]{background-color:#f8faff}.formations-page[_ngcontent-%COMP%]   .btn-back-home[_ngcontent-%COMP%]{position:fixed;top:30px;left:30px;z-index:1000;background:#c5a021;color:#001b44;width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 10px 30px #c5a02166;transition:all .3s;border:none}.formations-page[_ngcontent-%COMP%]   .btn-back-home[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(-15deg);background:#001b44;color:#c5a021}@media (max-width: 991px){.formations-page[_ngcontent-%COMP%]   .formation-hero[_ngcontent-%COMP%]{height:250px}.formations-page[_ngcontent-%COMP%]   .formation-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]{flex-direction:column!important;min-height:auto}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]{padding:3rem 2rem}.formations-page[_ngcontent-%COMP%]   .formation-section[_ngcontent-%COMP%]   .section-image[_ngcontent-%COMP%]{height:300px}}']})}};function Qm(i,t){if(i&1&&(c(0,"div",9)(1,"button",10)(2,"span"),p(3),m(),b(4,"i"),m()()),i&2){let e=P();h(),z("with-action",e.service.action||e.service.link),Kn("aria-label",e.getActionText()+" pour "+e.service.title),h(2),F(e.getActionText()),h(),Ge(e.getActionIcon())}}var zi=class i{constructor(){this.animated=!0;this.variant="default";this.showAction=!1;this.isHovered=!1}ngOnInit(){if(!this.service)throw new Error("Service input is required")}onCardClick(){this.service.action==="openStudentSpace"?window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer"):this.service.link}getIconClass(){return this.service.icon.startsWith("fa-")?`fas ${this.service.icon}`:this.service.icon}getActionIcon(){return this.service.action==="openStudentSpace"?"fas fa-external-link-alt":"fas fa-arrow-right"}getActionText(){return this.service.action==="openStudentSpace"?"Acc\xE9der":"En savoir plus"}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-service-card"]],inputs:{service:"service",animated:"animated",variant:"variant",showAction:"showAction"},decls:12,vars:12,consts:[[1,"service-card",3,"mouseenter","mouseleave","click"],[1,"card-header"],[1,"service-icon"],[1,"service-title"],[1,"card-body"],[1,"service-description"],["class","card-footer",4,"ngIf"],[1,"card-decoration"],[1,"decoration-line"],[1,"card-footer"],[1,"action-btn"]],template:function(e,n){e&1&&(c(0,"div",0),w("mouseenter",function(){return n.isHovered=!0})("mouseleave",function(){return n.isHovered=!1})("click",function(){return n.onCardClick()}),c(1,"div",1)(2,"div",2),b(3,"i"),m(),c(4,"h3",3),p(5),m()(),c(6,"div",4)(7,"p",5),p(8),m()(),k(9,Qm,5,6,"div",6),c(10,"div",7),b(11,"div",8),m()()),e&2&&(z("hovered",n.isHovered)("animated",n.animated)("compact",n.variant==="compact"),Kn("data-service-id",n.service.id),h(3),Ge(n.getIconClass()),h(2),F(n.service.title),h(3),F(n.service.description),h(),y("ngIf",n.showAction))},dependencies:[X,le,pe],styles:[".service-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 5px 20px #0000000d;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-top:4px solid #0055a4;cursor:pointer;height:100%;display:flex;flex-direction:column}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 15px 35px #0055a426}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.service-card[_ngcontent-%COMP%]:hover   .action-btn[_ngcontent-%COMP%]{transform:translate(5px);background:linear-gradient(90deg,#0055a4,#0077c8);color:#fff}.service-card[_ngcontent-%COMP%]:hover   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.service-card.compact[_ngcontent-%COMP%]{padding:1.5rem}.service-card.compact[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem}.service-card.compact[_ngcontent-%COMP%]   .service-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.8rem}.service-card.compact[_ngcontent-%COMP%]   .service-description[_ngcontent-%COMP%]{font-size:.95rem}.service-card.animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.service-icon[_ngcontent-%COMP%]{width:70px;height:70px;background:linear-gradient(135deg,#0055a4,#0077c8);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem;font-size:2rem;transition:transform .4s cubic-bezier(.4,0,.2,1);box-shadow:0 8px 20px #0055a433}.service-title[_ngcontent-%COMP%]{color:#036;font-size:1.4rem;font-weight:700;margin:0 0 1rem;line-height:1.3;text-align:center}.card-body[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:1.5rem}.service-description[_ngcontent-%COMP%]{color:#666;line-height:1.7;margin:0;text-align:center;font-size:1.05rem}.card-footer[_ngcontent-%COMP%]{text-align:center;padding-top:1.5rem;border-top:1px solid rgba(0,0,0,.05)}.action-btn[_ngcontent-%COMP%]{background:none;border:2px solid #0055a4;color:#0055a4;padding:.8rem 1.5rem;border-radius:25px;font-weight:600;font-size:.95rem;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.8rem}.action-btn.with-action[_ngcontent-%COMP%]:hover{gap:1rem}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8;transition:all .3s;transform:translate(-5px)}.card-decoration[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent,#0077c8,transparent);opacity:0;transition:opacity .3s}.service-card[_ngcontent-%COMP%]:hover   .card-decoration[_ngcontent-%COMP%]{opacity:1}@media (max-width: 768px){.service-card[_ngcontent-%COMP%]{padding:1.5rem}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.service-icon[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.8rem}.service-title[_ngcontent-%COMP%]{font-size:1.3rem}}"]})}};function Xm(i,t){if(i&1){let e=U();c(0,"button",42),w("click",function(){let o=I(e).$implicit,r=P();return D(r.filterByCategory(o.id))}),p(1),c(2,"span",43),p(3),m()()}if(i&2){let e=t.$implicit,n=P();z("active",n.selectedCategory===e.id),h(),q(" ",e.name," "),h(2),F(e.count)}}function Jm(i,t){if(i&1&&(c(0,"div",44),b(1,"i",14),c(2,"span"),p(3),m()()),i&2){let e=P();h(3),q('Aucun service correspondant \xE0 "',e.searchTerm,'"')}}function Zm(i,t){if(i&1&&b(0,"app-service-card",45),i&2){let e=t.$implicit;y("service",e)("animated",!0)}}var Vi=class i{constructor(){this.allServices=[{id:1,icon:"fa-user-check",title:"Inscription en Ligne",description:"Proc\xE9dure compl\xE8te d'inscription et de r\xE9inscription en ligne pour tous les \xE9tudiants.",action:"openStudentSpace"},{id:2,icon:"fa-download",title:"Espace T\xE9l\xE9chargement",description:"Acc\xE8s aux documents administratifs, formulaires et ressources p\xE9dagogiques.",action:"openStudentSpace"},{id:3,icon:"fa-book",title:"Biblioth\xE8que Num\xE9rique",description:"Catalogue en ligne des ouvrages, revues scientifiques et ressources documentaires.",action:"openStudentSpace"},{id:4,icon:"fa-newspaper",title:"Plaquettes P\xE9dagogiques",description:"T\xE9l\xE9chargement des programmes p\xE9dagogiques et guides des formations.",action:"openStudentSpace"},{id:5,icon:"fa-calendar-alt",title:"Emploi du Temps",description:"Consultation et gestion des emplois du temps pour toutes les fili\xE8res.",action:"openStudentSpace"},{id:6,icon:"fa-chart-line",title:"R\xE9sultats & Notes",description:"Consultation des notes et r\xE9sultats d'examens en temps r\xE9el.",action:"openStudentSpace"},{id:7,icon:"fa-file-contract",title:"Demandes Administratives",description:"Formulaires en ligne pour les attestations, relev\xE9s de notes et autres documents.",action:"openStudentSpace"},{id:8,icon:"fa-comments",title:"Messagerie Acad\xE9mique",description:"Communication s\xE9curis\xE9e entre \xE9tudiants, enseignants et administration.",action:"openStudentSpace"},{id:9,icon:"fa-briefcase",title:"Stages & Emplois",description:"Plateforme de stages, offres d'emploi et opportunit\xE9s professionnelles.",action:"openStudentSpace"},{id:10,icon:"fa-graduation-cap",title:"Inscription aux Examens",description:"Inscription en ligne aux examens et concours.",action:"openStudentSpace"},{id:11,icon:"fa-money-check-alt",title:"Paiement en Ligne",description:"Syst\xE8me s\xE9curis\xE9 de paiement des frais acad\xE9miques en ligne.",action:"openStudentSpace"},{id:12,icon:"fa-headset",title:"Support Technique",description:"Assistance technique et aide en ligne pour les probl\xE8mes d'acc\xE8s.",action:"openStudentSpace"}];this.categories=[{id:"all",name:"Tous les services",count:12},{id:"academic",name:"Services Acad\xE9miques",count:6},{id:"administrative",name:"Services Administratifs",count:4},{id:"financial",name:"Services Financiers",count:1},{id:"support",name:"Support & Assistance",count:1}];this.filteredServices=[];this.selectedCategory="all";this.searchTerm="";this.pageInfo={title:"Services aux \xC9tudiants",subtitle:"Acc\xE9dez \xE0 tous les services num\xE9riques de l'ISET Kairouan",description:"Notre plateforme num\xE9rique met \xE0 votre disposition un ensemble complet de services pour faciliter votre parcours acad\xE9mique et administratif.",image:"assets/images/campus/services-bg.jpg"}}ngOnInit(){this.filteredServices=[...this.allServices]}filterByCategory(t){this.selectedCategory=t,this.applyFilters()}onSearch(t){this.searchTerm=t.toLowerCase(),this.applyFilters()}applyFilters(){let t=[...this.allServices];this.selectedCategory!=="all"&&(t=t.filter(e=>!0)),this.searchTerm&&(t=t.filter(e=>e.title.toLowerCase().includes(this.searchTerm)||e.description.toLowerCase().includes(this.searchTerm))),this.filteredServices=t}openStudentSpace(){window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer")}getCategoryCount(t){return t==="all"?this.allServices.length:0}trackByService(t,e){return e.id}trackByCategory(t,e){return e.id}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-services"]],decls:98,vars:10,consts:[[1,"services-page"],[1,"hero-section"],[1,"container"],[1,"hero-content"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-description"],[1,"hero-cta"],[1,"btn","btn-primary","btn-large",3,"click"],[1,"fas","fa-external-link-alt"],[1,"hero-overlay"],[1,"services-content-section"],[1,"services-controls"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Rechercher un service...",3,"ngModelChange","ngModel"],[1,"categories-filter"],[1,"categories-list"],["class","category-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"services-grid"],["class","searching-state",4,"ngIf"],[3,"service","animated",4,"ngFor","ngForOf","ngForTrackBy"],[1,"quick-access-section"],[1,"section-title"],[1,"quick-access-grid"],["href","javascript:void(0)",1,"quick-access-item",3,"click"],[1,"access-icon"],[1,"fas","fa-graduation-cap"],[1,"access-content"],[1,"fas","fa-arrow-right","access-arrow"],[1,"fas","fa-file-invoice-dollar"],[1,"fas","fa-calendar-check"],[1,"fas","fa-headset"],[1,"help-section"],[1,"help-card"],[1,"help-content"],[1,"help-contacts"],[1,"contact-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"fas","fa-clock"],[1,"help-image"],[1,"category-btn",3,"click"],[1,"category-count"],[1,"searching-state"],[3,"service","animated"]],template:function(e,n){e&1&&(c(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1",4),p(5),m(),c(6,"p",5),p(7),m(),c(8,"p",6),p(9),m(),c(10,"div",7)(11,"button",8),w("click",function(){return n.openStudentSpace()}),b(12,"i",9),p(13," Acc\xE9der \xE0 l'espace \xE9tudiant "),m()()()(),b(14,"div",10),m(),c(15,"section",11)(16,"div",2)(17,"div",12)(18,"div",13),b(19,"i",14),c(20,"input",15),se("ngModelChange",function(r){return re(n.searchTerm,r)||(n.searchTerm=r),r}),w("ngModelChange",function(r){return n.onSearch(r)}),m()(),c(21,"div",16)(22,"div",17),k(23,Xm,4,4,"button",18),m()()(),c(24,"div",19),k(25,Jm,4,1,"div",20)(26,Zm,1,2,"app-service-card",21),m(),c(27,"div",22)(28,"h3",23),p(29,"Acc\xE8s Rapide"),m(),c(30,"div",24)(31,"a",25),w("click",function(){return n.openStudentSpace()}),c(32,"div",26),b(33,"i",27),m(),c(34,"div",28)(35,"h4"),p(36,"Espace \xC9tudiant"),m(),c(37,"p"),p(38,"Portail officiel d'acc\xE8s aux services"),m()(),b(39,"i",29),m(),c(40,"a",25),w("click",function(){return n.openStudentSpace()}),c(41,"div",26),b(42,"i",30),m(),c(43,"div",28)(44,"h4"),p(45,"Paiement en Ligne"),m(),c(46,"p"),p(47,"R\xE8glement des frais acad\xE9miques"),m()(),b(48,"i",29),m(),c(49,"a",25),w("click",function(){return n.openStudentSpace()}),c(50,"div",26),b(51,"i",31),m(),c(52,"div",28)(53,"h4"),p(54,"Inscription Examens"),m(),c(55,"p"),p(56,"S'inscrire aux sessions d'examens"),m()(),b(57,"i",29),m(),c(58,"a",25),w("click",function(){return n.openStudentSpace()}),c(59,"div",26),b(60,"i",32),m(),c(61,"div",28)(62,"h4"),p(63,"Support Technique"),m(),c(64,"p"),p(65,"Assistance et aide en ligne"),m()(),b(66,"i",29),m()()(),c(67,"div",33)(68,"div",34)(69,"div",35)(70,"h3"),p(71,"Besoin d'aide ?"),m(),c(72,"p"),p(73,"Notre \xE9quipe de support est disponible pour vous aider avec les services en ligne."),m(),c(74,"div",36)(75,"div",37),b(76,"i",38),c(77,"div")(78,"strong"),p(79,"Email :"),m(),c(80,"span"),p(81,"support@isetk.rnu.tn"),m()()(),c(82,"div",37),b(83,"i",39),c(84,"div")(85,"strong"),p(86,"T\xE9l\xE9phone :"),m(),c(87,"span"),p(88,"(+216) 77 123 456"),m()()(),c(89,"div",37),b(90,"i",40),c(91,"div")(92,"strong"),p(93,"Horaires :"),m(),c(94,"span"),p(95,"Lun-Ven : 8h-17h"),m()()()()(),c(96,"div",41),b(97,"i",32),m()()()()()()),e&2&&(h(),Oe("background-image","url("+n.pageInfo.image+")"),h(4),F(n.pageInfo.title),h(2),F(n.pageInfo.subtitle),h(2),F(n.pageInfo.description),h(11),oe("ngModel",n.searchTerm),h(3),y("ngForOf",n.categories),h(2),y("ngIf",n.filteredServices.length===0&&n.searchTerm),h(),y("ngForOf",n.filteredServices)("ngForTrackBy",n.trackByService))},dependencies:[X,xe,le,pe,We,Be,Ue,xt,zi],styles:[`.services-page[_ngcontent-%COMP%]{min-height:100vh}.hero-section[_ngcontent-%COMP%]{background:linear-gradient(#0055a4e6,#0077c8e6);background-size:cover;background-position:center;color:#fff;padding:6rem 0 4rem;position:relative}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(45deg,rgba(0,0,0,.3),transparent);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:800px;margin:0 auto;text-align:center}.hero-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;margin-bottom:1rem;line-height:1.2}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.4rem;opacity:.95;margin-bottom:1.5rem;font-weight:600}.hero-description[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:2.5rem;line-height:1.6;max-width:600px;margin-left:auto;margin-right:auto}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:250px;padding:1.2rem 2.5rem;font-size:1.1rem}.hero-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin-right:.5rem}.services-controls[_ngcontent-%COMP%]{margin:3rem 0;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 5px 20px #0000000d}.search-box[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1.2rem;top:50%;transform:translateY(-50%);color:#666;font-size:1.2rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3.5rem;border:2px solid rgba(0,0,0,.1);border-radius:8px;font-size:1.1rem;transition:all .3s;background:#f5f7fa}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;background:#fff;box-shadow:0 0 0 3px #0055a41a}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666666b3}.categories-filter[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.8rem}.category-btn[_ngcontent-%COMP%]{background:#0055a41a;border:1px solid rgba(0,85,164,.2);color:#0055a4;padding:.8rem 1.5rem;border-radius:25px;font-weight:600;font-size:.95rem;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem}.category-btn[_ngcontent-%COMP%]:hover{background:#0055a433;transform:translateY(-2px)}.category-btn.active[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border-color:#0055a4}.category-count[_ngcontent-%COMP%]{background:#fff3;padding:.2rem .6rem;border-radius:12px;font-size:.8rem;font-weight:600}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem;margin-bottom:4rem}.loading-spinner[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;color:#666}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#0055a4}.loading-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}.quick-access-section[_ngcontent-%COMP%]{margin-bottom:4rem}.section-title[_ngcontent-%COMP%]{color:#036;font-size:2rem;font-weight:700;margin-bottom:2rem;text-align:center}.quick-access-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.quick-access-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1.2rem;text-decoration:none;color:inherit;border:1px solid rgba(0,0,0,.05);transition:all .3s;cursor:pointer}.quick-access-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0000001a;border-color:#0055a4}.quick-access-item[_ngcontent-%COMP%]:hover   .access-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.access-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,#0055a4,#0077c8);color:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0}.access-content[_ngcontent-%COMP%]{flex:1}.access-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#036;font-size:1.1rem;font-weight:700;margin:0 0 .3rem}.access-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin:0;line-height:1.4}.access-arrow[_ngcontent-%COMP%]{color:#0055a4;font-size:1.2rem;transition:transform .3s}.help-section[_ngcontent-%COMP%]{margin-bottom:4rem}.help-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#0077c8);color:#fff;border-radius:20px;padding:3rem;display:flex;align-items:center;gap:3rem;position:relative;overflow:hidden}.help-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');background-size:cover}.help-content[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1}.help-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1rem}.help-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.95;margin-bottom:2rem;line-height:1.6}.help-contacts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#fffc;width:24px;text-align:center}.contact-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.contact-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;opacity:.9}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.help-image[_ngcontent-%COMP%]{position:relative;z-index:1;flex-shrink:0}.help-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem;opacity:.2}@media (max-width: 1200px){.hero-title[_ngcontent-%COMP%]{font-size:2.5rem}}@media (max-width: 992px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}.help-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:2rem}.contact-item[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:4rem 0 3rem}.hero-title[_ngcontent-%COMP%]{font-size:2rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}.hero-description[_ngcontent-%COMP%]{font-size:1rem}.services-controls[_ngcontent-%COMP%]{padding:1.5rem}.categories-list[_ngcontent-%COMP%]{justify-content:center}.services-grid[_ngcontent-%COMP%], .quick-access-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.help-card[_ngcontent-%COMP%]{padding:2rem}.help-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.help-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6rem}}@media (max-width: 576px){.hero-title[_ngcontent-%COMP%]{font-size:1.8rem}.category-btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem}.section-title[_ngcontent-%COMP%]{font-size:1.8rem}.quick-access-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.access-content[_ngcontent-%COMP%]{text-align:center}}`]})}};function eu(i,t){if(i&1&&(c(0,"div",24),b(1,"i",26),c(2,"span"),p(3),m()()),i&2){let e=P(2);h(3),q("\xC9metteur: ",e.certificate.issuer,"")}}function tu(i,t){if(i&1&&(c(0,"div",24),b(1,"i",27),c(2,"span"),p(3),m()()),i&2){let e=P(2);h(3),q("Cat\xE9gorie: ",e.certificate.category,"")}}function nu(i,t){if(i&1&&(c(0,"div",24),b(1,"i",28),c(2,"span"),p(3),m()()),i&2){let e=P(2);h(3),q("Valide jusqu'au: ",e.certificate.validUntil,"")}}function iu(i,t){if(i&1&&(c(0,"div",22),k(1,eu,4,1,"div",23)(2,tu,4,1,"div",23),c(3,"div",24),b(4,"i",25),c(5,"span"),p(6),m()(),k(7,nu,4,1,"div",23),m()),i&2){let e=P();h(),y("ngIf",e.certificate.issuer),h(),y("ngIf",e.certificate.category),h(4),q("D\xE9livr\xE9 le: ",e.certificate.issuedDate,""),h(),y("ngIf",e.certificate.validUntil)}}function ou(i,t){if(i&1){let e=U();c(0,"button",29),w("click",function(){I(e);let o=P();return D(o.toggleDetails())}),b(1,"i",14),p(2),m()}if(i&2){let e=P();h(),z("fa-chevron-down",!e.showDetails)("fa-chevron-up",e.showDetails),h(),q(" ",e.showDetails?"Moins":"Plus"," de d\xE9tails ")}}function ru(i,t){if(i&1){let e=U();c(0,"button",30),w("click",function(){I(e);let o=P();return D(o.verifyCertificate())}),b(1,"i",31),p(2," V\xE9rifier "),m()}}var ji=class i{constructor(){this.variant="default";this.showVerification=!0;this.animated=!0;this.isHovered=!1;this.showDetails=!1}ngOnInit(){if(!this.certificate)throw new Error("Certificate input is required")}toggleDetails(){this.showDetails=!this.showDetails}verifyCertificate(){this.certificate.verificationUrl?window.open(this.certificate.verificationUrl,"_blank","noopener,noreferrer"):alert(`Certificat ${this.certificate.standard} - \xC9mis le ${this.certificate.issuedDate}`)}getStandardColor(){return{"ISO 9001:2015":"#0055a4","ISO 21001:2018":"#0077c8","ISO 14001":"#2e7d32","ISO 45001":"#f57c00"}[this.certificate.standard]||"#0055a4"}isExpired(){return this.certificate.validUntil?new Date(this.certificate.validUntil)<new Date:!1}getDaysRemaining(){if(!this.certificate.validUntil)return 0;let t=new Date(this.certificate.validUntil),e=new Date,n=t.getTime()-e.getTime();return Math.ceil(n/(1e3*60*60*24))}getStatusText(){if(this.isExpired())return"Expir\xE9";if(this.certificate.validUntil){let t=this.getDaysRemaining();return t<30?`Expire dans ${t} jour${t>1?"s":""}`:"Valide"}return"Permanent"}getStatusClass(){return this.isExpired()?"expired":this.certificate.validUntil&&this.getDaysRemaining()<30?"expiring":"valid"}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-certificate-card"]],inputs:{certificate:"certificate",variant:"variant",showVerification:"showVerification",animated:"animated"},decls:31,vars:32,consts:[[1,"certificate-card",3,"mouseenter","mouseleave"],[1,"card-badge"],[1,"badge-text"],[1,"card-header"],[1,"certificate-type"],[1,"fas","fa-certificate"],[1,"certificate-title"],[1,"certificate-standard"],[1,"card-body"],[1,"certificate-description"],["class","certificate-details",4,"ngIf"],[1,"card-footer"],[1,"status-info"],[1,"status-badge"],[1,"fas"],[1,"issued-date"],[1,"fas","fa-calendar-alt"],[1,"action-buttons"],["class","details-btn",3,"click",4,"ngIf"],["class","verify-btn",3,"click",4,"ngIf"],[1,"card-decoration"],[1,"decoration-line"],[1,"certificate-details"],["class","detail-item",4,"ngIf"],[1,"detail-item"],[1,"fas","fa-calendar-check"],[1,"fas","fa-building"],[1,"fas","fa-tag"],[1,"fas","fa-calendar-times"],[1,"details-btn",3,"click"],[1,"verify-btn",3,"click"],[1,"fas","fa-external-link-alt"]],template:function(e,n){e&1&&(c(0,"div",0),w("mouseenter",function(){return n.isHovered=!0})("mouseleave",function(){return n.isHovered=!1}),c(1,"div",1)(2,"span",2),p(3),m()(),c(4,"div",3)(5,"div",4),b(6,"i",5),c(7,"span"),p(8,"Certificat Num\xE9rique"),m()(),c(9,"h3",6),p(10),m(),c(11,"div",7),p(12),m()(),c(13,"div",8)(14,"p",9),p(15),m(),k(16,iu,8,4,"div",10),m(),c(17,"div",11)(18,"div",12)(19,"div",13),b(20,"i",14),c(21,"span"),p(22),m()(),c(23,"div",15),b(24,"i",16),p(25),m()(),c(26,"div",17),k(27,ou,3,5,"button",18)(28,ru,3,0,"button",19),m()(),c(29,"div",20),b(30,"div",21),m()()),e&2&&(z("hovered",n.isHovered)("animated",n.animated)("detailed",n.variant==="detailed")("expired",n.isExpired()),Kn("data-certificate-id",n.certificate.id),h(),Oe("background",n.getStandardColor()),h(2),F(n.certificate.badge),h(7),F(n.certificate.title),h(),Oe("background",n.getStandardColor()),h(),q(" ",n.certificate.standard," "),h(3),F(n.certificate.description),h(),y("ngIf",n.showDetails||n.variant==="detailed"),h(3),Ge(n.getStatusClass()),h(),z("fa-check-circle",!n.isExpired()&&n.getDaysRemaining()>30)("fa-exclamation-triangle",!n.isExpired()&&n.getDaysRemaining()<=30)("fa-times-circle",n.isExpired()),h(2),F(n.getStatusText()),h(3),q(" ",n.certificate.issuedDate," "),h(2),y("ngIf",n.variant!=="detailed"),h(),y("ngIf",n.showVerification),h(2),Oe("background",n.getStandardColor()))},dependencies:[X,le],styles:[".certificate-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#f5f7fa);border-radius:12px;padding:2.5rem 2rem 2rem;box-shadow:0 8px 25px #0055a41a;border:1px solid rgba(0,85,164,.1);transition:all .4s ease;position:relative;overflow:hidden;height:100%;display:flex;flex-direction:column}.certificate-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 15px 35px #0055a426;border-color:#0055a433}.certificate-card[_ngcontent-%COMP%]:hover   .card-badge[_ngcontent-%COMP%]{transform:rotate(5deg) scale(1.1)}.certificate-card.detailed[_ngcontent-%COMP%]{padding:2rem}.certificate-card.detailed[_ngcontent-%COMP%]   .certificate-details[_ngcontent-%COMP%]{display:block!important}.certificate-card.expired[_ngcontent-%COMP%]{opacity:.9}.certificate-card.expired[_ngcontent-%COMP%]   .card-badge[_ngcontent-%COMP%], .certificate-card.expired[_ngcontent-%COMP%]   .certificate-standard[_ngcontent-%COMP%]{background:#d32f2f!important}.certificate-card.animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.card-badge[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;width:50px;height:50px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;box-shadow:0 4px 10px #0003;transition:transform .4s cubic-bezier(.4,0,.2,1);z-index:2}.card-badge[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;text-shadow:0 2px 4px rgba(0,0,0,.2)}.card-header[_ngcontent-%COMP%]{padding-bottom:1.5rem;border-bottom:1px solid rgba(0,0,0,.08);margin-bottom:1.5rem;position:relative;z-index:1}.certificate-type[_ngcontent-%COMP%]{color:#0d47a1;font-size:1.1rem;font-weight:700;margin-bottom:.8rem;display:flex;align-items:center;gap:.5rem;letter-spacing:1px;text-transform:uppercase}.certificate-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.certificate-title[_ngcontent-%COMP%]{color:#036;font-size:1.8rem;font-weight:800;margin:0 0 1.2rem;line-height:1.3;min-height:4.5rem}.certificate-standard[_ngcontent-%COMP%]{display:inline-block;color:#fff;padding:.6rem 1.8rem;border-radius:30px;font-weight:700;font-size:1.2rem;box-shadow:0 4px 10px #0003;text-transform:uppercase;letter-spacing:.5px}.card-body[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:1.5rem}.certificate-description[_ngcontent-%COMP%]{color:#666;line-height:1.7;margin:0 0 1.5rem;font-size:1.05rem}.certificate-details[_ngcontent-%COMP%]{background:color-mix(in srgb,#0055a4,transparent 95%);border-radius:8px;padding:1.2rem;border-left:3px solid #0055a4}.certificate-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;margin-bottom:.8rem;font-size:.95rem;color:#333}.certificate-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.certificate-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0055a4;font-size:.9rem;width:16px;text-align:center}.card-footer[_ngcontent-%COMP%]{padding-top:1.5rem;border-top:1px solid rgba(0,0,0,.08)}.status-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.2rem}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:20px;font-size:.85rem;font-weight:600}.status-badge.valid[_ngcontent-%COMP%]{background:color-mix(in srgb,#2e7d32,transparent 90%);color:#2e7d32;border:1px solid color-mix(in srgb,#2e7d32,transparent 80%)}.status-badge.expiring[_ngcontent-%COMP%]{background:color-mix(in srgb,#f57c00,transparent 90%);color:#f57c00;border:1px solid color-mix(in srgb,#f57c00,transparent 80%)}.status-badge.expired[_ngcontent-%COMP%]{background:color-mix(in srgb,#d32f2f,transparent 90%);color:#d32f2f;border:1px solid color-mix(in srgb,#d32f2f,transparent 80%)}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.issued-date[_ngcontent-%COMP%]{color:#666;font-size:.9rem;display:flex;align-items:center;gap:.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:.8rem 1.2rem;border-radius:6px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:.6rem}.details-btn[_ngcontent-%COMP%]{background:color-mix(in srgb,#0055a4,transparent 90%);border:1px solid color-mix(in srgb,#0055a4,transparent 80%);color:#0055a4}.details-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#0055a4,transparent 80%);transform:translateY(-2px)}.verify-btn[_ngcontent-%COMP%]{background:#0055a4;border:1px solid #0055a4;color:#fff}.verify-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#0055a4,black 5%);transform:translateY(-2px);box-shadow:0 5px 15px color-mix(in srgb,#0055a4,transparent 70%)}.card-decoration[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:5px;overflow:hidden}.card-decoration[_ngcontent-%COMP%]   .decoration-line[_ngcontent-%COMP%]{height:100%;width:100%;transform:translate(-100%);transition:transform .6s ease}.certificate-card[_ngcontent-%COMP%]:hover   .card-decoration[_ngcontent-%COMP%]   .decoration-line[_ngcontent-%COMP%]{transform:translate(0)}@media (max-width: 768px){.certificate-card[_ngcontent-%COMP%]{padding:2rem 1.5rem 1.5rem}.certificate-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.certificate-title[_ngcontent-%COMP%]{font-size:1.6rem;min-height:auto}.certificate-standard[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}};function su(i,t){if(i&1&&b(0,"app-certificate-card",3),i&2){let e=t.$implicit;y("certificate",e)}}var Bi=class i{constructor(){this.certificates=[{id:1,title:"Syst\xE8me de Management de la Qualit\xE9",standard:"ISO 9001:2015",description:"Certification garantissant la qualit\xE9 de nos services.",issuedDate:"2023-01-01",badge:"SMG"},{id:2,title:"Syst\xE8me de Management des Organisations \xC9ducatives",standard:"ISO 21001:2018",description:"Certification sp\xE9cifique aux \xE9tablissements d'enseignement.",issuedDate:"2024-01-01",badge:"SMG"}]}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["app-certifications"]],decls:5,vars:1,consts:[[1,"container",2,"padding","2rem"],[1,"certificates-grid",2,"display","grid","gap","2rem","grid-template-columns","repeat(auto-fit, minmax(300px, 1fr))","margin-top","2rem"],[3,"certificate",4,"ngFor","ngForOf"],[3,"certificate"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"h2"),p(2,"Nos Certifications"),m(),c(3,"div",1),k(4,su,1,1,"app-certificate-card",2),m()()),e&2&&(h(4),y("ngForOf",n.certificates))},dependencies:[X,xe,ji],encapsulation:2})}};function au(i,t){i&1&&(c(0,"span"),p(1,"ENVOYER"),m())}function lu(i,t){i&1&&(c(0,"span"),b(1,"i",22),p(2," ENVOI EN COURS..."),m())}var Ui=class i{constructor(t,e){this.dataService=t;this.router=e;this.contact={name:"",email:"",message:""};this.isSubmitting=!1}onSubmit(){this.isSubmitting=!0,this.dataService.sendContactMessage(this.contact).subscribe({next:()=>{alert("Votre message a \xE9t\xE9 envoy\xE9 avec succ\xE8s \xE0 l'administration de l'ISET Kairouan."),this.contact={name:"",email:"",message:""},this.isSubmitting=!1,this.router.navigate(["/"])},error:t=>{console.error("Error sending message:",t),alert("Une erreur est survenue lors de l'envoi du message. Veuillez r\xE9essayer."),this.isSubmitting=!1}})}static{this.\u0275fac=function(e){return new(e||i)($(vt),$(je))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-contact"]],decls:31,vars:6,consts:[["contactForm","ngForm"],[1,"contact-page"],["routerLink","/",1,"btn-back-home","shadow-lg"],[1,"fas","fa-home"],[1,"container","py-8"],[1,"contact-card","shadow-2xl","animate-on-scroll","slide-up"],[1,"contact-header","text-center","mb-5"],[1,"display-4","fw-black","text-navy"],[1,"divider-gold","mx-auto"],[1,"contact-form",3,"ngSubmit"],[1,"row","g-4"],[1,"col-12"],[1,"form-group-pro"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Votre nom complet",1,"form-input-pro",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","votrename@exemple.com",1,"form-input-pro",3,"ngModelChange","ngModel"],["for","message"],["id","message","name","message","required","","rows","6","placeholder","Comment pouvons-nous vous aider ?",1,"form-input-pro",3,"ngModelChange","ngModel"],[1,"col-12","text-center","mt-5"],["type","submit",1,"btn-send-pro",3,"disabled"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,n){if(e&1){let o=U();c(0,"div",1)(1,"button",2),b(2,"i",3),m(),c(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),p(7,"Contactez-nous"),m(),b(8,"div",8),m(),c(9,"form",9,0),w("ngSubmit",function(){return I(o),D(n.onSubmit())}),c(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),p(15,"Nom"),m(),c(16,"input",14),se("ngModelChange",function(s){return I(o),re(n.contact.name,s)||(n.contact.name=s),D(s)}),m()()(),c(17,"div",11)(18,"div",12)(19,"label",15),p(20,"Email"),m(),c(21,"input",16),se("ngModelChange",function(s){return I(o),re(n.contact.email,s)||(n.contact.email=s),D(s)}),m()()(),c(22,"div",11)(23,"div",12)(24,"label",17),p(25,"Message"),m(),c(26,"textarea",18),se("ngModelChange",function(s){return I(o),re(n.contact.message,s)||(n.contact.message=s),D(s)}),m()()(),c(27,"div",19)(28,"button",20),k(29,au,2,0,"span",21)(30,lu,3,0,"span",21),m()()()()()()()}if(e&2){let o=ha(10);h(16),oe("ngModel",n.contact.name),h(5),oe("ngModel",n.contact.email),h(5),oe("ngModel",n.contact.message),h(2),y("disabled",o.invalid||n.isSubmitting),h(),y("ngIf",!n.isSubmitting),h(),y("ngIf",n.isSubmitting)}},dependencies:[X,le,We,Kt,Be,Ue,Yt,Na,Ra,xt,Da,pe,Ie],styles:[".contact-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8faff,#fff);display:flex;align-items:center;justify-content:center;position:relative}.contact-card[_ngcontent-%COMP%]{background:#fff;border-radius:2rem;padding:4rem;max-width:700px;width:100%;margin:0 auto;border:1px solid rgba(0,0,0,.05)}.form-group-pro[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group-pro[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;color:#001b44;margin-bottom:.8rem;font-size:.95rem;letter-spacing:.5px}.form-input-pro[_ngcontent-%COMP%]{width:100%;padding:1.2rem;border-radius:1rem;border:2px solid #f0f4f8;background:#f8fafc;font-size:1rem;transition:all .3s ease}.form-input-pro[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;background:#fff;box-shadow:0 10px 20px #0055a40d}.btn-send-pro[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none;padding:1.2rem 4rem;border-radius:1rem;font-weight:900;font-size:1rem;letter-spacing:2px;transition:all .4s cubic-bezier(.16,1,.3,1);width:100%}.btn-send-pro[_ngcontent-%COMP%]:hover:not(:disabled){background:#003d7a;transform:translateY(-5px);box-shadow:0 15px 30px #0055a44d}.btn-send-pro[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}};var Jn=class i{constructor(t,e,n){this.router=t;this.authService=e;this.platformId=n}canActivate(){return this.authService.isAuthenticated()||!tt(this.platformId)?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(e){return new(e||i)(Me(je),Me(Ce),Me(_t))}}static{this.\u0275prov=Ke({token:i,factory:i.\u0275fac,providedIn:"root"})}};var Wi=class i{constructor(t,e,n){this.router=t;this.authService=e;this.platformId=n}canActivate(){let t=this.authService.getCurrentUser();if(!t&&tt(this.platformId)){let e=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(e)try{t=JSON.parse(e)}catch{console.error("Error parsing user in AdminGuard")}}return t&&t.role==="admin"||!tt(this.platformId)?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(e){return new(e||i)(Me(je),Me(Ce),Me(_t))}}static{this.\u0275prov=Ke({token:i,factory:i.\u0275fac,providedIn:"root"})}};var qi=class i{constructor(t){this.authService=t;this.isCollapsed=!1;this.authService.currentUser.subscribe(e=>this.currentUser=e)}toggleSidebar(){this.isCollapsed=!this.isCollapsed}logout(){this.authService.logout()}static{this.\u0275fac=function(e){return new(e||i)($(Ce))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-layout"]],decls:70,vars:11,consts:[[1,"admin-wrapper"],[1,"admin-sidebar"],[1,"sidebar-header"],[1,"logo-icon"],[1,"logo-text"],[1,"sidebar-nav"],[1,"menu-label"],["routerLink","/admin/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-th-large"],["routerLink","/admin/users","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-users-cog"],["routerLink","/admin/structure","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-sitemap"],["routerLink","/admin/academic","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-graduation-cap"],["routerLink","/admin/news","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-newspaper"],["routerLink","/admin/messages","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-envelope-open-text"],[1,"nav-divider"],["routerLink","/",1,"nav-item","return-site"],[1,"fas","fa-external-link-alt"],[1,"sidebar-footer"],[1,"logout-btn",3,"click"],[1,"fas","fa-power-off"],[1,"admin-main"],[1,"admin-header"],[1,"header-left"],[1,"toggle-btn",3,"click"],[1,"fas"],[1,"page-title"],[1,"header-right"],["title","Nouveau","routerLink","/admin/news",1,"quick-add-btn"],[1,"fas","fa-plus"],[1,"user-info"],[1,"user-details"],[1,"username"],[1,"role-badge"],[1,"admin-avatar"],[1,"admin-content"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),p(4,"IK"),m(),c(5,"div",4),p(6,"ADMIN Pro"),m()(),c(7,"nav",5)(8,"span",6),p(9,"Principal"),m(),c(10,"a",7),b(11,"i",8),c(12,"span"),p(13,"Tableau de bord"),m()(),c(14,"span",6),p(15,"Gestion"),m(),c(16,"a",9),b(17,"i",10),c(18,"span"),p(19,"Utilisateurs"),m()(),c(20,"a",11),b(21,"i",12),c(22,"span"),p(23,"Structure"),m()(),c(24,"a",13),b(25,"i",14),c(26,"span"),p(27,"Acad\xE9mique"),m()(),c(28,"span",6),p(29,"Communication"),m(),c(30,"a",15),b(31,"i",16),c(32,"span"),p(33,"Actualit\xE9s"),m()(),c(34,"a",17),b(35,"i",18),c(36,"span"),p(37,"Messages"),m()(),b(38,"div",19),c(39,"a",20),b(40,"i",21),c(41,"span"),p(42,"Retour au site"),m()()(),c(43,"div",22)(44,"button",23),w("click",function(){return n.logout()}),b(45,"i",24),c(46,"span"),p(47,"D\xE9connexion"),m()()()(),c(48,"main",25)(49,"header",26)(50,"div",27)(51,"button",28),w("click",function(){return n.toggleSidebar()}),b(52,"i",29),m(),c(53,"h2",30),p(54,"Syst\xE8me d'administration"),m()(),c(55,"div",31)(56,"button",32),b(57,"i",33),c(58,"span"),p(59,"Publier"),m()(),c(60,"div",34)(61,"div",35)(62,"span",36),p(63),m(),c(64,"span",37),p(65),m()(),c(66,"div",38),p(67),m()()()(),c(68,"section",39),b(69,"router-outlet"),m()()()),e&2&&(z("sidebar-hidden",n.isCollapsed),h(),z("collapsed",n.isCollapsed),h(51),z("fa-bars",!n.isCollapsed)("fa-arrow-right",n.isCollapsed),h(11),F((n.currentUser==null?null:n.currentUser.name)||"Administrateur"),h(2),F((n.currentUser==null?null:n.currentUser.role)||"Admin"),h(2),q(" ",((n.currentUser==null?null:n.currentUser.name)||"A").charAt(0)," "))},dependencies:[X,pe,$t,Ie,Gt],styles:[".admin-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f8fafc}.admin-sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(180deg,#0f172a,#1e293b);color:#fff;display:flex;flex-direction:column;transition:width .4s cubic-bezier(.4,0,.2,1);z-index:100;box-shadow:10px 0 30px #0000000d;position:sticky;top:0;height:100vh}.admin-sidebar.collapsed[_ngcontent-%COMP%]{width:90px}.admin-sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%], .admin-sidebar.collapsed[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%], .admin-sidebar.collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .admin-sidebar.collapsed[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:none}.admin-sidebar.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{justify-content:center;padding:1.2rem}.admin-sidebar.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.admin-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:2rem 0;text-align:center;justify-content:center}.sidebar-header[_ngcontent-%COMP%]{padding:3rem 2rem;display:flex;align-items:center;gap:1.2rem}.sidebar-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#f59e0b;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:900;color:#0f172a;font-size:1.2rem;box-shadow:0 5px 15px #f59e0b4d}.sidebar-header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;letter-spacing:-.5px;color:#fff}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:0 1.2rem;display:flex;flex-direction:column;gap:.6rem}.sidebar-nav[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{color:#fff3;font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;margin:1.5rem 0 .5rem 1rem}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1.1rem 1.5rem;color:#94a3b8;text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);gap:1.2rem;border-radius:14px;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;width:24px;text-align:center;transition:transform .3s}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff0d}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#0055a4,#048);box-shadow:0 10px 20px #0055a440}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.return-site[_ngcontent-%COMP%]{margin-top:1rem;border:1px dashed rgba(255,255,255,.1)}.sidebar-footer[_ngcontent-%COMP%]{padding:2rem 1.2rem;border-top:1px solid rgba(255,255,255,.05)}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;background:#ef44440d;border:1px solid rgba(239,68,68,.1);color:#ef4444;padding:1rem;border-radius:14px;cursor:pointer;display:flex;align-items:center;gap:1rem;justify-content:center;font-weight:700;transition:all .3s}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;box-shadow:0 10px 20px #ef444433;border-color:#ef4444}.admin-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden}.admin-header[_ngcontent-%COMP%]{height:90px;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 3rem;border-bottom:1px solid #f1f5f9;position:sticky;top:0;z-index:90}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.admin-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;width:45px;height:45px;border-radius:12px;color:#0f172a;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.admin-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#f59e0b;color:#f59e0b;transform:rotate(90deg)}.admin-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;color:#0f172a;letter-spacing:-.5px;margin:0}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.quick-add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#048);color:#fff;border:none;padding:.9rem 2rem;border-radius:14px;font-weight:800;display:flex;align-items:center;gap:.8rem;cursor:pointer;transition:all .3s;box-shadow:0 10px 20px #0055a433}.quick-add-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 15px 30px #0055a44d}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;padding-left:1.5rem;border-left:1px solid #f1f5f9}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.user-info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-weight:800;color:#0f172a;font-size:1rem}.user-info[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b;padding:.3rem .8rem;border-radius:6px;font-size:.7rem;font-weight:900;text-transform:uppercase;letter-spacing:1px}.user-info[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#f59e0b,#d97706);color:#0f172a;border-radius:14px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.3rem;box-shadow:0 5px 15px #f59e0b40}.admin-content[_ngcontent-%COMP%]{padding:3rem;background-color:#f8fafc;flex:1}@media (max-width: 768px){.admin-sidebar[_ngcontent-%COMP%]{position:fixed;left:-100%}.admin-sidebar.open[_ngcontent-%COMP%]{left:0}.admin-header[_ngcontent-%COMP%]{padding:0 1.5rem}.page-title[_ngcontent-%COMP%]{display:none}}"]})}};function ti(i){return i+.5|0}var Qt=(i,t,e)=>Math.max(Math.min(i,e),t);function Zn(i){return Qt(ti(i*2.55),0,255)}function Xt(i){return Qt(ti(i*255),0,255)}function It(i){return Qt(ti(i/2.55)/100,0,1)}function za(i){return Qt(ti(i*100),0,100)}var rt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gr=[..."0123456789ABCDEF"],cu=i=>gr[i&15],du=i=>gr[(i&240)>>4]+gr[i&15],Hi=i=>(i&240)>>4===(i&15),mu=i=>Hi(i.r)&&Hi(i.g)&&Hi(i.b)&&Hi(i.a);function uu(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&rt[i[1]]*17,g:255&rt[i[2]]*17,b:255&rt[i[3]]*17,a:t===5?rt[i[4]]*17:255}:(t===7||t===9)&&(e={r:rt[i[1]]<<4|rt[i[2]],g:rt[i[3]]<<4|rt[i[4]],b:rt[i[5]]<<4|rt[i[6]],a:t===9?rt[i[7]]<<4|rt[i[8]]:255})),e}var pu=(i,t)=>i<255?t(i):"";function fu(i){var t=mu(i)?cu:du;return i?"#"+t(i.r)+t(i.g)+t(i.b)+pu(i.a,t):void 0}var gu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ua(i,t,e){let n=t*Math.min(e,1-e),o=(r,s=(r+i/30)%12)=>e-n*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function hu(i,t,e){let n=(o,r=(o+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function _u(i,t,e){let n=Ua(i,1,.5),o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)n[o]*=1-t-e,n[o]+=t;return n}function bu(i,t,e,n,o){return i===o?(t-e)/n+(t<e?6:0):t===o?(e-i)/n+2:(i-t)/n+4}function hr(i){let e=i.r/255,n=i.g/255,o=i.b/255,r=Math.max(e,n,o),s=Math.min(e,n,o),a=(r+s)/2,l,d,u;return r!==s&&(u=r-s,d=a>.5?u/(2-r-s):u/(r+s),l=bu(e,n,o,u,r),l=l*60+.5),[l|0,d||0,a]}function _r(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Xt)}function br(i,t,e){return _r(Ua,i,t,e)}function vu(i,t,e){return _r(_u,i,t,e)}function xu(i,t,e){return _r(hu,i,t,e)}function Wa(i){return(i%360+360)%360}function Cu(i){let t=gu.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Zn(+t[5]):Xt(+t[5]));let o=Wa(+t[2]),r=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=vu(o,r,s):t[1]==="hsv"?n=xu(o,r,s):n=br(o,r,s),{r:n[0],g:n[1],b:n[2],a:e}}function yu(i,t){var e=hr(i);e[0]=Wa(e[0]+t),e=br(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Mu(i){if(!i)return;let t=hr(i),e=t[0],n=za(t[1]),o=za(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${o}%, ${It(i.a)})`:`hsl(${e}, ${n}%, ${o}%)`}var Va={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ja={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Su(){let i={},t=Object.keys(ja),e=Object.keys(Va),n,o,r,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],o=0;o<e.length;o++)r=e[o],a=a.replace(r,Va[r]);r=parseInt(ja[s],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}var $i;function Pu(i){$i||($i=Su(),$i.transparent=[0,0,0,0]);let t=$i[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var wu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ou(i){let t=wu.exec(i),e=255,n,o,r;if(t){if(t[7]!==n){let s=+t[7];e=t[8]?Zn(s):Qt(s*255,0,255)}return n=+t[1],o=+t[3],r=+t[5],n=255&(t[2]?Zn(n):Qt(n,0,255)),o=255&(t[4]?Zn(o):Qt(o,0,255)),r=255&(t[6]?Zn(r):Qt(r,0,255)),{r:n,g:o,b:r,a:e}}}function Eu(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${It(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var fr=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Tn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function ku(i,t,e){let n=Tn(It(i.r)),o=Tn(It(i.g)),r=Tn(It(i.b));return{r:Xt(fr(n+e*(Tn(It(t.r))-n))),g:Xt(fr(o+e*(Tn(It(t.g))-o))),b:Xt(fr(r+e*(Tn(It(t.b))-r))),a:i.a+e*(t.a-i.a)}}function Gi(i,t,e){if(i){let n=hr(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=br(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function qa(i,t){return i&&Object.assign(t||{},i)}function Ba(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Xt(i[3]))):(t=qa(i,{r:0,g:0,b:0,a:1}),t.a=Xt(t.a)),t}function Tu(i){return i.charAt(0)==="r"?Ou(i):Cu(i)}var ei=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=Ba(t):e==="string"&&(n=uu(t)||Pu(t)||Tu(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=qa(this._rgb);return t&&(t.a=It(t.a)),t}set rgb(t){this._rgb=Ba(t)}rgbString(){return this._valid?Eu(this._rgb):void 0}hexString(){return this._valid?fu(this._rgb):void 0}hslString(){return this._valid?Mu(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,o=t.rgb,r,s=e===r?.5:e,a=2*s-1,l=n.a-o.a,d=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-d,n.r=255&d*n.r+r*o.r+.5,n.g=255&d*n.g+r*o.g+.5,n.b=255&d*n.b+r*o.b+.5,n.a=s*n.a+(1-s)*o.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=ku(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Xt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=ti(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gi(this._rgb,2,t),this}darken(t){return Gi(this._rgb,2,-t),this}saturate(t){return Gi(this._rgb,1,t),this}desaturate(t){return Gi(this._rgb,1,-t),this}rotate(t){return yu(this._rgb,t),this}};function wt(){}var tl=(()=>{let i=0;return()=>i++})();function te(i){return i==null}function he(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ye(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Qe(i,t){return ye(i)?i:t}function G(i,t){return typeof i>"u"?t:i}var nl=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,yr=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function ge(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function me(i,t,e,n){let o,r,s;if(he(i))if(r=i.length,n)for(o=r-1;o>=0;o--)t.call(e,i[o],o);else for(o=0;o<r;o++)t.call(e,i[o],o);else if(ne(i))for(s=Object.keys(i),r=s.length,o=0;o<r;o++)t.call(e,i[s[o]],s[o])}function oi(i,t){let e,n,o,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(o=i[e],r=t[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Xi(i){if(he(i))return i.map(Xi);if(ne(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,o=0;for(;o<n;++o)t[e[o]]=Xi(i[e[o]]);return t}return i}function il(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Au(i,t,e,n){if(!il(i))return;let o=t[i],r=e[i];ne(o)&&ne(r)?In(o,r,n):t[i]=Xi(r)}function In(i,t,e){let n=he(t)?t:[t],o=n.length;if(!ne(i))return i;e=e||{};let r=e.merger||Au,s;for(let a=0;a<o;++a){if(s=n[a],!ne(s))continue;let l=Object.keys(s);for(let d=0,u=l.length;d<u;++d)r(l[d],i,s,e)}return i}function Fn(i,t){return In(i,t,{merger:Iu})}function Iu(i,t,e){if(!il(i))return;let n=t[i],o=e[i];ne(n)&&ne(o)?Fn(n,o):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Xi(o))}var Ha={"":i=>i,x:i=>i.x,y:i=>i.y};function Du(i){let t=i.split("."),e=[],n="";for(let o of t)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Fu(i){let t=Du(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function Lt(i,t){return(Ha[t]||(Ha[t]=Fu(t)))(i)}function to(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Ln=i=>typeof i<"u",Dt=i=>typeof i=="function",Mr=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function ol(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var ae=Math.PI,_e=2*ae,Lu=_e+ae,Ji=Number.POSITIVE_INFINITY,Nu=ae/180,Se=ae/2,mn=ae/4,$a=ae*2/3,Ft=Math.log10,mt=Math.sign;function Nn(i,t,e){return Math.abs(i-t)<e}function Sr(i){let t=Math.round(i);i=Nn(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Ft(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function rl(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((o,r)=>o-r).pop(),t}function Ru(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function fn(i){return!Ru(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function sl(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function Pr(i,t,e){let n,o,r;for(n=0,o=i.length;n<o;n++)r=i[n][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function st(i){return i*(ae/180)}function no(i){return i*(180/ae)}function wr(i){if(!ye(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Or(i,t){let e=t.x-i.x,n=t.y-i.y,o=Math.sqrt(e*e+n*n),r=Math.atan2(n,e);return r<-.5*ae&&(r+=_e),{angle:r,distance:o}}function Zi(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function zu(i,t){return(i-t+Lu)%_e-ae}function Fe(i){return(i%_e+_e)%_e}function Rn(i,t,e,n){let o=Fe(i),r=Fe(t),s=Fe(e),a=Fe(r-o),l=Fe(s-o),d=Fe(o-r),u=Fe(o-s);return o===r||o===s||n&&r===s||a>l&&d<u}function Ae(i,t,e){return Math.max(t,Math.min(e,i))}function al(i){return Ae(i,-32768,32767)}function Ot(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function io(i,t,e){e=e||(s=>i[s]<t);let n=i.length-1,o=0,r;for(;n-o>1;)r=o+n>>1,e(r)?o=r:n=r;return{lo:o,hi:n}}var St=(i,t,e,n)=>io(i,e,n?o=>{let r=i[o][t];return r<e||r===e&&i[o+1][t]===e}:o=>i[o][t]<e),ll=(i,t,e)=>io(i,e,n=>i[n][t]>=e);function cl(i,t,e){let n=0,o=i.length;for(;n<o&&i[n]<t;)n++;for(;o>n&&i[o-1]>e;)o--;return n>0||o<i.length?i.slice(n,o):i}var dl=["push","pop","shift","splice","unshift"];function ml(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),dl.forEach(e=>{let n="_onData"+to(e),o=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let s=o.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),s}})})}function Er(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,o=n.indexOf(t);o!==-1&&n.splice(o,1),!(n.length>0)&&(dl.forEach(r=>{delete i[r]}),delete i._chartjs)}function kr(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var Tr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Ar(i,t){let e=[],n=!1;return function(...o){e=o,n||(n=!0,Tr.call(window,()=>{n=!1,i.apply(t,e)}))}}function ul(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var oo=i=>i==="start"?"left":i==="end"?"right":"center",Le=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,pl=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function Ir(i,t,e){let n=t.length,o=0,r=n;if(i._sorted){let{iScale:s,vScale:a,_parsed:l}=i,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,u=s.axis,{min:f,max:g,minDefined:_,maxDefined:v}=s.getUserBounds();if(_){if(o=Math.min(St(l,u,f).lo,e?n:St(t,u,s.getPixelForValue(f)).lo),d){let x=l.slice(0,o+1).reverse().findIndex(C=>!te(C[a.axis]));o-=Math.max(0,x)}o=Ae(o,0,n-1)}if(v){let x=Math.max(St(l,s.axis,g,!0).hi+1,e?0:St(t,u,s.getPixelForValue(g),!0).hi+1);if(d){let C=l.slice(x-1).findIndex(M=>!te(M[a.axis]));x+=Math.max(0,C)}r=Ae(x,o,n)-o}else r=n-o}return{start:o,count:r}}function Dr(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=o,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,o),r}var Yi=i=>i===0||i===1,Ga=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*_e/e)),Ya=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*_e/e)+1,An={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Se)+1,easeOutSine:i=>Math.sin(i*Se),easeInOutSine:i=>-.5*(Math.cos(ae*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Yi(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Yi(i)?i:Ga(i,.075,.3),easeOutElastic:i=>Yi(i)?i:Ya(i,.075,.3),easeInOutElastic(i){return Yi(i)?i:i<.5?.5*Ga(i*2,.1125,.45):.5+.5*Ya(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-An.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?An.easeInBounce(i*2)*.5:An.easeOutBounce(i*2-1)*.5+.5};function Fr(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Lr(i){return Fr(i)?i:new ei(i)}function vr(i){return Fr(i)?i:new ei(i).saturate(.5).darken(.1).hexString()}var Vu=["x","y","borderWidth","radius","tension"],ju=["color","borderColor","backgroundColor"];function Bu(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:ju},numbers:{type:"number",properties:Vu}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Uu(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Ka=new Map;function Wu(i,t){t=t||{};let e=i+JSON.stringify(t),n=Ka.get(e);return n||(n=new Intl.NumberFormat(i,t),Ka.set(e,n)),n}function zn(i,t,e){return Wu(t,e).format(i)}var fl={values(i){return he(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,o,r=i;if(e.length>1){let d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),r=qu(i,e)}let s=Ft(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),zn(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Ft(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?fl.numeric.call(this,i,t,e):""}};function qu(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var ri={formatters:fl};function Hu(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ri.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var en=Object.create(null),ro=Object.create(null);function ni(i,t){if(!t)return i;let e=t.split(".");for(let n=0,o=e.length;n<o;++n){let r=e[n];i=i[r]||(i[r]=Object.create(null))}return i}function xr(i,t,e){return typeof t=="string"?In(ni(i,t),e):In(ni(i,""),t)}var Cr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>vr(o.backgroundColor),this.hoverBorderColor=(n,o)=>vr(o.borderColor),this.hoverColor=(n,o)=>vr(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return xr(this,t,e)}get(t){return ni(this,t)}describe(t,e){return xr(ro,t,e)}override(t,e){return xr(en,t,e)}route(t,e,n,o){let r=ni(this,t),s=ni(this,n),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],d=s[o];return ne(l)?Object.assign({},d,l):G(l,d)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},ve=new Cr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bu,Uu,Hu]);function $u(i){return!i||te(i.size)||te(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ii(i,t,e,n,o){let r=t[o];return r||(r=t[o]=i.measureText(o).width,e.push(o)),r>n&&(n=r),n}function gl(i,t,e,n){n=n||{};let o=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(o=n.data={},r=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let s=0,a=e.length,l,d,u,f,g;for(l=0;l<a;l++)if(f=e[l],f!=null&&!he(f))s=ii(i,o,r,s,f);else if(he(f))for(d=0,u=f.length;d<u;d++)g=f[d],g!=null&&!he(g)&&(s=ii(i,o,r,s,g));i.restore();let _=r.length/2;if(_>e.length){for(l=0;l<_;l++)delete o[r[l]];r.splice(0,_)}return s}function tn(i,t,e){let n=i.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((t-o)*n)/n+o}function Nr(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function so(i,t,e,n){Rr(i,t,e,n,null)}function Rr(i,t,e,n,o){let r,s,a,l,d,u,f,g,_=t.pointStyle,v=t.rotation,x=t.radius,C=(v||0)*Nu;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(C),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),_){default:o?i.ellipse(e,n,o/2,x,0,0,_e):i.arc(e,n,x,0,_e),i.closePath();break;case"triangle":u=o?o/2:x,i.moveTo(e+Math.sin(C)*u,n-Math.cos(C)*x),C+=$a,i.lineTo(e+Math.sin(C)*u,n-Math.cos(C)*x),C+=$a,i.lineTo(e+Math.sin(C)*u,n-Math.cos(C)*x),i.closePath();break;case"rectRounded":d=x*.516,l=x-d,s=Math.cos(C+mn)*l,f=Math.cos(C+mn)*(o?o/2-d:l),a=Math.sin(C+mn)*l,g=Math.sin(C+mn)*(o?o/2-d:l),i.arc(e-f,n-a,d,C-ae,C-Se),i.arc(e+g,n-s,d,C-Se,C),i.arc(e+f,n+a,d,C,C+Se),i.arc(e-g,n+s,d,C+Se,C+ae),i.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*x,u=o?o/2:l,i.rect(e-u,n-l,2*u,2*l);break}C+=mn;case"rectRot":f=Math.cos(C)*(o?o/2:x),s=Math.cos(C)*x,a=Math.sin(C)*x,g=Math.sin(C)*(o?o/2:x),i.moveTo(e-f,n-a),i.lineTo(e+g,n-s),i.lineTo(e+f,n+a),i.lineTo(e-g,n+s),i.closePath();break;case"crossRot":C+=mn;case"cross":f=Math.cos(C)*(o?o/2:x),s=Math.cos(C)*x,a=Math.sin(C)*x,g=Math.sin(C)*(o?o/2:x),i.moveTo(e-f,n-a),i.lineTo(e+f,n+a),i.moveTo(e+g,n-s),i.lineTo(e-g,n+s);break;case"star":f=Math.cos(C)*(o?o/2:x),s=Math.cos(C)*x,a=Math.sin(C)*x,g=Math.sin(C)*(o?o/2:x),i.moveTo(e-f,n-a),i.lineTo(e+f,n+a),i.moveTo(e+g,n-s),i.lineTo(e-g,n+s),C+=mn,f=Math.cos(C)*(o?o/2:x),s=Math.cos(C)*x,a=Math.sin(C)*x,g=Math.sin(C)*(o?o/2:x),i.moveTo(e-f,n-a),i.lineTo(e+f,n+a),i.moveTo(e+g,n-s),i.lineTo(e-g,n+s);break;case"line":s=o?o/2:Math.cos(C)*x,a=Math.sin(C)*x,i.moveTo(e-s,n-a),i.lineTo(e+s,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(C)*(o?o/2:x),n+Math.sin(C)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Pt(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function si(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ai(i){i.restore()}function hl(i,t,e,n,o){if(!t)return i.lineTo(e.x,e.y);if(o==="middle"){let r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else o==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function _l(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Gu(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),te(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Yu(i,t,e,n,o){if(o.strikethrough||o.underline){let r=i.measureText(n),s=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,d=e+r.actualBoundingBoxDescent,u=o.strikethrough?(l+d)/2:d;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(s,u),i.lineTo(a,u),i.stroke()}}function Ku(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function nn(i,t,e,n,o,r={}){let s=he(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",l,d;for(i.save(),i.font=o.string,Gu(i,r),l=0;l<s.length;++l)d=s[l],r.backdrop&&Ku(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),te(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(d,e,n,r.maxWidth)),i.fillText(d,e,n,r.maxWidth),Yu(i,e,n,d,r),n+=Number(o.lineHeight);i.restore()}function Vn(i,t){let{x:e,y:n,w:o,h:r,radius:s}=t;i.arc(e+s.topLeft,n+s.topLeft,s.topLeft,1.5*ae,ae,!0),i.lineTo(e,n+r-s.bottomLeft),i.arc(e+s.bottomLeft,n+r-s.bottomLeft,s.bottomLeft,ae,Se,!0),i.lineTo(e+o-s.bottomRight,n+r),i.arc(e+o-s.bottomRight,n+r-s.bottomRight,s.bottomRight,Se,0,!0),i.lineTo(e+o,n+s.topRight),i.arc(e+o-s.topRight,n+s.topRight,s.topRight,0,-Se,!0),i.lineTo(e+s.topLeft,n)}var Qu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ju(i,t){let e=(""+i).match(Qu);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var Zu=i=>+i||0;function ao(i,t){let e={},n=ne(t),o=n?Object.keys(t):t,r=ne(i)?n?s=>G(i[s],i[t[s]]):s=>i[s]:()=>i;for(let s of o)e[s]=Zu(r(s));return e}function zr(i){return ao(i,{top:"y",right:"x",bottom:"y",left:"x"})}function on(i){return ao(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Ne(i){let t=zr(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ke(i,t){i=i||{},t=t||ve.font;let e=G(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=G(i.style,t.style);n&&!(""+n).match(Xu)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let o={family:G(i.family,t.family),lineHeight:Ju(G(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:G(i.weight,t.weight),string:""};return o.string=$u(o),o}function jn(i,t,e,n){let o=!0,r,s,a;for(r=0,s=i.length;r<s;++r)if(a=i[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),o=!1),e!==void 0&&he(a)&&(a=a[e%a.length],o=!1),a!==void 0))return n&&!o&&(n.cacheable=!1),a}function bl(i,t,e){let{min:n,max:o}=i,r=yr(t,(o-n)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(n,-Math.abs(r)),max:s(o,r)}}function Nt(i,t){return Object.assign(Object.create(i),t)}function lo(i,t=[""],e,n,o=()=>i[0]){let r=e||i;typeof n>"u"&&(n=Cl("_fallback",i));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:o,override:a=>lo([a,...i],t,r,n)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return vl(a,l,()=>ap(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return Xa(a).includes(l)},ownKeys(a){return Xa(a)},set(a,l,d){let u=a._storage||(a._storage=o());return a[l]=u[l]=d,delete a._keys,!0}})}function pn(i,t,e,n){let o={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Vr(i,n),setContext:r=>pn(i,r,e,n),override:r=>pn(i.override(r),t,e,n)};return new Proxy(o,{deleteProperty(r,s){return delete r[s],delete i[s],!0},get(r,s,a){return vl(r,s,()=>tp(r,s,a))},getOwnPropertyDescriptor(r,s){return r._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(r,s,a){return i[s]=a,delete r[s],!0}})}function Vr(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:o=t.allKeys}=i;return{allKeys:o,scriptable:e,indexable:n,isScriptable:Dt(e)?e:()=>e,isIndexable:Dt(n)?n:()=>n}}var ep=(i,t)=>i?i+to(t):t,jr=(i,t)=>ne(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function vl(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function tp(i,t,e){let{_proxy:n,_context:o,_subProxy:r,_descriptors:s}=i,a=n[t];return Dt(a)&&s.isScriptable(t)&&(a=np(t,a,i,e)),he(a)&&a.length&&(a=ip(t,a,i,s.isIndexable)),jr(t,a)&&(a=pn(a,o,r&&r[t],s)),a}function np(i,t,e,n){let{_proxy:o,_context:r,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=t(r,s||n);return a.delete(i),jr(i,l)&&(l=Br(o._scopes,o,i,l)),l}function ip(i,t,e,n){let{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=e;if(typeof r.index<"u"&&n(i))return t[r.index%t.length];if(ne(t[0])){let l=t,d=o._scopes.filter(u=>u!==l);t=[];for(let u of l){let f=Br(d,o,i,u);t.push(pn(f,r,s&&s[i],a))}}return t}function xl(i,t,e){return Dt(i)?i(t,e):i}var op=(i,t)=>i===!0?t:typeof i=="string"?Lt(t,i):void 0;function rp(i,t,e,n,o){for(let r of t){let s=op(e,r);if(s){i.add(s);let a=xl(s._fallback,e,o);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(s===!1&&typeof n<"u"&&e!==n)return null}return!1}function Br(i,t,e,n){let o=t._rootScopes,r=xl(t._fallback,e,n),s=[...i,...o],a=new Set;a.add(n);let l=Qa(a,s,e,r||e,n);return l===null||typeof r<"u"&&r!==e&&(l=Qa(a,s,r,l,n),l===null)?!1:lo(Array.from(a),[""],o,r,()=>sp(t,e,n))}function Qa(i,t,e,n,o){for(;e;)e=rp(i,t,e,n,o);return e}function sp(i,t,e){let n=i._getTarget();t in n||(n[t]={});let o=n[t];return he(o)&&ne(e)?e:o||{}}function ap(i,t,e,n){let o;for(let r of t)if(o=Cl(ep(r,i),e),typeof o<"u")return jr(i,o)?Br(e,n,i,o):o}function Cl(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function Xa(i){let t=i._keys;return t||(t=i._keys=lp(i._scopes)),t}function lp(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(n);return Array.from(t)}function Ur(i,t,e,n){let{iScale:o}=i,{key:r="r"}=this._parsing,s=new Array(n),a,l,d,u;for(a=0,l=n;a<l;++a)d=a+e,u=t[d],s[a]={r:o.parse(Lt(u,r),d)};return s}var cp=Number.EPSILON||1e-14,Dn=(i,t)=>t<i.length&&!i[t].skip&&i[t],yl=i=>i==="x"?"y":"x";function dp(i,t,e,n){let o=i.skip?t:i,r=t,s=e.skip?t:e,a=Zi(r,o),l=Zi(s,r),d=a/(a+l),u=l/(a+l);d=isNaN(d)?0:d,u=isNaN(u)?0:u;let f=n*d,g=n*u;return{previous:{x:r.x-f*(s.x-o.x),y:r.y-f*(s.y-o.y)},next:{x:r.x+g*(s.x-o.x),y:r.y+g*(s.y-o.y)}}}function mp(i,t,e){let n=i.length,o,r,s,a,l,d=Dn(i,0);for(let u=0;u<n-1;++u)if(l=d,d=Dn(i,u+1),!(!l||!d)){if(Nn(t[u],0,cp)){e[u]=e[u+1]=0;continue}o=e[u]/t[u],r=e[u+1]/t[u],a=Math.pow(o,2)+Math.pow(r,2),!(a<=9)&&(s=3/Math.sqrt(a),e[u]=o*s*t[u],e[u+1]=r*s*t[u])}}function up(i,t,e="x"){let n=yl(e),o=i.length,r,s,a,l=Dn(i,0);for(let d=0;d<o;++d){if(s=a,a=l,l=Dn(i,d+1),!a)continue;let u=a[e],f=a[n];s&&(r=(u-s[e])/3,a[`cp1${e}`]=u-r,a[`cp1${n}`]=f-r*t[d]),l&&(r=(l[e]-u)/3,a[`cp2${e}`]=u+r,a[`cp2${n}`]=f+r*t[d])}}function pp(i,t="x"){let e=yl(t),n=i.length,o=Array(n).fill(0),r=Array(n),s,a,l,d=Dn(i,0);for(s=0;s<n;++s)if(a=l,l=d,d=Dn(i,s+1),!!l){if(d){let u=d[t]-l[t];o[s]=u!==0?(d[e]-l[e])/u:0}r[s]=a?d?mt(o[s-1])!==mt(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}mp(i,o,r),up(i,r,t)}function Ki(i,t,e){return Math.max(Math.min(i,e),t)}function fp(i,t){let e,n,o,r,s,a=Pt(i[0],t);for(e=0,n=i.length;e<n;++e)s=r,r=a,a=e<n-1&&Pt(i[e+1],t),r&&(o=i[e],s&&(o.cp1x=Ki(o.cp1x,t.left,t.right),o.cp1y=Ki(o.cp1y,t.top,t.bottom)),a&&(o.cp2x=Ki(o.cp2x,t.left,t.right),o.cp2y=Ki(o.cp2y,t.top,t.bottom)))}function Ml(i,t,e,n,o){let r,s,a,l;if(t.spanGaps&&(i=i.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")pp(i,o);else{let d=n?i[i.length-1]:i[0];for(r=0,s=i.length;r<s;++r)a=i[r],l=dp(d,a,i[Math.min(r+1,s-(n?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,d=a}t.capBezierPoints&&fp(i,e)}function co(){return typeof window<"u"&&typeof document<"u"}function mo(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function eo(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var uo=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function gp(i,t){return uo(i).getPropertyValue(t)}var hp=["top","right","bottom","left"];function un(i,t,e){let n={};e=e?"-"+e:"";for(let o=0;o<4;o++){let r=hp[o];n[r]=parseFloat(i[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var _p=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function bp(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:o,offsetY:r}=n,s=!1,a,l;if(_p(o,r,i.target))a=o,l=r;else{let d=t.getBoundingClientRect();a=n.clientX-d.left,l=n.clientY-d.top,s=!0}return{x:a,y:l,box:s}}function rn(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,o=uo(e),r=o.boxSizing==="border-box",s=un(o,"padding"),a=un(o,"border","width"),{x:l,y:d,box:u}=bp(i,e),f=s.left+(u&&a.left),g=s.top+(u&&a.top),{width:_,height:v}=t;return r&&(_-=s.width+a.width,v-=s.height+a.height),{x:Math.round((l-f)/_*e.width/n),y:Math.round((d-g)/v*e.height/n)}}function vp(i,t,e){let n,o;if(t===void 0||e===void 0){let r=i&&mo(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{let s=r.getBoundingClientRect(),a=uo(r),l=un(a,"border","width"),d=un(a,"padding");t=s.width-d.width-l.width,e=s.height-d.height-l.height,n=eo(a.maxWidth,r,"clientWidth"),o=eo(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||Ji,maxHeight:o||Ji}}var Zt=i=>Math.round(i*10)/10;function Sl(i,t,e,n){let o=uo(i),r=un(o,"margin"),s=eo(o.maxWidth,i,"clientWidth")||Ji,a=eo(o.maxHeight,i,"clientHeight")||Ji,l=vp(i,t,e),{width:d,height:u}=l;if(o.boxSizing==="content-box"){let g=un(o,"border","width"),_=un(o,"padding");d-=_.width+g.width,u-=_.height+g.height}return d=Math.max(0,d-r.width),u=Math.max(0,n?d/n:u-r.height),d=Zt(Math.min(d,s,l.maxWidth)),u=Zt(Math.min(u,a,l.maxHeight)),d&&!u&&(u=Zt(d/2)),(t!==void 0||e!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,d=Zt(Math.floor(u*n))),{width:d,height:u}}function Wr(i,t,e){let n=t||1,o=Zt(i.height*n),r=Zt(i.width*n);i.height=Zt(i.height),i.width=Zt(i.width);let s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||s.height!==o||s.width!==r?(i.currentDevicePixelRatio=n,s.height=o,s.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Pl=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};co()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function qr(i,t){let e=gp(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Jt(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function wl(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function Ol(i,t,e,n){let o={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},s=Jt(i,o,e),a=Jt(o,r,e),l=Jt(r,t,e),d=Jt(s,a,e),u=Jt(a,l,e);return Jt(d,u,e)}var xp=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Cp=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function gn(i,t,e){return i?xp(t,e):Cp()}function Hr(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function $r(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function El(i){return i==="angle"?{between:Rn,compare:zu,normalize:Fe}:{between:Ot,compare:(t,e)=>t-e,normalize:t=>t}}function Ja({start:i,end:t,count:e,loop:n,style:o}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:o}}function yp(i,t,e){let{property:n,start:o,end:r}=e,{between:s,normalize:a}=El(n),l=t.length,{start:d,end:u,loop:f}=i,g,_;if(f){for(d+=l,u+=l,g=0,_=l;g<_&&s(a(t[d%l][n]),o,r);++g)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:i.style}}function Gr(i,t,e){if(!e)return[i];let{property:n,start:o,end:r}=e,s=t.length,{compare:a,between:l,normalize:d}=El(n),{start:u,end:f,loop:g,style:_}=yp(i,t,e),v=[],x=!1,C=null,M,S,E,T=()=>l(o,E,M)&&a(o,E)!==0,O=()=>a(r,M)===0||l(r,E,M),A=()=>x||T(),R=()=>!x||O();for(let L=u,j=u;L<=f;++L)S=t[L%s],!S.skip&&(M=d(S[n]),M!==E&&(x=l(M,o,r),C===null&&A()&&(C=a(M,o)===0?L:j),C!==null&&R()&&(v.push(Ja({start:C,end:L,loop:g,count:s,style:_})),C=null),j=L,E=M));return C!==null&&v.push(Ja({start:C,end:f,loop:g,count:s,style:_})),v}function Yr(i,t){let e=[],n=i.segments;for(let o=0;o<n.length;o++){let r=Gr(n[o],i.points,t);r.length&&e.push(...r)}return e}function Mp(i,t,e,n){let o=0,r=t-1;if(e&&!n)for(;o<t&&!i[o].skip;)o++;for(;o<t&&i[o].skip;)o++;for(o%=t,e&&(r+=o);r>o&&i[r%t].skip;)r--;return r%=t,{start:o,end:r}}function Sp(i,t,e,n){let o=i.length,r=[],s=t,a=i[t],l;for(l=t+1;l<=e;++l){let d=i[l%o];d.skip||d.stop?a.skip||(n=!1,r.push({start:t%o,end:(l-1)%o,loop:n}),t=s=d.stop?l:null):(s=l,a.skip&&(t=l)),a=d}return s!==null&&r.push({start:t%o,end:s%o,loop:n}),r}function kl(i,t){let e=i.points,n=i.options.spanGaps,o=e.length;if(!o)return[];let r=!!i._loop,{start:s,end:a}=Mp(e,o,r,n);if(n===!0)return Za(i,[{start:s,end:a,loop:r}],e,t);let l=a<s?a+o:a,d=!!i._fullLoop&&s===0&&a===o-1;return Za(i,Sp(e,s,l,d),e,t)}function Za(i,t,e,n){return!n||!n.setContext||!e?t:Pp(i,t,e,n)}function Pp(i,t,e,n){let o=i._chart.getContext(),r=el(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,l=e.length,d=[],u=r,f=t[0].start,g=f;function _(v,x,C,M){let S=a?-1:1;if(v!==x){for(v+=l;e[v%l].skip;)v-=S;for(;e[x%l].skip;)x+=S;v%l!==x%l&&(d.push({start:v%l,end:x%l,loop:C,style:M}),u=M,f=x%l)}}for(let v of t){f=a?f:v.start;let x=e[f%l],C;for(g=f+1;g<=v.end;g++){let M=e[g%l];C=el(n.setContext(Nt(o,{type:"segment",p0:x,p1:M,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:s}))),wp(C,u)&&_(f,g-1,v.loop,u),x=M,u=C}f<g-1&&_(f,g-1,v.loop,u)}return d}function el(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function wp(i,t){if(!t)return!1;let e=[],n=function(o,r){return Fr(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function Qi(i,t,e){return i.options.clip?i[e]:t[e]}function Op(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:Qi(e,t,"left"),right:Qi(e,t,"right"),top:Qi(n,t,"top"),bottom:Qi(n,t,"bottom")}:t}function Kr(i,t){let e=t._clip;if(e.disabled)return!1;let n=Op(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var as=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,o){let r=e.listeners[o],s=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Tr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;let r=n.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,n,t,"progress")),r.length||(n.running=!1,this._notify(o,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,o=n.length-1;for(;o>=0;--o)n[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Rt=new as,Tl="transparent",Ep={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=Lr(i||Tl),o=n.valid&&Lr(t||Tl);return o&&o.valid?o.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},ls=class{constructor(t,e,n,o){let r=e[n];o=jn([t.to,o,r,t.from]);let s=jn([t.from,r,o]);this._active=!0,this._fn=t.fn||Ep[t.type||typeof s],this._easing=An[t.easing]||An.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let o=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=jn([t.to,e,o,t.from]),this._from=jn([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||e<n),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=r;return}l=e/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][e]()}},Co=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ne(t))return;let e=Object.keys(ve.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{let r=t[o];if(!ne(r))return;let s={};for(let a of e)s[a]=r[a];(he(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!n.has(a))&&n.set(a,s)})})}_animateOptions(t,e){let n=e.options,o=Tp(t,n);if(!o)return[];let r=this._createAnimations(o,n);return n.$shared&&kp(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){let n=this._properties,o=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let d=s[l];if(d.charAt(0)==="$")continue;if(d==="options"){o.push(...this._animateOptions(t,e));continue}let u=e[d],f=r[d],g=n.get(d);if(f)if(g&&f.active()){f.update(g,u,a);continue}else f.cancel();if(!g||!g.duration){t[d]=u;continue}r[d]=f=new ls(g,t,d,u),o.push(f)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Rt.add(this._chart,n),!0}};function kp(i,t){let e=[],n=Object.keys(t);for(let o=0;o<n.length;o++){let r=i[n[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Tp(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Al(i,t){let e=i&&i.options||{},n=e.reverse,o=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:o,end:n?o:r}}function Ap(i,t,e){if(e===!1)return!1;let n=Al(i,e),o=Al(t,e);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function Ip(i){let t,e,n,o;return ne(i)?(t=i.top,e=i.right,n=i.bottom,o=i.left):t=e=n=o=i,{top:t,right:e,bottom:n,left:o,disabled:i===!1}}function Tc(i,t){let e=[],n=i._getSortedDatasetMetas(t),o,r;for(o=0,r=n.length;o<r;++o)e.push(n[o].index);return e}function Il(i,t,e,n={}){let o=i.keys,r=n.mode==="single",s,a,l,d;if(t===null)return;let u=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===e){if(u=!0,n.all)continue;break}d=i.values[l],ye(d)&&(r||t===0||mt(t)===mt(d))&&(t+=d)}return!u&&!n.all?0:t}function Dp(i,t){let{iScale:e,vScale:n}=t,o=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",s=Object.keys(i),a=new Array(s.length),l,d,u;for(l=0,d=s.length;l<d;++l)u=s[l],a[l]={[o]:u,[r]:i[u]};return a}function Qr(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Fp(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Lp(i){let{min:t,max:e,minDefined:n,maxDefined:o}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function Np(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Dl(i,t,e,n){for(let o of t.getMatchingVisibleMetas(n).reverse()){let r=i[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function Fl(i,t){let{chart:e,_cachedMeta:n}=i,o=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=n,l=r.axis,d=s.axis,u=Fp(r,s,n),f=t.length,g;for(let _=0;_<f;++_){let v=t[_],{[l]:x,[d]:C}=v,M=v._stacks||(v._stacks={});g=M[d]=Np(o,u,x),g[a]=C,g._top=Dl(g,s,!0,n.type),g._bottom=Dl(g,s,!1,n.type);let S=g._visualValues||(g._visualValues={});S[a]=C}}function Xr(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Rp(i,t){return Nt(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function zp(i,t,e){return Nt(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function li(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let o of t){let r=o._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}var Jr=i=>i==="reset"||i==="none",Ll=(i,t)=>t?i:Object.assign({},i),Vp=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Tc(e,!0),values:null},an=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&li(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,o=this.getDataset(),r=(g,_,v,x)=>g==="x"?_:g==="r"?x:v,s=n.xAxisID=G(o.xAxisID,Xr(e,"x")),a=n.yAxisID=G(o.yAxisID,Xr(e,"y")),l=n.rAxisID=G(o.rAxisID,Xr(e,"r")),d=n.indexAxis,u=n.iAxisID=r(d,s,a,l),f=n.vAxisID=r(d,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&Er(this._data,this),e._stacked&&li(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),o=this._data;if(ne(n)){let r=this._cachedMeta;this._data=Dp(n,r)}else if(o!==n){if(o){Er(o,this);let r=this._cachedMeta;li(r),r._parsed=[]}n&&Object.isExtensible(n)&&ml(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=n._stacked;n._stacked=Qr(n.vScale,n),n.stack!==o.stack&&(r=!0,li(n),n.stack=o.stack),this._resyncElements(e),(r||s!==n._stacked)&&(Fl(this,n._parsed),n._stacked=Qr(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,d=e===0&&n===r.length?!0:o._sorted,u=e>0&&o._parsed[e-1],f,g,_;if(this._parsing===!1)o._parsed=r,o._sorted=!0,_=r;else{he(r[e])?_=this.parseArrayData(o,r,e,n):ne(r[e])?_=this.parseObjectData(o,r,e,n):_=this.parsePrimitiveData(o,r,e,n);let v=()=>g[l]===null||u&&g[l]<u[l];for(f=0;f<n;++f)o._parsed[f+e]=g=_[f],d&&(v()&&(d=!1),u=g);o._sorted=d}a&&Fl(this,_)}parsePrimitiveData(e,n,o,r){let{iScale:s,vScale:a}=e,l=s.axis,d=a.axis,u=s.getLabels(),f=s===a,g=new Array(r),_,v,x;for(_=0,v=r;_<v;++_)x=_+o,g[_]={[l]:f||s.parse(u[x],x),[d]:a.parse(n[x],x)};return g}parseArrayData(e,n,o,r){let{xScale:s,yScale:a}=e,l=new Array(r),d,u,f,g;for(d=0,u=r;d<u;++d)f=d+o,g=n[f],l[d]={x:s.parse(g[0],f),y:a.parse(g[1],f)};return l}parseObjectData(e,n,o,r){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=new Array(r),f,g,_,v;for(f=0,g=r;f<g;++f)_=f+o,v=n[_],u[f]={x:s.parse(Lt(v,l),_),y:a.parse(Lt(v,d),_)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,o){let r=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:Tc(r,!0),values:n._stacks[e.axis]._visualValues};return Il(l,a,s.index,{mode:o})}updateRangeFromParsed(e,n,o,r){let s=o[n.axis],a=s===null?NaN:s,l=r&&o._stacks[n.axis];r&&l&&(r.values=l,a=Il(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&e===o.iScale,a=r.length,l=this._getOtherScale(e),d=Vp(n,o,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=Lp(l),_,v;function x(){v=r[_];let C=v[l.axis];return!ye(v[e.axis])||f>C||g<C}for(_=0;_<a&&!(!x()&&(this.updateRangeFromParsed(u,e,v,d),s));++_);if(s){for(_=a-1;_>=0;--_)if(!x()){this.updateRangeFromParsed(u,e,v,d);break}}return u}getAllParsedValues(e){let n=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],ye(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,o=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=Ip(G(this.options.clip,Ap(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,o=this._cachedMeta,r=o.data||[],s=n.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop,f;for(o.dataset&&o.dataset.draw(e,s,l,d),f=l;f<l+d;++f){let g=r[f];g.hidden||(g.active&&u?a.push(g):g.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,n){let o=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,n,o){let r=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=zp(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Rp(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=o,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",o){let r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],d=this.enableOptionSharing&&Ln(o);if(l)return Ll(l,d);let u=this.chart.config,f=u.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],_=u.getOptionScopes(this.getDataset(),f),v=Object.keys(ve.elements[e]),x=()=>this.getContext(o,r,n),C=u.resolveNamedOptions(_,v,x,g);return C.$shared&&(C.$shared=d,s[a]=Object.freeze(Ll(C,d))),C}_resolveAnimations(e,n,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let d;if(r.options.animation!==!1){let f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),_=f.getOptionScopes(this.getDataset(),g);d=f.createResolver(_,this.getContext(e,o,n))}let u=new Co(r,d&&d.animations);return d&&d._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Jr(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let o=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,o),{sharedOptions:s,includeOptions:a}}updateElement(e,n,o,r){Jr(r)?Object.assign(e,o):this._resolveAnimations(n,r).update(e,o)}updateSharedOptions(e,n,o){e&&!Jr(n)&&this._resolveAnimations(void 0,n).update(e,o)}_setStyle(e,n,o,r){e.active=r;let s=this.getStyle(n,r);this._resolveAnimations(n,o,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,n,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,o=this._cachedMeta.data;for(let[l,d,u]of this._syncList)this[l](d,u);this._syncList=[];let r=o.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,o=!0){let r=this._cachedMeta,s=r.data,a=e+n,l,d=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(d(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,n),o&&this.updateElements(s,e,n,"reset")}updateElements(e,n,o,r){}_removeElements(e,n){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(e,n);o._stacked&&li(o,r)}o.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,o,r]=e;this[n](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function jp(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let o=0,r=e.length;o<r;o++)n=n.concat(e[o].controller.getAllParsedValues(i));i._cache.$bar=kr(n.sort((o,r)=>o-r))}return i._cache.$bar}function Bp(i){let t=i.iScale,e=jp(t,i.type),n=t._length,o,r,s,a,l=()=>{s===32767||s===-32768||(Ln(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(o=0,r=e.length;o<r;++o)s=t.getPixelForValue(e[o]),l();for(a=void 0,o=0,r=t.ticks.length;o<r;++o)s=t.getPixelForTick(o),l();return n}function Up(i,t,e,n){let o=e.barThickness,r,s;return te(o)?(r=t.min*e.categoryPercentage,s=e.barPercentage):(r=o*n,s=1),{chunk:r/n,ratio:s,start:t.pixels[i]-r/2}}function Wp(i,t,e,n){let o=t.pixels,r=o[i],s=i>0?o[i-1]:null,a=i<o.length-1?o[i+1]:null,l=e.categoryPercentage;s===null&&(s=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-s);let d=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:e.barPercentage,start:d}}function qp(i,t,e,n){let o=e.parse(i[0],n),r=e.parse(i[1],n),s=Math.min(o,r),a=Math.max(o,r),l=s,d=a;Math.abs(s)>Math.abs(a)&&(l=a,d=s),t[e.axis]=d,t._custom={barStart:l,barEnd:d,start:o,end:r,min:s,max:a}}function Ac(i,t,e,n){return he(i)?qp(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Nl(i,t,e,n){let o=i.iScale,r=i.vScale,s=o.getLabels(),a=o===r,l=[],d,u,f,g;for(d=e,u=e+n;d<u;++d)g=t[d],f={},f[o.axis]=a||o.parse(s[d],d),l.push(Ac(g,f,r,d));return l}function Zr(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Hp(i,t,e){return i!==0?mt(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function $p(i){let t,e,n,o,r;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(o="end",r="start"):(o="start",r="end"),{start:e,end:n,reverse:t,top:o,bottom:r}}function Gp(i,t,e,n){let o=t.borderSkipped,r={};if(!o){i.borderSkipped=r;return}if(o===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:d,bottom:u}=$p(i);o==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?o=d:(e._bottom||0)===n?o=u:(r[Rl(u,s,a,l)]=!0,o=d)),r[Rl(o,s,a,l)]=!0,i.borderSkipped=r}function Rl(i,t,e,n){return n?(i=Yp(i,t,e),i=zl(i,e,t)):i=zl(i,t,e),i}function Yp(i,t,e){return i===t?e:i===e?t:i}function zl(i,t,e){return i==="start"?t:i==="end"?e:i}function Kp(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var Qp=(()=>{class i extends an{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,o,r){return Nl(e,n,o,r)}parseArrayData(e,n,o,r){return Nl(e,n,o,r)}parseObjectData(e,n,o,r){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=s.axis==="x"?l:d,f=a.axis==="x"?l:d,g=[],_,v,x,C;for(_=o,v=o+r;_<v;++_)C=n[_],x={},x[s.axis]=s.parse(Lt(C,u),_),g.push(Ac(Lt(C,f),x,a,_));return g}updateRangeFromParsed(e,n,o,r){super.updateRangeFromParsed(e,n,o,r);let s=o._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:o,vScale:r}=n,s=this.getParsed(e),a=s._custom,l=Zr(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+o.getLabelForValue(s[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,o,r){let s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),u=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,r);for(let v=n;v<n+o;v++){let x=this.getParsed(v),C=s||te(x[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(v),M=this._calculateBarIndexPixels(v,f),S=(x._stacks||{})[l.axis],E={horizontal:u,base:C.base,enableBorderRadius:!S||Zr(x._custom)||a===S._top||a===S._bottom,x:u?C.head:M.center,y:u?M.center:C.head,height:u?M.size:Math.abs(C.size),width:u?Math.abs(C.size):M.size};_&&(E.options=g||this.resolveDataElementOptions(v,e[v].active?"active":r));let T=E.options||e[v].options;Gp(E,T,S,a),Kp(E,T,f.ratio),this.updateElement(e[v],v,E,r)}}_getStacks(e,n){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),d=l&&l[o.axis],u=f=>{let g=f._parsed.find(v=>v[o.axis]===d),_=g&&g[f.vScale.axis];if(te(_)||isNaN(_))return!0};for(let f of r)if(!(n!==void 0&&u(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(o=>e[o].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let o of this.chart.data.datasets)e[G(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,o){let r=this._getStacks(e,o),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){let e=this.options,n=this._cachedMeta,o=n.iScale,r=[],s,a;for(s=0,a=n.data.length;s<a;++s)r.push(o.getPixelForValue(this.getParsed(s)[o.axis],s));let l=e.barThickness;return{min:l||Bp(n),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:o,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,d=this.getParsed(e),u=d._custom,f=Zr(u),g=d[n.axis],_=0,v=o?this.applyStack(n,d,o):g,x,C;v!==g&&(_=v-g,v=g),f&&(g=u.barStart,v=u.barEnd-u.barStart,g!==0&&mt(g)!==mt(u.barEnd)&&(_=0),_+=g);let M=!te(s)&&!f?s:_,S=n.getPixelForValue(M);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(_+v):x=S,C=x-S,Math.abs(C)<a){C=Hp(C,n,l)*a,g===l&&(S-=C/2);let E=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),O=Math.min(E,T),A=Math.max(E,T);S=Math.max(Math.min(S,A),O),x=S+C,o&&!f&&(d._stacks[n.axis]._visualValues[r]=n.getValueForPixel(x)-n.getValueForPixel(S))}if(S===n.getPixelForValue(l)){let E=mt(C)*n.getLineWidthForValue(l)/2;S+=E,C-=E}return{size:C,base:S,head:x,center:x+C/2}}_calculateBarIndexPixels(e,n){let o=n.scale,r=this.options,s=r.skipNull,a=G(r.maxBarThickness,1/0),l,d,u=this._getAxisCount();if(n.grouped){let f=s?this._getStackCount(e):n.stackCount,g=r.barThickness==="flex"?Wp(e,n,r,f*u):Up(e,n,r,f*u),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(G(_,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+v;l=g.start+g.chunk*x+g.chunk/2,d=Math.min(a,g.chunk*g.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),d=Math.min(a,n.min*n.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){let e=this._cachedMeta,n=e.vScale,o=e.data,r=o.length,s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!o[s].hidden&&o[s].draw(this._ctx)}}return i})(),Xp=(()=>{class i extends an{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,o,r){let s=super.parsePrimitiveData(e,n,o,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+o).radius;return s}parseArrayData(e,n,o,r){let s=super.parseArrayData(e,n,o,r);for(let a=0;a<s.length;a++){let l=n[o+a];s[a]._custom=G(l[2],this.resolveDataElementOptions(a+o).radius)}return s}parseObjectData(e,n,o,r){let s=super.parseObjectData(e,n,o,r);for(let a=0;a<s.length;a++){let l=n[o+a];s[a]._custom=G(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let o=e.length-1;o>=0;--o)n=Math.max(n,e[o].size(this.resolveDataElementOptions(o))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=n,a=this.getParsed(e),l=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y),u=a._custom;return{label:o[e]||"",value:"("+l+", "+d+(u?", "+u:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,o,r){let s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(n,r),f=a.axis,g=l.axis;for(let _=n;_<n+o;_++){let v=e[_],x=!s&&this.getParsed(_),C={},M=C[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(x[f]),S=C[g]=s?l.getBasePixel():l.getPixelForValue(x[g]);C.skip=isNaN(M)||isNaN(S),u&&(C.options=d||this.resolveDataElementOptions(_,v.active?"active":r),s&&(C.options.radius=0)),this.updateElement(v,_,C,r)}}resolveDataElementOptions(e,n){let o=this.getParsed(e),r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=G(o&&o._custom,s),r}}return i})();function Jp(i,t,e){let n=1,o=1,r=0,s=0;if(t<_e){let a=i,l=a+t,d=Math.cos(a),u=Math.sin(a),f=Math.cos(l),g=Math.sin(l),_=(E,T,O)=>Rn(E,a,l,!0)?1:Math.max(T,T*e,O,O*e),v=(E,T,O)=>Rn(E,a,l,!0)?-1:Math.min(T,T*e,O,O*e),x=_(0,d,f),C=_(Se,u,g),M=v(ae,d,f),S=v(ae+Se,u,g);n=(x-M)/2,o=(C-S)/2,r=-(x+M)/2,s=-(C+S)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:s}}var Es=(()=>{class i extends an{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data,{labels:{pointStyle:o,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((d,u)=>{let g=e.getDatasetMeta(0).controller.getStyle(u);return{text:d,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:r,pointStyle:o,borderRadius:a&&(l||g.borderRadius),index:u}}):[]}},onClick(e,n,o){o.chart.toggleDataVisibility(n.index),o.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let s=d=>+o[d];if(ne(o[e])){let{key:d="value"}=this._parsing;s=u=>+Lt(o[u],d)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return st(this.options.rotation-90)}_getCircumference(){return st(this.options.circumference)}_getRotationExtents(){let e=_e,n=-_e;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:o}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),d=Math.min(nl(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:_,ratioY:v,offsetX:x,offsetY:C}=Jp(g,f,d),M=(o.width-a)/_,S=(o.height-a)/v,E=Math.max(Math.min(M,S)/2,0),T=yr(this.options.radius,E),O=Math.max(T*d,0),A=(T-O)/this._getVisibleDatasetWeightTotal();this.offsetX=x*T,this.offsetY=C*T,r.total=this.calculateTotal(),this.outerRadius=T-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){let o=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/_e)}updateElements(e,n,o,r){let s=r==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,f=(l.left+l.right)/2,g=(l.top+l.bottom)/2,_=s&&u.animateScale,v=_?0:this.innerRadius,x=_?0:this.outerRadius,{sharedOptions:C,includeOptions:M}=this._getSharedOptions(n,r),S=this._getRotation(),E;for(E=0;E<n;++E)S+=this._circumference(E,s);for(E=n;E<n+o;++E){let T=this._circumference(E,s),O=e[E],A={x:f+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+T,circumference:T,outerRadius:x,innerRadius:v};M&&(A.options=C||this.resolveDataElementOptions(E,O.active?"active":r)),S+=T,this.updateElement(O,E,A,r)}}calculateTotal(){let e=this._cachedMeta,n=e.data,o=0,r;for(r=0;r<n.length;r++){let s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(o+=Math.abs(s))}return o}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?_e*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=zn(n._parsed[e],o.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0,o=this.chart,r,s,a,l,d;if(!e){for(r=0,s=o.data.datasets.length;r<s;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)d=l.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let o=0,r=e.length;o<r;++o){let s=this.resolveDataElementOptions(o);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(n+=this._getRingWeight(o));return n}_getRingWeight(e){return Math.max(G(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),Zp=(()=>{class i extends an{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:o,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled,{start:l,count:d}=Ir(n,r,a);this._drawStart=l,this._drawCount=d,Dr(n)&&(l=0,d=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=r;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:u},e),this.updateElements(r,l,d,e)}updateElements(e,n,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,r),_=a.axis,v=l.axis,{spanGaps:x,segment:C}=this.options,M=fn(x)?x:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||r==="none",E=n+o,T=e.length,O=n>0&&this.getParsed(n-1);for(let A=0;A<T;++A){let R=e[A],L=S?R:{};if(A<n||A>=E){L.skip=!0;continue}let j=this.getParsed(A),H=te(j[v]),Y=L[_]=a.getPixelForValue(j[_],A),K=L[v]=s||H?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,j,d):j[v],A);L.skip=isNaN(Y)||isNaN(K)||H,L.stop=A>0&&Math.abs(j[_]-O[_])>M,C&&(L.parsed=j,L.raw=u.data[A]),g&&(L.options=f||this.resolveDataElementOptions(A,R.active?"active":r)),S||this.updateElement(R,A,L,r),O=j}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,o=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),Ic=(()=>{class i extends an{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return n.labels.map((s,a)=>{let d=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,o){o.chart.toggleDataVisibility(n.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=zn(n._parsed[e].r,o.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,o,r){return Ur.bind(this)(e,n,o,r)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,o=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),a=Math.max(o.cutoutPercentage?s/100*o.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,o,r){let s=r==="reset",a=this.chart,d=a.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,g=u.yCenter,_=u.getIndexAngle(0)-.5*ae,v=_,x,C=360/this.countVisibleElements();for(x=0;x<n;++x)v+=this._computeAngle(x,r,C);for(x=n;x<n+o;x++){let M=e[x],S=v,E=v+this._computeAngle(x,r,C),T=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;v=E,s&&(d.animateScale&&(T=0),d.animateRotate&&(S=E=_));let O={x:f,y:g,innerRadius:0,outerRadius:T,startAngle:S,endAngle:E,options:this.resolveDataElementOptions(x,M.active?"active":r)};this.updateElement(M,x,O,r)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,o){return this.chart.getDataVisibility(e)?st(this.resolveDataElementOptions(e,n).angle||o):0}}return i})(),ef=(()=>{class i extends Es{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),tf=(()=>{class i extends an{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,o=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(o[n.axis])}}parseObjectData(e,n,o,r){return Ur.bind(this)(e,n,o,r)}update(e){let n=this._cachedMeta,o=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(o.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,o,r){let s=this._cachedMeta.rScale,a=r==="reset";for(let l=n;l<n+o;l++){let d=e[l],u=this.resolveDataElementOptions(l,d.active?"active":r),f=s.getPointPositionForValue(l,this.getParsed(l).r),g=a?s.xCenter:f.x,_=a?s.yCenter:f.y,v={x:g,y:_,angle:f.angle,skip:isNaN(g)||isNaN(_),options:u};this.updateElement(d,l,v,r)}}}return i})(),nf=(()=>{class i extends an{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=n,a=this.getParsed(e),l=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+d+")"}}update(e){let n=this._cachedMeta,{data:o=[]}=n,r=this.chart._animationsDisabled,{start:s,count:a}=Ir(n,o,r);if(this._drawStart=s,this._drawCount=a,Dr(n)&&(s=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:d}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!d._decimated,l.points=o;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(o,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),g=this.getSharedOptions(f),_=this.includeOptions(r,g),v=a.axis,x=l.axis,{spanGaps:C,segment:M}=this.options,S=fn(C)?C:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||r==="none",T=n>0&&this.getParsed(n-1);for(let O=n;O<n+o;++O){let A=e[O],R=this.getParsed(O),L=E?A:{},j=te(R[x]),H=L[v]=a.getPixelForValue(R[v],O),Y=L[x]=s||j?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,R,d):R[x],O);L.skip=isNaN(H)||isNaN(Y)||j,L.stop=O>0&&Math.abs(R[v]-T[v])>S,M&&(L.parsed=R,L.raw=u.data[O]),_&&(L.options=g||this.resolveDataElementOptions(O,A.active?"active":r)),E||this.updateElement(A,O,L,r),T=R}this.updateSharedOptions(g,r,f)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let d=n.length-1;d>=0;--d)l=Math.max(l,n[d].size(this.resolveDataElementOptions(d))/2);return l>0&&l}let o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!n.length)return r;let s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,a)/2}}return i})(),of=Object.freeze({__proto__:null,BarController:Qp,BubbleController:Xp,DoughnutController:Es,LineController:Zp,PieController:ef,PolarAreaController:Ic,RadarController:tf,ScatterController:nf});function hn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var cs=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return hn()}parse(){return hn()}format(){return hn()}add(){return hn()}diff(){return hn()}startOf(){return hn()}endOf(){return hn()}},rf={_date:cs};function sf(i,t,e,n){let{controller:o,data:r,_sorted:s}=i,a=o._cachedMeta.iScale,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&s&&r.length){let d=a._reversePixels?ll:St;if(n){if(o._sharedOptions){let u=r[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){let g=d(r,t,e-f),_=d(r,t,e+f);return{lo:g.lo,hi:_.hi}}}}else{let u=d(r,t,e);if(l){let{vScale:f}=o._cachedMeta,{_parsed:g}=i,_=g.slice(0,u.lo+1).reverse().findIndex(x=>!te(x[f.axis]));u.lo-=Math.max(0,_);let v=g.slice(u.hi).findIndex(x=>!te(x[f.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:r.length-1}}function bi(i,t,e,n,o){let r=i.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=r.length;a<l;++a){let{index:d,data:u}=r[a],{lo:f,hi:g}=sf(r[a],t,s,o);for(let _=f;_<=g;++_){let v=u[_];v.skip||n(v,d,_)}}}function af(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,o){let r=t?Math.abs(n.x-o.x):0,s=e?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function es(i,t,e,n,o){let r=[];return!o&&!i.isPointInArea(t)||bi(i,e,t,function(a,l,d){!o&&!Pt(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&r.push({element:a,datasetIndex:l,index:d})},!0),r}function lf(i,t,e,n){let o=[];function r(s,a,l){let{startAngle:d,endAngle:u}=s.getProps(["startAngle","endAngle"],n),{angle:f}=Or(s,{x:t.x,y:t.y});Rn(f,d,u)&&o.push({element:s,datasetIndex:a,index:l})}return bi(i,e,t,r),o}function cf(i,t,e,n,o,r){let s=[],a=af(e),l=Number.POSITIVE_INFINITY;function d(u,f,g){let _=u.inRange(t.x,t.y,o);if(n&&!_)return;let v=u.getCenterPoint(o);if(!(!!r||i.isPointInArea(v))&&!_)return;let C=a(t,v);C<l?(s=[{element:u,datasetIndex:f,index:g}],l=C):C===l&&s.push({element:u,datasetIndex:f,index:g})}return bi(i,e,t,d),s}function ts(i,t,e,n,o,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!n?lf(i,t,e,o):cf(i,t,e,n,o,r)}function Vl(i,t,e,n,o){let r=[],s=e==="x"?"inXRange":"inYRange",a=!1;return bi(i,e,t,(l,d,u)=>{l[s]&&l[s](t[e],o)&&(r.push({element:l,datasetIndex:d,index:u}),a=a||l.inRange(t.x,t.y,o))}),n&&!a?[]:r}var df={evaluateInteractionItems:bi,modes:{index(i,t,e,n){let o=rn(t,i),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?es(i,o,r,n,s):ts(i,o,r,!1,n,s),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(d=>{let u=a[0].index,f=d.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:d.index,index:u})}),l):[]},dataset(i,t,e,n){let o=rn(t,i),r=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?es(i,o,r,n,s):ts(i,o,r,!1,n,s);if(a.length>0){let l=a[0].datasetIndex,d=i.getDatasetMeta(l).data;a=[];for(let u=0;u<d.length;++u)a.push({element:d[u],datasetIndex:l,index:u})}return a},point(i,t,e,n){let o=rn(t,i),r=e.axis||"xy",s=e.includeInvisible||!1;return es(i,o,r,n,s)},nearest(i,t,e,n){let o=rn(t,i),r=e.axis||"xy",s=e.includeInvisible||!1;return ts(i,o,r,e.intersect,n,s)},x(i,t,e,n){let o=rn(t,i);return Vl(i,o,"x",e.intersect,n)},y(i,t,e,n){let o=rn(t,i);return Vl(i,o,"y",e.intersect,n)}}},Dc=["left","top","right","bottom"];function ci(i,t){return i.filter(e=>e.pos===t)}function jl(i,t){return i.filter(e=>Dc.indexOf(e.pos)===-1&&e.box.axis===t)}function di(i,t){return i.sort((e,n)=>{let o=t?n:e,r=t?e:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function mf(i){let t=[],e,n,o,r,s,a;for(e=0,n=(i||[]).length;e<n;++e)o=i[e],{position:r,options:{stack:s,stackWeight:a=1}}=o,t.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return t}function uf(i){let t={};for(let e of i){let{stack:n,pos:o,stackWeight:r}=e;if(!n||!Dc.includes(o))continue;let s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}function pf(i,t){let e=uf(i),{vBoxMaxWidth:n,hBoxMaxHeight:o}=t,r,s,a;for(r=0,s=i.length;r<s;++r){a=i[r];let{fullSize:l}=a.box,d=e[a.stack],u=d&&a.stackWeight/d.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=o):(a.width=n,a.height=u?u*o:l&&t.availableHeight)}return e}function ff(i){let t=mf(i),e=di(t.filter(d=>d.box.fullSize),!0),n=di(ci(t,"left"),!0),o=di(ci(t,"right")),r=di(ci(t,"top"),!0),s=di(ci(t,"bottom")),a=jl(t,"x"),l=jl(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:ci(t,"chartArea"),vertical:n.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function Bl(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function Fc(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function gf(i,t,e,n){let{pos:o,box:r}=e,s=i.maxPadding;if(!ne(o)){e.size&&(i[o]-=e.size);let f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,i[o]+=e.size}r.getPadding&&Fc(s,r.getPadding());let a=Math.max(0,t.outerWidth-Bl(s,i,"left","right")),l=Math.max(0,t.outerHeight-Bl(s,i,"top","bottom")),d=a!==i.w,u=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:d,other:u}:{same:u,other:d}}function hf(i){let t=i.maxPadding;function e(n){let o=Math.max(t[n]-i[n],0);return i[n]+=o,o}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function _f(i,t){let e=t.maxPadding;function n(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(t[s],e[s])}),r}return n(i?["left","right"]:["top","bottom"])}function pi(i,t,e,n){let o=[],r,s,a,l,d,u;for(r=0,s=i.length,d=0;r<s;++r){a=i[r],l=a.box,l.update(a.width||t.w,a.height||t.h,_f(a.horizontal,t));let{same:f,other:g}=gf(t,e,a,n);d|=f&&o.length,u=u||g,l.fullSize||o.push(a)}return d&&pi(o,t,e,n)||u}function po(i,t,e,n,o){i.top=e,i.left=t,i.right=t+n,i.bottom=e+o,i.width=n,i.height=o}function Ul(i,t,e,n){let o=e.padding,{x:r,y:s}=t;for(let a of i){let l=a.box,d=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/d.weight||1;if(a.horizontal){let f=t.w*u,g=d.size||l.height;Ln(d.start)&&(s=d.start),l.fullSize?po(l,o.left,s,e.outerWidth-o.right-o.left,g):po(l,t.left+d.placed,s,f,g),d.start=s,d.placed+=f,s=l.bottom}else{let f=t.h*u,g=d.size||l.width;Ln(d.start)&&(r=d.start),l.fullSize?po(l,r,o.top,g,e.outerHeight-o.bottom-o.top):po(l,r,t.top+d.placed,g,f),d.start=r,d.placed+=f,r=l.right}}t.x=r,t.y=s}var He={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let o=Ne(i.options.layout.padding),r=Math.max(t-o.width,0),s=Math.max(e-o.height,0),a=ff(i.boxes),l=a.vertical,d=a.horizontal;me(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});let u=l.reduce((x,C)=>C.box.options&&C.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/u,hBoxMaxHeight:s/2}),g=Object.assign({},o);Fc(g,Ne(n));let _=Object.assign({maxPadding:g,w:r,h:s,x:o.left,y:o.top},o),v=pf(l.concat(d),f);pi(a.fullSize,_,f,v),pi(l,_,f,v),pi(d,_,f,v)&&pi(l,_,f,v),hf(_),Ul(a.leftAndTop,_,f,v),_.x+=_.w,_.y+=_.h,Ul(a.rightAndBottom,_,f,v),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},me(a.chartArea,x=>{let C=x.box;Object.assign(C,i.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}},yo=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,o){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):n)}}isAttached(t){return!0}updateConfig(t){}},ds=class extends yo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},vo="$chartjs",bf={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wl=i=>i===null||i==="";function vf(i,t){let e=i.style,n=i.getAttribute("height"),o=i.getAttribute("width");if(i[vo]={initial:{height:n,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Wl(o)){let r=qr(i,"width");r!==void 0&&(i.width=r)}if(Wl(n))if(i.style.height==="")i.height=i.width/(t||2);else{let r=qr(i,"height");r!==void 0&&(i.height=r)}return i}var Lc=Pl?{passive:!0}:!1;function xf(i,t,e){i&&i.addEventListener(t,e,Lc)}function Cf(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,Lc)}function yf(i,t){let e=bf[i.type]||i.type,{x:n,y:o}=rn(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:o!==void 0?o:null}}function Mo(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Mf(i,t,e){let n=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Mo(a.addedNodes,n),s=s&&!Mo(a.removedNodes,n);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function Sf(i,t,e){let n=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Mo(a.removedNodes,n),s=s&&!Mo(a.addedNodes,n);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var gi=new Map,ql=0;function Nc(){let i=window.devicePixelRatio;i!==ql&&(ql=i,gi.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Pf(i,t){gi.size||window.addEventListener("resize",Nc),gi.set(i,t)}function wf(i){gi.delete(i),gi.size||window.removeEventListener("resize",Nc)}function Of(i,t,e){let n=i.canvas,o=n&&mo(n);if(!o)return;let r=Ar((a,l)=>{let d=o.clientWidth;e(a,l),d<o.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],d=l.contentRect.width,u=l.contentRect.height;d===0&&u===0||r(d,u)});return s.observe(o),Pf(i,r),s}function ns(i,t,e){e&&e.disconnect(),t==="resize"&&wf(i)}function Ef(i,t,e){let n=i.canvas,o=Ar(r=>{i.ctx!==null&&e(yf(r,i))},i);return xf(n,t,o),o}var ms=class extends yo{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(vf(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[vo])return!1;let n=e[vo].initial;["height","width"].forEach(r=>{let s=n[r];te(s)?e.removeAttribute(r):e.setAttribute(r,s)});let o=n.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[vo],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let o=t.$proxies||(t.$proxies={}),s={attach:Mf,detach:Sf,resize:Of}[e]||Ef;o[e]=s(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),o=n[e];if(!o)return;({attach:ns,detach:ns,resize:ns}[e]||Cf)(t,e,o),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,o){return Sl(t,e,n,o)}isAttached(t){let e=t&&mo(t);return!!(e&&e.isConnected)}};function kf(i){return!co()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ds:ms}var ut=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return fn(this.x)&&fn(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let o={};return t.forEach(r=>{o[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),o}};function Tf(i,t){let e=i.options.ticks,n=Af(i),o=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?Df(t):[],s=r.length,a=r[0],l=r[s-1],d=[];if(s>o)return Ff(t,d,r,s/o),d;let u=If(r,t,o);if(s>0){let f,g,_=s>1?Math.round((l-a)/(s-1)):null;for(fo(t,d,u,te(_)?0:a-_,a),f=0,g=s-1;f<g;f++)fo(t,d,u,r[f],r[f+1]);return fo(t,d,u,l,te(_)?t.length:l+_),d}return fo(t,d,u),d}function Af(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),o=i._maxLength/e;return Math.floor(Math.min(n,o))}function If(i,t,e){let n=Lf(i),o=t.length/e;if(!n)return Math.max(o,1);let r=rl(n);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function Df(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Ff(i,t,e,n){let o=0,r=e[0],s;for(n=Math.ceil(n),s=0;s<i.length;s++)s===r&&(t.push(i[s]),o++,r=e[o*n])}function fo(i,t,e,n,o){let r=G(n,0),s=Math.min(G(o,i.length),i.length),a=0,l,d,u;for(e=Math.ceil(e),o&&(l=o-n,e=l/Math.floor(l/e)),u=r;u<0;)a++,u=Math.round(r+a*e);for(d=Math.max(r,0);d<s;d++)d===u&&(t.push(i[d]),a++,u=Math.round(r+a*e))}function Lf(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Nf=i=>i==="left"?"right":i==="right"?"left":i,Hl=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,$l=(i,t)=>Math.min(t||i,i);function Gl(i,t){let e=[],n=i.length/t,o=i.length,r=0;for(;r<o;r+=n)e.push(i[Math.floor(r)]);return e}function Rf(i,t,e){let n=i.ticks.length,o=Math.min(t,n-1),r=i._startPixel,s=i._endPixel,a=1e-6,l=i.getPixelForTick(o),d;if(!(e&&(n===1?d=Math.max(l-r,s-l):t===0?d=(i.getPixelForTick(1)-l)/2:d=(l-i.getPixelForTick(o-1))/2,l+=o<t?d:-d,l<r-a||l>s+a)))return l}function zf(i,t){me(i,e=>{let n=e.gc,o=n.length/2,r;if(o>t){for(r=0;r<o;++r)delete e.data[n[r]];n.splice(0,o)}})}function mi(i){return i.drawTicks?i.tickLength:0}function Yl(i,t){if(!i.display)return 0;let e=ke(i.font,t),n=Ne(i.padding);return(he(i.text)?i.text.length:1)*e.lineHeight+n.height}function Vf(i,t){return Nt(i,{scale:t,type:"scale"})}function jf(i,t,e){return Nt(i,{tick:e,index:t,type:"tick"})}function Bf(i,t,e){let n=oo(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Nf(n)),n}function Uf(i,t,e,n){let{top:o,left:r,bottom:s,right:a,chart:l}=i,{chartArea:d,scales:u}=l,f=0,g,_,v,x=s-o,C=a-r;if(i.isHorizontal()){if(_=Le(n,r,a),ne(e)){let M=Object.keys(e)[0],S=e[M];v=u[M].getPixelForValue(S)+x-t}else e==="center"?v=(d.bottom+d.top)/2+x-t:v=Hl(i,e,t);g=a-r}else{if(ne(e)){let M=Object.keys(e)[0],S=e[M];_=u[M].getPixelForValue(S)-C+t}else e==="center"?_=(d.left+d.right)/2-C+t:_=Hl(i,e,t);v=Le(n,s,o),f=e==="left"?-Se:Se}return{titleX:_,titleY:v,maxWidth:g,rotation:f}}var bn=class i extends ut{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:o}=this;return t=Qe(t,Number.POSITIVE_INFINITY),e=Qe(e,Number.NEGATIVE_INFINITY),n=Qe(n,Number.POSITIVE_INFINITY),o=Qe(o,Number.NEGATIVE_INFINITY),{min:Qe(t,n),max:Qe(e,o),minDefined:ye(t),maxDefined:ye(e)}}getMinMax(t){let{min:e,max:n,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,d=a.length;l<d;++l)s=a[l].controller.getMinMax(this,t),o||(e=Math.min(e,s.min)),r||(n=Math.max(n,s.max));return e=r&&e>n?n:e,n=o&&e>n?e:n,{min:Qe(e,Qe(n,e)),max:Qe(n,Qe(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bl(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?Gl(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Tf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,o,r;for(n=0,o=t.length;n<o;n++)r=t[n],r.label=ge(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=$l(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation,s=o,a,l,d;if(!this._isVisible()||!e.display||o>=r||n<=1||!this.isHorizontal()){this.labelRotation=o;return}let u=this._getLabelSizes(),f=u.widest.width,g=u.highest.height,_=Ae(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/n:_/(n-1),f+6>a&&(a=_/(n-(t.offset?.5:1)),l=this.maxHeight-mi(t.grid)-e.padding-Yl(t.title,this.chart.options.font),d=Math.sqrt(f*f+g*g),s=no(Math.min(Math.asin(Ae((u.highest.height+6)/a,-1,1)),Math.asin(Ae(l/d,-1,1))-Math.asin(Ae(g/d,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=Yl(o,e.options.font);if(a?(t.width=this.maxWidth,t.height=mi(r)+l):(t.height=this.maxHeight,t.width=mi(r)+l),n.display&&this.ticks.length){let{first:d,last:u,widest:f,highest:g}=this._getLabelSizes(),_=n.padding*2,v=st(this.labelRotation),x=Math.cos(v),C=Math.sin(v);if(a){let M=n.mirror?0:C*f.width+x*g.height;t.height=Math.min(this.maxHeight,t.height+M+_)}else{let M=n.mirror?0:x*f.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+M+_)}this._calculatePadding(d,u,C,x)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),g=0,_=0;l?d?(g=o*t.width,_=n*e.height):(g=n*t.height,_=o*e.width):r==="start"?_=e.width:r==="end"?g=t.width:r!=="inner"&&(g=t.width/2,_=e.width/2),this.paddingLeft=Math.max((g-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((_-f+s)*this.width/(this.width-f),0)}else{let u=e.height/2,f=t.height/2;r==="start"?(u=0,f=t.height):r==="end"&&(u=e.height,f=0),this.paddingTop=u+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)te(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=Gl(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/$l(e,n)),d=0,u=0,f,g,_,v,x,C,M,S,E,T,O;for(f=0;f<e;f+=l){if(v=t[f].label,x=this._resolveTickFontOptions(f),o.font=C=x.string,M=r[C]=r[C]||{data:{},gc:[]},S=x.lineHeight,E=T=0,!te(v)&&!he(v))E=ii(o,M.data,M.gc,E,v),T=S;else if(he(v))for(g=0,_=v.length;g<_;++g)O=v[g],!te(O)&&!he(O)&&(E=ii(o,M.data,M.gc,E,O),T+=S);s.push(E),a.push(T),d=Math.max(E,d),u=Math.max(T,u)}zf(r,e);let A=s.indexOf(d),R=a.indexOf(u),L=j=>({width:s[j]||0,height:a[j]||0});return{first:L(0),last:L(e-1),widest:L(A),highest:L(R),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return al(this._alignToPixels?tn(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=jf(this.getContext(),t,n))}return this.$context||(this.$context=Vf(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=st(this.labelRotation),n=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*n>a*o?a/n:l/o:l*o<a*n?l/n:a/o}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,d=this.isHorizontal(),f=this.ticks.length+(l?1:0),g=mi(r),_=[],v=a.setContext(this.getContext()),x=v.display?v.width:0,C=x/2,M=function(N){return tn(n,N,x)},S,E,T,O,A,R,L,j,H,Y,K,Pe;if(s==="top")S=M(this.bottom),R=this.bottom-g,j=S-C,Y=M(t.top)+C,Pe=t.bottom;else if(s==="bottom")S=M(this.top),Y=t.top,Pe=M(t.bottom)-C,R=S+C,j=this.top+g;else if(s==="left")S=M(this.right),A=this.right-g,L=S-C,H=M(t.left)+C,K=t.right;else if(s==="right")S=M(this.left),H=t.left,K=M(t.right)-C,A=S+C,L=this.left+g;else if(e==="x"){if(s==="center")S=M((t.top+t.bottom)/2+.5);else if(ne(s)){let N=Object.keys(s)[0],V=s[N];S=M(this.chart.scales[N].getPixelForValue(V))}Y=t.top,Pe=t.bottom,R=S+C,j=R+g}else if(e==="y"){if(s==="center")S=M((t.left+t.right)/2);else if(ne(s)){let N=Object.keys(s)[0],V=s[N];S=M(this.chart.scales[N].getPixelForValue(V))}A=S-C,L=A-g,H=t.left,K=t.right}let Re=G(o.ticks.maxTicksLimit,f),ce=Math.max(1,Math.ceil(f/Re));for(E=0;E<f;E+=ce){let N=this.getContext(E),V=r.setContext(N),B=a.setContext(N),W=V.lineWidth,be=V.color,$e=B.dash||[],we=B.dashOffset,Ye=V.tickWidth,de=V.tickColor,Bt=V.tickBorderDash||[],At=V.tickBorderDashOffset;T=Rf(this,E,l),T!==void 0&&(O=tn(n,T,W),d?A=L=H=K=O:R=j=Y=Pe=O,_.push({tx1:A,ty1:R,tx2:L,ty2:j,x1:H,y1:Y,x2:K,y2:Pe,width:W,color:be,borderDash:$e,borderDashOffset:we,tickWidth:Ye,tickColor:de,tickBorderDash:Bt,tickBorderDashOffset:At}))}return this._ticksLength=f,this._borderValue=S,_}_computeLabelItems(t){let e=this.axis,n=this.options,{position:o,ticks:r}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:d,padding:u,mirror:f}=r,g=mi(n.grid),_=g+u,v=f?-u:_,x=-st(this.labelRotation),C=[],M,S,E,T,O,A,R,L,j,H,Y,K,Pe="middle";if(o==="top")A=this.bottom-v,R=this._getXAxisLabelAlignment();else if(o==="bottom")A=this.top+v,R=this._getXAxisLabelAlignment();else if(o==="left"){let ce=this._getYAxisLabelAlignment(g);R=ce.textAlign,O=ce.x}else if(o==="right"){let ce=this._getYAxisLabelAlignment(g);R=ce.textAlign,O=ce.x}else if(e==="x"){if(o==="center")A=(t.top+t.bottom)/2+_;else if(ne(o)){let ce=Object.keys(o)[0],N=o[ce];A=this.chart.scales[ce].getPixelForValue(N)+_}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")O=(t.left+t.right)/2-_;else if(ne(o)){let ce=Object.keys(o)[0],N=o[ce];O=this.chart.scales[ce].getPixelForValue(N)}R=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(l==="start"?Pe="top":l==="end"&&(Pe="bottom"));let Re=this._getLabelSizes();for(M=0,S=a.length;M<S;++M){E=a[M],T=E.label;let ce=r.setContext(this.getContext(M));L=this.getPixelForTick(M)+r.labelOffset,j=this._resolveTickFontOptions(M),H=j.lineHeight,Y=he(T)?T.length:1;let N=Y/2,V=ce.color,B=ce.textStrokeColor,W=ce.textStrokeWidth,be=R;s?(O=L,R==="inner"&&(M===S-1?be=this.options.reverse?"left":"right":M===0?be=this.options.reverse?"right":"left":be="center"),o==="top"?d==="near"||x!==0?K=-Y*H+H/2:d==="center"?K=-Re.highest.height/2-N*H+H:K=-Re.highest.height+H/2:d==="near"||x!==0?K=H/2:d==="center"?K=Re.highest.height/2-N*H:K=Re.highest.height-Y*H,f&&(K*=-1),x!==0&&!ce.showLabelBackdrop&&(O+=H/2*Math.sin(x))):(A=L,K=(1-Y)*H/2);let $e;if(ce.showLabelBackdrop){let we=Ne(ce.backdropPadding),Ye=Re.heights[M],de=Re.widths[M],Bt=K-we.top,At=0-we.left;switch(Pe){case"middle":Bt-=Ye/2;break;case"bottom":Bt-=Ye;break}switch(R){case"center":At-=de/2;break;case"right":At-=de;break;case"inner":M===S-1?At-=de:M>0&&(At-=de/2);break}$e={left:At,top:Bt,width:de+we.width,height:Ye+we.height,color:ce.backdropColor}}C.push({label:T,font:j,textOffset:K,options:{rotation:x,color:V,strokeColor:B,strokeWidth:W,textAlign:be,textBaseline:Pe,translation:[O,A],backdrop:$e}})}return C}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-st(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=t+r,l=s.widest.width,d,u;return e==="left"?o?(u=this.right+r,n==="near"?d="left":n==="center"?(d="center",u+=l/2):(d="right",u+=l)):(u=this.right-a,n==="near"?d="right":n==="center"?(d="center",u-=l/2):(d="left",u=this.left)):e==="right"?o?(u=this.left+r,n==="near"?d="right":n==="center"?(d="center",u-=l/2):(d="left",u-=l)):(u=this.left+a,n==="near"?d="left":n==="center"?(d="center",u+=l/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:o,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,o,r,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,s,a=(l,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=o.length;r<s;++r){let l=o[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:o}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,d,u,f,g;this.isHorizontal()?(d=tn(t,this.left,s)-s/2,u=tn(t,this.right,a)+a/2,f=g=l):(f=tn(t,this.top,s)-s/2,g=tn(t,this.bottom,a)+a/2,d=u=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(d,f),e.lineTo(u,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,o=this._computeLabelArea();o&&si(n,o);let r=this.getLabelItems(t);for(let s of r){let a=s.options,l=s.font,d=s.label,u=s.textOffset;nn(n,d,0,u,l,a)}o&&ai(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:o}}=this;if(!n.display)return;let r=ke(n.font),s=Ne(n.padding),a=n.align,l=r.lineHeight/2;e==="bottom"||e==="center"||ne(e)?(l+=s.bottom,he(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:d,titleY:u,maxWidth:f,rotation:g}=Uf(this,l,e,a);nn(t,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:g,textAlign:Bf(a,e,o),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=G(t.grid&&t.grid.z,-1),o=G(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];a[n]===this.id&&(!t||a.type===t)&&o.push(a)}return o}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return ke(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Un=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;Hf(e)&&(n=this.register(e));let o=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,Wf(t,s,n),this.override&&ve.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,o=this.scope;n in e&&delete e[n],o&&n in ve[o]&&(delete ve[o][n],this.override&&delete en[n])}};function Wf(i,t,e){let n=In(Object.create(null),[e?ve.get(e):{},ve.get(t),i.defaults]);ve.set(t,n),i.defaultRoutes&&qf(t,i.defaultRoutes),i.descriptors&&ve.describe(t,i.descriptors)}function qf(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),o=n.pop(),r=[i].concat(n).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");ve.route(r,o,l,a)})}function Hf(i){return"id"in i&&"defaults"in i}var us=class{constructor(){this.controllers=new Un(an,"datasets",!0),this.elements=new Un(ut,"elements"),this.plugins=new Un(Object,"plugins"),this.scales=new Un(bn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(o=>{let r=n||this._getRegistryForType(o);n||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):me(o,s=>{let a=n||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,n){let o=to(t);ge(n["before"+o],[],n),e[t](n),ge(n["after"+o],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return o}},kt=new us,ps=class{constructor(){this._init=void 0}notify(t,e,n,o){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;let r=o?this._descriptors(t).filter(o):this._descriptors(t),s=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),s}_notify(t,e,n,o){o=o||{};for(let r of t){let s=r.plugin,a=s[n],l=[e,o,r.options];if(ge(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,o=G(n.options&&n.options.plugins,{}),r=$f(n);return o===!1&&!e?[]:Yf(t,r,o,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,n),t,"stop"),this._notify(o(n,e),t,"start")}};function $f(i){let t={},e=[],n=Object.keys(kt.plugins.items);for(let r=0;r<n.length;r++)e.push(kt.getPlugin(n[r]));let o=i.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function Gf(i,t){return!t&&i===!1?null:i===!0?{}:i}function Yf(i,{plugins:t,localIds:e},n,o){let r=[],s=i.getContext();for(let a of t){let l=a.id,d=Gf(n[l],o);d!==null&&r.push({plugin:a,options:Kf(i.config,{plugin:a,local:e[l]},d,s)})}return r}function Kf(i,{plugin:t,local:e},n,o){let r=i.pluginScopeKeys(t),s=i.getOptionScopes(n,r);return e&&t.defaults&&s.push(t.defaults),i.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fs(i,t){let e=ve.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Qf(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function Xf(i,t){return i===t?"_index_":"_value_"}function Kl(i){if(i==="x"||i==="y"||i==="r")return i}function Jf(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function gs(i,...t){if(Kl(i))return i;for(let e of t){let n=e.axis||Jf(e.position)||i.length>1&&Kl(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Ql(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function Zf(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return Ql(i,"x",e[0])||Ql(i,"y",e[0])}return{}}function eg(i,t){let e=en[i.type]||{scales:{}},n=t.scales||{},o=fs(i.type,t),r=Object.create(null);return Object.keys(n).forEach(s=>{let a=n[s];if(!ne(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=gs(s,a,Zf(s,i),ve.scales[a.type]),d=Xf(l,o),u=e.scales||{};r[s]=Fn(Object.create(null),[{axis:l},a,u[l],u[d]])}),i.data.datasets.forEach(s=>{let a=s.type||i.type,l=s.indexAxis||fs(a,t),u=(en[a]||{}).scales||{};Object.keys(u).forEach(f=>{let g=Qf(f,l),_=s[g+"AxisID"]||g;r[_]=r[_]||Object.create(null),Fn(r[_],[{axis:g},n[_],u[f]])})}),Object.keys(r).forEach(s=>{let a=r[s];Fn(a,[ve.scales[a.type],ve.scale])}),r}function Rc(i){let t=i.options||(i.options={});t.plugins=G(t.plugins,{}),t.scales=eg(i,t)}function zc(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function tg(i){return i=i||{},i.data=zc(i.data),Rc(i),i}var Xl=new Map,Vc=new Set;function go(i,t){let e=Xl.get(i);return e||(e=t(),Xl.set(i,e),Vc.add(e)),e}var ui=(i,t,e)=>{let n=Lt(t,e);n!==void 0&&i.add(n)},hs=class{constructor(t){this._config=tg(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=zc(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Rc(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return go(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return go(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return go(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return go(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,o=n.get(t);return(!o||e)&&(o=new Map,n.set(t,o)),o}getOptionScopes(t,e,n){let{options:o,type:r}=this,s=this._cachedScopes(t,n),a=s.get(e);if(a)return a;let l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(f=>ui(l,t,f))),u.forEach(f=>ui(l,o,f)),u.forEach(f=>ui(l,en[r]||{},f)),u.forEach(f=>ui(l,ve,f)),u.forEach(f=>ui(l,ro,f))});let d=Array.from(l);return d.length===0&&d.push(Object.create(null)),Vc.has(e)&&s.set(e,d),d}chartOptionScopes(){let{options:t,type:e}=this;return[t,en[e]||{},ve.datasets[e]||{},{type:e},ve,ro]}resolveNamedOptions(t,e,n,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=Jl(this._resolverCache,t,o),l=s;if(ig(s,e)){r.$shared=!1,n=Dt(n)?n():n;let d=this.createResolver(t,n,a);l=pn(s,n,d)}for(let d of e)r[d]=l[d];return r}createResolver(t,e,n=[""],o){let{resolver:r}=Jl(this._resolverCache,t,n);return ne(e)?pn(r,e,void 0,o):r}};function Jl(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let o=e.join(),r=n.get(o);return r||(r={resolver:lo(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(o,r)),r}var ng=i=>ne(i)&&Object.getOwnPropertyNames(i).some(t=>Dt(i[t]));function ig(i,t){let{isScriptable:e,isIndexable:n}=Vr(i);for(let o of t){let r=e(o),s=n(o),a=(s||r)&&i[o];if(r&&(Dt(a)||ng(a))||s&&he(a))return!0}return!1}var og="4.5.1",rg=["top","bottom","left","right","chartArea"];function Zl(i,t){return i==="top"||i==="bottom"||rg.indexOf(i)===-1&&t==="x"}function ec(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function tc(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[i],t)}function sg(i){let t=i.chart,e=t.options.animation;ge(e&&e.onProgress,[i],t)}function jc(i){return co()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var xo={},nc=i=>{let t=jc(i);return Object.values(xo).filter(e=>e.canvas===t).pop()};function ag(i,t,e){let n=Object.keys(i);for(let o of n){let r=+o;if(r>=t){let s=i[o];delete i[o],(e>0||r>t)&&(i[r+e]=s)}}}function lg(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var Oo=(()=>{class i{static defaults=ve;static instances=xo;static overrides=en;static registry=kt;static version=og;static getChart=nc;static register(...e){kt.add(...e),ic()}static unregister(...e){kt.remove(...e),ic()}constructor(e,n){let o=this.config=new hs(n),r=jc(e),s=nc(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||kf(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),d=l&&l.canvas,u=d&&d.height,f=d&&d.width;if(this.id=tl(),this.ctx=l,this.canvas=d,this.width=f,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ps,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ul(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],xo[this.id]=this,!l||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Rt.listen(this,"complete",tc),Rt.listen(this,"progress",sg),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:o,height:r,_aspectRatio:s}=this;return te(e)?n&&s?s:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nr(this.canvas,this.ctx),this}stop(){return Rt.stop(this),this}resize(e,n){Rt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Wr(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ge(o.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};me(n,(o,r)=>{o.id=r})}buildOrUpdateScales(){let e=this.options,n=e.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];n&&(s=s.concat(Object.keys(n).map(a=>{let l=n[a],d=gs(a,l),u=d==="r",f=d==="x";return{options:l,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),me(s,a=>{let l=a.options,d=l.id,u=gs(d,l),f=G(l.type,a.dtype);(l.position===void 0||Zl(l.position,u)!==Zl(a.dposition))&&(l.position=a.dposition),r[d]=!0;let g=null;if(d in o&&o[d].type===f)g=o[d];else{let _=kt.getScale(f);g=new _({id:d,type:f,ctx:this.ctx,chart:this}),o[g.id]=g}g.init(l,e)}),me(r,(a,l)=>{a||delete o[l]}),me(o,a=>{He.configure(this,a,a.options),He.addBox(this,a)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,o=e.length;if(e.sort((r,s)=>r.index-s.index),o>n){for(let r=n;r<o;++r)this._destroyDatasetMeta(r);e.splice(n,o-n)}this._sortedMetasets=e.slice(0).sort(ec("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((o,r)=>{n.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=n.length;o<r;o++){let s=n[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||fs(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let d=kt.getController(l),{datasetElementType:u,dataElementType:f}=ve.datasets[l];Object.assign(d,{dataElementType:kt.getElement(f),datasetElementType:u&&kt.getElement(u)}),a.controller=new d(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let o=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,f=this.data.datasets.length;u<f;u++){let{controller:g}=this.getDatasetMeta(u),_=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(_),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||me(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ec("z","_idx"));let{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){me(this.scales,e=>{He.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!Mr(n,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of n){let a=o==="_removeElements"?-s:s;ag(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,o=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<n;s++)if(!Mr(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;He.update(this,this.width,this.height,e);let n=this.chartArea,o=n.width<=0||n.height<=0;this._layers=[],me(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,o=this.data.datasets.length;n<o;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,o=this.data.datasets.length;n<o;++n)this._updateDataset(n,Dt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let o=this.getDatasetMeta(e),r={meta:o,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rt.has(this)?this.attached&&!Rt.running(this)&&Rt.start(this):(this.draw(),tc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,o=[],r,s;for(r=0,s=n.length;r<s;++r){let a=n[r];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,o={meta:e,index:e.index,cancelable:!0},r=Kr(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&si(n,r),e.controller.draw(),r&&ai(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Pt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,o,r){let s=df.modes[n];return typeof s=="function"?s(this,e,o,r):[]}getDatasetMeta(e){let n=this.data.datasets[e],o=this._metasets,r=o.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Nt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!n.hidden}setDatasetVisibility(e,n){let o=this.getDatasetMeta(e);o.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,o){let r=o?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);Ln(n)?(s.data[n].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nr(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,o=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};me(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,o=(d,u)=>{n.addEventListener(this,d,u),e[d]=u},r=(d,u)=>{e[d]&&(n.removeEventListener(this,d,u),delete e[d])},s=(d,u)=>{this.canvas&&this.resize(d,u)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,o){let r=o?"set":"remove",s,a,l,d;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],o=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!oi(o,n)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,n))}notifyPlugins(e,n,o){return this._plugins.notify(this,e,n,o)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,o){let r=this.options.hover,s=(d,u)=>d.filter(f=>!u.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=s(n,e),l=o?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){let o={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(e,n,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(e,n,o){let{_active:r=[],options:s}=this,a=n,l=this._getActiveElements(e,r,o,a),d=ol(e),u=lg(e,this._lastEvent,o,d);o&&(this._lastEvent=null,ge(s.onHover,[e,l,this],this),d&&ge(s.onClick,[e,l,this],this));let f=!oi(l,r);return(f||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=u,f}_getActiveElements(e,n,o,r){if(e.type==="mouseout")return[];if(!o)return n;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}return i})();function ic(){return me(Oo.instances,i=>i._plugins.invalidate())}function cg(i,t,e){let{startAngle:n,x:o,y:r,outerRadius:s,innerRadius:a,options:l}=t,{borderWidth:d,borderJoinStyle:u}=l,f=Math.min(d/s,Fe(n-e));if(i.beginPath(),i.arc(o,r,s-d/2,n+f/2,e-f/2),a>0){let g=Math.min(d/a,Fe(n-e));i.arc(o,r,a+d/2,e-g/2,n+g/2,!0)}else{let g=Math.min(d/2,s*Fe(n-e));if(u==="round")i.arc(o,r,g,e-ae/2,n+ae/2,!0);else if(u==="bevel"){let _=2*g*g,v=-_*Math.cos(e+ae/2)+o,x=-_*Math.sin(e+ae/2)+r,C=_*Math.cos(n+ae/2)+o,M=_*Math.sin(n+ae/2)+r;i.lineTo(v,x),i.lineTo(C,M)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function dg(i,t,e){let{startAngle:n,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=t,d=o/a;i.beginPath(),i.arc(r,s,a,n-d,e+d),l>o?(d=o/l,i.arc(r,s,l,e+d,n-d,!0)):i.arc(r,s,o,e+Se,n-Se),i.closePath(),i.clip()}function mg(i){return ao(i,["outerStart","outerEnd","innerStart","innerEnd"])}function ug(i,t,e,n){let o=mg(i.options.borderRadius),r=(e-t)/2,s=Math.min(r,n*t/2),a=l=>{let d=(e-Math.min(r,l))*n/2;return Ae(l,0,Math.min(r,d))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:Ae(o.innerStart,0,s),innerEnd:Ae(o.innerEnd,0,s)}}function Bn(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function So(i,t,e,n,o,r){let{x:s,y:a,startAngle:l,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+n+e-d,0),g=u>0?u+n+e+d:0,_=0,v=o-l;if(n){let ce=u>0?u-n:0,N=f>0?f-n:0,V=(ce+N)/2,B=V!==0?v*V/(V+n):v;_=(v-B)/2}let x=Math.max(.001,v*f-e/ae)/f,C=(v-x)/2,M=l+C+_,S=o-C-_,{outerStart:E,outerEnd:T,innerStart:O,innerEnd:A}=ug(t,g,f,S-M),R=f-E,L=f-T,j=M+E/R,H=S-T/L,Y=g+O,K=g+A,Pe=M+O/Y,Re=S-A/K;if(i.beginPath(),r){let ce=(j+H)/2;if(i.arc(s,a,f,j,ce),i.arc(s,a,f,ce,H),T>0){let W=Bn(L,H,s,a);i.arc(W.x,W.y,T,H,S+Se)}let N=Bn(K,S,s,a);if(i.lineTo(N.x,N.y),A>0){let W=Bn(K,Re,s,a);i.arc(W.x,W.y,A,S+Se,Re+Math.PI)}let V=(S-A/g+(M+O/g))/2;if(i.arc(s,a,g,S-A/g,V,!0),i.arc(s,a,g,V,M+O/g,!0),O>0){let W=Bn(Y,Pe,s,a);i.arc(W.x,W.y,O,Pe+Math.PI,M-Se)}let B=Bn(R,M,s,a);if(i.lineTo(B.x,B.y),E>0){let W=Bn(R,j,s,a);i.arc(W.x,W.y,E,M-Se,j)}}else{i.moveTo(s,a);let ce=Math.cos(j)*f+s,N=Math.sin(j)*f+a;i.lineTo(ce,N);let V=Math.cos(H)*f+s,B=Math.sin(H)*f+a;i.lineTo(V,B)}i.closePath()}function pg(i,t,e,n,o){let{fullCircles:r,startAngle:s,circumference:a}=t,l=t.endAngle;if(r){So(i,t,e,n,l,o);for(let d=0;d<r;++d)i.fill();isNaN(a)||(l=s+(a%_e||_e))}return So(i,t,e,n,l,o),i.fill(),l}function fg(i,t,e,n,o){let{fullCircles:r,startAngle:s,circumference:a,options:l}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:g,borderRadius:_}=l,v=l.borderAlign==="inner";if(!d)return;i.setLineDash(f||[]),i.lineDashOffset=g,v?(i.lineWidth=d*2,i.lineJoin=u||"round"):(i.lineWidth=d,i.lineJoin=u||"bevel");let x=t.endAngle;if(r){So(i,t,e,n,x,o);for(let C=0;C<r;++C)i.stroke();isNaN(a)||(x=s+(a%_e||_e))}v&&dg(i,t,x),l.selfJoin&&x-s>=ae&&_===0&&u!=="miter"&&cg(i,t,x),r||(So(i,t,e,n,x,o),i.stroke())}var _s=class extends ut{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let o=this.getProps(["x","y"],n),{angle:r,distance:s}=Or(o,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,_=G(f,l-a),v=Rn(r,a,l)&&a!==l,x=_>=_e||v,C=Ot(s,d+g,u+g);return x&&C}getCenterPoint(t){let{x:e,y:n,startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:d}=this.options,u=(o+r)/2,f=(s+a+d+l)/2;return{x:e+Math.cos(u)*f,y:n+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>_e?Math.floor(n/_e):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(ae,n||0)),d=o*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,pg(t,this,d,r,s),fg(t,this,d,r,s),t.restore()}};function Bc(i,t,e=t){i.lineCap=G(e.borderCapStyle,t.borderCapStyle),i.setLineDash(G(e.borderDash,t.borderDash)),i.lineDashOffset=G(e.borderDashOffset,t.borderDashOffset),i.lineJoin=G(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=G(e.borderWidth,t.borderWidth),i.strokeStyle=G(e.borderColor,t.borderColor)}function gg(i,t,e){i.lineTo(e.x,e.y)}function hg(i){return i.stepped?hl:i.tension||i.cubicInterpolationMode==="monotone"?_l:gg}function Uc(i,t,e={}){let n=i.length,{start:o=0,end:r=n-1}=e,{start:s,end:a}=t,l=Math.max(o,s),d=Math.min(r,a),u=o<s&&r<s||o>a&&r>a;return{count:n,start:l,loop:t.loop,ilen:d<l&&!u?n+d-l:d-l}}function _g(i,t,e,n){let{points:o,options:r}=t,{count:s,start:a,loop:l,ilen:d}=Uc(o,e,n),u=hg(r),{move:f=!0,reverse:g}=n||{},_,v,x;for(_=0;_<=d;++_)v=o[(a+(g?d-_:_))%s],!v.skip&&(f?(i.moveTo(v.x,v.y),f=!1):u(i,x,v,g,r.stepped),x=v);return l&&(v=o[(a+(g?d:0))%s],u(i,x,v,g,r.stepped)),!!l}function bg(i,t,e,n){let o=t.points,{count:r,start:s,ilen:a}=Uc(o,e,n),{move:l=!0,reverse:d}=n||{},u=0,f=0,g,_,v,x,C,M,S=T=>(s+(d?a-T:T))%r,E=()=>{x!==C&&(i.lineTo(u,C),i.lineTo(u,x),i.lineTo(u,M))};for(l&&(_=o[S(0)],i.moveTo(_.x,_.y)),g=0;g<=a;++g){if(_=o[S(g)],_.skip)continue;let T=_.x,O=_.y,A=T|0;A===v?(O<x?x=O:O>C&&(C=O),u=(f*u+T)/++f):(E(),i.lineTo(T,O),v=A,f=0,x=C=O),M=O}E()}function bs(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?bg:_g}function vg(i){return i.stepped?wl:i.tension||i.cubicInterpolationMode==="monotone"?Ol:Jt}function xg(i,t,e,n){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,n)&&o.closePath()),Bc(i,t.options),i.stroke(o)}function Cg(i,t,e,n){let{segments:o,options:r}=t,s=bs(t);for(let a of o)Bc(i,r,a.style),i.beginPath(),s(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var yg=typeof Path2D=="function";function Mg(i,t,e,n){yg&&!t.options.segment?xg(i,t,e,n):Cg(i,t,e,n)}var Eo=(()=>{class i extends ut{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;Ml(this._points,o,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kl(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,o=e.length;return o&&n[e[o-1].end]}interpolate(e,n){let o=this.options,r=e[n],s=this.points,a=Yr(this,{property:n,start:r,end:r});if(!a.length)return;let l=[],d=vg(o),u,f;for(u=0,f=a.length;u<f;++u){let{start:g,end:_}=a[u],v=s[g],x=s[_];if(v===x){l.push(v);continue}let C=Math.abs((r-v[n])/(x[n]-v[n])),M=d(v,x,C,o.stepped);M[n]=e[n],l.push(M)}return l.length===1?l[0]:l}pathSegment(e,n,o){return bs(this)(e,this,n,o)}path(e,n,o){let r=this.segments,s=bs(this),a=this._loop;n=n||0,o=o||this.points.length-n;for(let l of r)a&=s(e,this,l,{start:n,end:n+o-1});return!!a}draw(e,n,o,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Mg(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function oc(i,t,e,n){let o=i.options,{[e]:r}=i.getProps([e],n);return Math.abs(t-r)<o.radius+o.hitRadius}var Sg=(()=>{class i extends ut{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,o){let r=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return oc(this,e,"x",n)}inYRange(e,n){return oc(this,e,"y",n)}getCenterPoint(e){let{x:n,y:o}=this.getProps(["x","y"],e);return{x:n,y:o}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let o=n&&e.borderWidth||0;return(n+o)*2}draw(e,n){let o=this.options;this.skip||o.radius<.1||!Pt(this,n,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,so(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function Wc(i,t){let{x:e,y:n,base:o,width:r,height:s}=i.getProps(["x","y","base","width","height"],t),a,l,d,u,f;return i.horizontal?(f=s/2,a=Math.min(e,o),l=Math.max(e,o),d=n-f,u=n+f):(f=r/2,a=e-f,l=e+f,d=Math.min(n,o),u=Math.max(n,o)),{left:a,top:d,right:l,bottom:u}}function sn(i,t,e,n){return i?0:Ae(t,e,n)}function Pg(i,t,e){let n=i.options.borderWidth,o=i.borderSkipped,r=zr(n);return{t:sn(o.top,r.top,0,e),r:sn(o.right,r.right,0,t),b:sn(o.bottom,r.bottom,0,e),l:sn(o.left,r.left,0,t)}}function wg(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),o=i.options.borderRadius,r=on(o),s=Math.min(t,e),a=i.borderSkipped,l=n||ne(o);return{topLeft:sn(!l||a.top||a.left,r.topLeft,0,s),topRight:sn(!l||a.top||a.right,r.topRight,0,s),bottomLeft:sn(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:sn(!l||a.bottom||a.right,r.bottomRight,0,s)}}function Og(i){let t=Wc(i),e=t.right-t.left,n=t.bottom-t.top,o=Pg(i,e/2,n/2),r=wg(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function is(i,t,e,n){let o=t===null,r=e===null,a=i&&!(o&&r)&&Wc(i,n);return a&&(o||Ot(t,a.left,a.right))&&(r||Ot(e,a.top,a.bottom))}function Eg(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function kg(i,t){i.rect(t.x,t.y,t.w,t.h)}function os(i,t,e={}){let n=i.x!==e.x?-t:0,o=i.y!==e.y?-t:0,r=(i.x+i.w!==e.x+e.w?t:0)-n,s=(i.y+i.h!==e.y+e.h?t:0)-o;return{x:i.x+n,y:i.y+o,w:i.w+r,h:i.h+s,radius:i.radius}}var vs=class extends ut{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:o}}=this,{inner:r,outer:s}=Og(this),a=Eg(s.radius)?Vn:kg;t.save(),(s.w!==r.w||s.h!==r.h)&&(t.beginPath(),a(t,os(s,e,r)),t.clip(),a(t,os(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,os(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,n){return is(this,t,e,n)}inXRange(t,e){return is(this,t,null,e)}inYRange(t,e){return is(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?n:(n+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Tg=Object.freeze({__proto__:null,ArcElement:_s,BarElement:vs,LineElement:Eo,PointElement:Sg}),xs=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rc=xs.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function qc(i){return xs[i%xs.length]}function Hc(i){return rc[i%rc.length]}function Ag(i,t){return i.borderColor=qc(t),i.backgroundColor=Hc(t),++t}function Ig(i,t){return i.backgroundColor=i.data.map(()=>qc(t++)),t}function Dg(i,t){return i.backgroundColor=i.data.map(()=>Hc(t++)),t}function Fg(i){let t=0;return(e,n)=>{let o=i.getDatasetMeta(n).controller;o instanceof Es?t=Ig(e,t):o instanceof Ic?t=Dg(e,t):o&&(t=Ag(e,t))}}function sc(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function Lg(i){return i&&(i.borderColor||i.backgroundColor)}function Ng(){return ve.borderColor!=="rgba(0,0,0,0.1)"||ve.backgroundColor!=="rgba(0,0,0,0.1)"}var Rg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:o}=i.config,{elements:r}=o,s=sc(n)||Lg(o)||r&&sc(r)||Ng();if(!e.forceOverride&&s)return;let a=Fg(i);n.forEach(a)}};function zg(i,t,e,n,o){let r=o.samples||n;if(r>=e)return i.slice(t,t+e);let s=[],a=(e-2)/(r-2),l=0,d=t+e-1,u=t,f,g,_,v,x;for(s[l++]=i[u],f=0;f<r-2;f++){let C=0,M=0,S,E=Math.floor((f+1)*a)+1+t,T=Math.min(Math.floor((f+2)*a)+1,e)+t,O=T-E;for(S=E;S<T;S++)C+=i[S].x,M+=i[S].y;C/=O,M/=O;let A=Math.floor(f*a)+1+t,R=Math.min(Math.floor((f+1)*a)+1,e)+t,{x:L,y:j}=i[u];for(_=v=-1,S=A;S<R;S++)v=.5*Math.abs((L-C)*(i[S].y-j)-(L-i[S].x)*(M-j)),v>_&&(_=v,g=i[S],x=S);s[l++]=g,u=x}return s[l++]=i[d],s}function Vg(i,t,e,n){let o=0,r=0,s,a,l,d,u,f,g,_,v,x,C=[],M=t+e-1,S=i[t].x,T=i[M].x-S;for(s=t;s<t+e;++s){a=i[s],l=(a.x-S)/T*n,d=a.y;let O=l|0;if(O===u)d<v?(v=d,f=s):d>x&&(x=d,g=s),o=(r*o+a.x)/++r;else{let A=s-1;if(!te(f)&&!te(g)){let R=Math.min(f,g),L=Math.max(f,g);R!==_&&R!==A&&C.push(ht(De({},i[R]),{x:o})),L!==_&&L!==A&&C.push(ht(De({},i[L]),{x:o}))}s>0&&A!==_&&C.push(i[A]),C.push(a),u=O,r=0,v=x=d,f=g=_=s}}return C}function $c(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ac(i){i.data.datasets.forEach(t=>{$c(t)})}function jg(i,t){let e=t.length,n=0,o,{iScale:r}=i,{min:s,max:a,minDefined:l,maxDefined:d}=r.getUserBounds();return l&&(n=Ae(St(t,r.axis,s).lo,0,e-1)),d?o=Ae(St(t,r.axis,a).hi+1,n,e)-n:o=e-n,{start:n,count:o}}var Bg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){ac(i);return}let n=i.width;i.data.datasets.forEach((o,r)=>{let{_data:s,indexAxis:a}=o,l=i.getDatasetMeta(r),d=s||o.data;if(jn([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=i.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||i.options.parsing)return;let{start:f,count:g}=jg(l,d),_=e.threshold||4*n;if(g<=_){$c(o);return}te(s)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let v;switch(e.algorithm){case"lttb":v=zg(d,f,g,n,e);break;case"min-max":v=Vg(d,f,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=v})},destroy(i){ac(i)}};function Ug(i,t,e){let n=i.segments,o=i.points,r=t.points,s=[];for(let a of n){let{start:l,end:d}=a;d=ko(l,d,o);let u=Cs(e,o[l],o[d],a.loop);if(!t.segments){s.push({source:a,target:u,start:o[l],end:o[d]});continue}let f=Yr(t,u);for(let g of f){let _=Cs(e,r[g.start],r[g.end],g.loop),v=Gr(a,o,_);for(let x of v)s.push({source:x,target:g,start:{[e]:lc(u,_,"start",Math.max)},end:{[e]:lc(u,_,"end",Math.min)}})}}return s}function Cs(i,t,e,n){if(n)return;let o=t[i],r=e[i];return i==="angle"&&(o=Fe(o),r=Fe(r)),{property:i,start:o,end:r}}function Wg(i,t){let{x:e=null,y:n=null}=i||{},o=t.points,r=[];return t.segments.forEach(({start:s,end:a})=>{a=ko(s,a,o);let l=o[s],d=o[a];n!==null?(r.push({x:l.x,y:n}),r.push({x:d.x,y:n})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:d.y}))}),r}function ko(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function lc(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Gc(i,t){let e=[],n=!1;return he(i)?(n=!0,e=i):e=Wg(i,t),e.length?new Eo({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function cc(i){return i&&i.fill!==!1}function qg(i,t,e){let o=i[t].fill,r=[t],s;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!ye(o))return o;if(s=i[o],!s)return!1;if(s.visible)return o;r.push(o),o=s.fill}return!1}function Hg(i,t,e){let n=Kg(i);if(ne(n))return isNaN(n.value)?!1:n;let o=parseFloat(n);return ye(o)&&Math.floor(o)===o?$g(n[0],t,o,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $g(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Gg(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:ne(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Yg(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:ne(i)?n=i.value:n=t.getBaseValue(),n}function Kg(i){let t=i.options,e=t.fill,n=G(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Qg(i){let{scale:t,index:e,line:n}=i,o=[],r=n.segments,s=n.points,a=Xg(t,e);a.push(Gc({x:null,y:t.bottom},n));for(let l=0;l<r.length;l++){let d=r[l];for(let u=d.start;u<=d.end;u++)Jg(o,s[u],a)}return new Eo({points:o,options:{}})}function Xg(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){let r=n[o];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function Jg(i,t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],{first:s,last:a,point:l}=Zg(r,t,"x");if(!(!l||s&&a)){if(s)n.unshift(l);else if(i.push(l),!a)break}}i.push(...n)}function Zg(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let o=n[e],r=i.segments,s=i.points,a=!1,l=!1;for(let d=0;d<r.length;d++){let u=r[d],f=s[u.start][e],g=s[u.end][e];if(Ot(o,f,g)){a=o===f,l=o===g;break}}return{first:a,last:l,point:n}}var Po=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:o,y:r,radius:s}=this;return e=e||{start:0,end:_e},t.arc(o,r,s,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:o}=this,r=t.angle;return{x:e+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}};function eh(i){let{chart:t,fill:e,line:n}=i;if(ye(e))return th(t,e);if(e==="stack")return Qg(i);if(e==="shape")return!0;let o=nh(i);return o instanceof Po?o:Gc(o,n)}function th(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function nh(i){return(i.scale||{}).getPointPositionForValue?oh(i):ih(i)}function ih(i){let{scale:t={},fill:e}=i,n=Gg(e,t);if(ye(n)){let o=t.isHorizontal();return{x:o?n:null,y:o?null:n}}return null}function oh(i){let{scale:t,fill:e}=i,n=t.options,o=t.getLabels().length,r=n.reverse?t.max:t.min,s=Yg(e,t,r),a=[];if(n.grid.circular){let l=t.getPointPositionForValue(0,r);return new Po({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(t.getPointPositionForValue(l,s));return a}function rs(i,t,e){let n=eh(t),{chart:o,index:r,line:s,scale:a,axis:l}=t,d=s.options,u=d.fill,f=d.backgroundColor,{above:g=f,below:_=f}=u||{},v=o.getDatasetMeta(r),x=Kr(o,v);n&&s.points.length&&(si(i,e),rh(i,{line:s,target:n,above:g,below:_,area:e,scale:a,axis:l,clip:x}),ai(i))}function rh(i,t){let{line:e,target:n,above:o,below:r,area:s,scale:a,clip:l}=t,d=e._loop?"angle":t.axis;i.save();let u=r;r!==o&&(d==="x"?(dc(i,n,s.top),ss(i,{line:e,target:n,color:o,scale:a,property:d,clip:l}),i.restore(),i.save(),dc(i,n,s.bottom)):d==="y"&&(mc(i,n,s.left),ss(i,{line:e,target:n,color:r,scale:a,property:d,clip:l}),i.restore(),i.save(),mc(i,n,s.right),u=o)),ss(i,{line:e,target:n,color:u,scale:a,property:d,clip:l}),i.restore()}function dc(i,t,e){let{segments:n,points:o}=t,r=!0,s=!1;i.beginPath();for(let a of n){let{start:l,end:d}=a,u=o[l],f=o[ko(l,d,o)];r?(i.moveTo(u.x,u.y),r=!1):(i.lineTo(u.x,e),i.lineTo(u.x,u.y)),s=!!t.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(f.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function mc(i,t,e){let{segments:n,points:o}=t,r=!0,s=!1;i.beginPath();for(let a of n){let{start:l,end:d}=a,u=o[l],f=o[ko(l,d,o)];r?(i.moveTo(u.x,u.y),r=!1):(i.lineTo(e,u.y),i.lineTo(u.x,u.y)),s=!!t.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(e,f.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function ss(i,t){let{line:e,target:n,property:o,color:r,scale:s,clip:a}=t,l=Ug(e,n,o);for(let{source:d,target:u,start:f,end:g}of l){let{style:{backgroundColor:_=r}={}}=d,v=n!==!0;i.save(),i.fillStyle=_,sh(i,s,a,v&&Cs(o,f,g)),i.beginPath();let x=!!e.pathSegment(i,d),C;if(v){x?i.closePath():uc(i,n,g,o);let M=!!n.pathSegment(i,u,{move:x,reverse:!0});C=x&&M,C||uc(i,n,f,o)}i.closePath(),i.fill(C?"evenodd":"nonzero"),i.restore()}}function sh(i,t,e,n){let o=t.chart.chartArea,{property:r,start:s,end:a}=n||{};if(r==="x"||r==="y"){let l,d,u,f;r==="x"?(l=s,d=o.top,u=a,f=o.bottom):(l=o.left,d=s,u=o.right,f=a),i.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),d=Math.max(d,e.top),f=Math.min(f,e.bottom)),i.rect(l,d,u-l,f-d),i.clip()}}function uc(i,t,e,n){let o=t.interpolate(e,n);o&&i.lineTo(o.x,o.y)}var ah={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,o=[],r,s,a,l;for(s=0;s<n;++s)r=i.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof Eo&&(l={visible:i.isDatasetVisible(s),index:s,fill:Hg(a,s,n),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<n;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=qg(o,s,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let s=o.length-1;s>=0;--s){let a=o[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),n&&a.fill&&rs(i.ctx,a,r))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){let r=n[o].$filler;cc(r)&&rs(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!cc(n)||e.drawTime!=="beforeDatasetDraw"||rs(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},pc=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},lh=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,wo=class extends ut{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,o)=>t.sort(n,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,o=ke(n.font),r=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=pc(n,r),d,u;e.font=o.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(s,r,a,l)+10):(u=this.maxHeight,d=this._fitCols(s,o,a,l)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,o){let{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],u=o+a,f=t;r.textAlign="left",r.textBaseline="middle";let g=-1,_=-u;return this.legendItems.forEach((v,x)=>{let C=n+e/2+r.measureText(v.text).width;(x===0||d[d.length-1]+C+2*a>s)&&(f+=u,d[d.length-(x>0?0:1)]=0,_+=u,g++),l[x]={left:0,top:_,row:g,width:C,height:o},d[d.length-1]+=C+a}),f}_fitCols(t,e,n,o){let{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],u=s-t,f=a,g=0,_=0,v=0,x=0;return this.legendItems.forEach((C,M)=>{let{itemWidth:S,itemHeight:E}=ch(n,e,r,C,o);M>0&&_+E+2*a>u&&(f+=g+a,d.push({width:g,height:_}),v+=g+a,x++,g=_=0),l[M]={left:v,top:_,col:x,width:S,height:E},g=Math.max(g,S),_+=E+a}),f+=g,d.push({width:g,height:_}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:o},rtl:r}}=this,s=gn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Le(n,this.left+o,this.right-this.lineWidths[a]);for(let d of e)a!==d.row&&(a=d.row,l=Le(n,this.left+o,this.right-this.lineWidths[a])),d.top+=this.top+t+o,d.left=s.leftForLtr(s.x(l),d.width),l+=d.width+o}else{let a=0,l=Le(n,this.top+t+o,this.bottom-this.columnSizes[a].height);for(let d of e)d.col!==a&&(a=d.col,l=Le(n,this.top+t+o,this.bottom-this.columnSizes[a].height)),d.top=l,d.left+=this.left+o,d.left=s.leftForLtr(s.x(d.left),d.width),l+=d.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;si(t,this),this._draw(),ai(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:o}=this,{align:r,labels:s}=t,a=ve.color,l=gn(t.rtl,this.left,this.width),d=ke(s.font),{padding:u}=s,f=d.size,g=f/2,_;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;let{boxWidth:v,boxHeight:x,itemHeight:C}=pc(s,f),M=function(A,R,L){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;o.save();let j=G(L.lineWidth,1);if(o.fillStyle=G(L.fillStyle,a),o.lineCap=G(L.lineCap,"butt"),o.lineDashOffset=G(L.lineDashOffset,0),o.lineJoin=G(L.lineJoin,"miter"),o.lineWidth=j,o.strokeStyle=G(L.strokeStyle,a),o.setLineDash(G(L.lineDash,[])),s.usePointStyle){let H={radius:x*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:j},Y=l.xPlus(A,v/2),K=R+g;Rr(o,H,Y,K,s.pointStyleWidth&&v)}else{let H=R+Math.max((f-x)/2,0),Y=l.leftForLtr(A,v),K=on(L.borderRadius);o.beginPath(),Object.values(K).some(Pe=>Pe!==0)?Vn(o,{x:Y,y:H,w:v,h:x,radius:K}):o.rect(Y,H,v,x),o.fill(),j!==0&&o.stroke()}o.restore()},S=function(A,R,L){nn(o,L.text,A,R+C/2,d,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},E=this.isHorizontal(),T=this._computeTitleHeight();E?_={x:Le(r,this.left+u,this.right-n[0]),y:this.top+u+T,line:0}:_={x:this.left+u,y:Le(r,this.top+T+u,this.bottom-e[0].height),line:0},Hr(this.ctx,t.textDirection);let O=C+u;this.legendItems.forEach((A,R)=>{o.strokeStyle=A.fontColor,o.fillStyle=A.fontColor;let L=o.measureText(A.text).width,j=l.textAlign(A.textAlign||(A.textAlign=s.textAlign)),H=v+g+L,Y=_.x,K=_.y;l.setWidth(this.width),E?R>0&&Y+H+u>this.right&&(K=_.y+=O,_.line++,Y=_.x=Le(r,this.left+u,this.right-n[_.line])):R>0&&K+O>this.bottom&&(Y=_.x=Y+e[_.line].width+u,_.line++,K=_.y=Le(r,this.top+T+u,this.bottom-e[_.line].height));let Pe=l.x(Y);if(M(Pe,K,A),Y=pl(j,Y+v+g,E?Y+H:this.right,t.rtl),S(l.x(Y),K,A),E)_.x+=H+u;else if(typeof A.text!="string"){let Re=d.lineHeight;_.y+=Yc(A,Re)+u}else _.y+=O}),$r(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=ke(e.font),o=Ne(e.padding);if(!e.display)return;let r=gn(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=n.size/2,d=o.top+l,u,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+d,f=Le(t.align,f,this.right-g);else{let v=this.columnSizes.reduce((x,C)=>Math.max(x,C.height),0);u=d+Le(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}let _=Le(a,f,f+g);s.textAlign=r.textAlign(oo(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,nn(s,e.text,_,u,n)}_computeTitleHeight(){let t=this.options.title,e=ke(t.font),n=Ne(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,o,r;if(Ot(t,this.left,this.right)&&Ot(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(o=r[n],Ot(t,o.left,o.left+o.width)&&Ot(e,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!uh(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let o=this._hoveredItem,r=lh(o,n);o&&!r&&ge(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!r&&ge(e.onHover,[t,n,this],this)}else n&&ge(e.onClick,[t,n,this],this)}};function ch(i,t,e,n,o){let r=dh(n,i,t,e),s=mh(o,n,t.lineHeight);return{itemWidth:r,itemHeight:s}}function dh(i,t,e,n){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((r,s)=>r.length>s.length?r:s)),t+e.size/2+n.measureText(o).width}function mh(i,t,e){let n=i;return typeof t.text!="string"&&(n=Yc(t,e)),n}function Yc(i,t){let e=i.text?i.text.length:0;return t*e}function uh(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var ph={id:"legend",_element:wo,start(i,t,e){let n=i.legend=new wo({ctx:i.ctx,options:e,chart:i});He.configure(i,n,e),He.addBox(i,n)},stop(i){He.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;He.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,o=e.chart;o.isDatasetVisible(n)?(o.hide(n),t.hidden=!0):(o.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let d=l.controller.getStyle(e?0:void 0),u=Ne(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:s&&(a||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},hi=class extends ut{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let o=he(n.text)?n.text.length:1;this._padding=Ne(n.padding);let r=o*ke(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:o,right:r,options:s}=this,a=s.align,l=0,d,u,f;return this.isHorizontal()?(u=Le(a,n,r),f=e+t,d=r-n):(s.position==="left"?(u=n+t,f=Le(a,o,e),l=ae*-.5):(u=r-t,f=Le(a,e,o),l=ae*.5),d=o-e),{titleX:u,titleY:f,maxWidth:d,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=ke(e.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:d}=this._drawArgs(r);nn(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:d,textAlign:oo(e.align),textBaseline:"middle",translation:[s,a]})}};function fh(i,t){let e=new hi({ctx:i.ctx,options:t,chart:i});He.configure(i,e,t),He.addBox(i,e),i.titleBlock=e}var gh={id:"title",_element:hi,start(i,t,e){fh(i,e)},stop(i){let t=i.titleBlock;He.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;He.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ho=new WeakMap,hh={id:"subtitle",start(i,t,e){let n=new hi({ctx:i.ctx,options:e,chart:i});He.configure(i,n,e),He.addBox(i,n),ho.set(i,n)},stop(i){He.removeBox(i,ho.get(i)),ho.delete(i)},beforeUpdate(i,t,e){let n=ho.get(i);He.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},fi={average(i){if(!i.length)return!1;let t,e,n=new Set,o=0,r=0;for(t=0,e=i.length;t<e;++t){let a=i[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();n.add(l.x),o+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:o/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,o=Number.POSITIVE_INFINITY,r,s,a;for(r=0,s=i.length;r<s;++r){let l=i[r].element;if(l&&l.hasValue()){let d=l.getCenterPoint(),u=Zi(t,d);u<o&&(o=u,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Et(i,t){return t&&(he(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function zt(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function _h(i,t){let{element:e,datasetIndex:n,index:o}=t,r=i.getDatasetMeta(n).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:i,label:s,parsed:r.getParsed(o),raw:i.data.datasets[n].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:e}}function fc(i,t){let e=i.chart.ctx,{body:n,footer:o,title:r}=i,{boxWidth:s,boxHeight:a}=t,l=ke(t.bodyFont),d=ke(t.titleFont),u=ke(t.footerFont),f=r.length,g=o.length,_=n.length,v=Ne(t.padding),x=v.height,C=0,M=n.reduce((T,O)=>T+O.before.length+O.lines.length+O.after.length,0);if(M+=i.beforeBody.length+i.afterBody.length,f&&(x+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),M){let T=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=_*T+(M-_)*l.lineHeight+(M-1)*t.bodySpacing}g&&(x+=t.footerMarginTop+g*u.lineHeight+(g-1)*t.footerSpacing);let S=0,E=function(T){C=Math.max(C,e.measureText(T).width+S)};return e.save(),e.font=d.string,me(i.title,E),e.font=l.string,me(i.beforeBody.concat(i.afterBody),E),S=t.displayColors?s+2+t.boxPadding:0,me(n,T=>{me(T.before,E),me(T.lines,E),me(T.after,E)}),S=0,e.font=u.string,me(i.footer,E),e.restore(),C+=v.width,{width:C,height:x}}function bh(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function vh(i,t,e,n){let{x:o,width:r}=n,s=e.caretSize+e.caretPadding;if(i==="left"&&o+r+s>t.width||i==="right"&&o-r-s<0)return!0}function xh(i,t,e,n){let{x:o,width:r}=e,{width:s,chartArea:{left:a,right:l}}=i,d="center";return n==="center"?d=o<=(a+l)/2?"left":"right":o<=r/2?d="left":o>=s-r/2&&(d="right"),vh(d,i,t,e)&&(d="center"),d}function gc(i,t,e){let n=e.yAlign||t.yAlign||bh(i,e);return{xAlign:e.xAlign||t.xAlign||xh(i,t,e,n),yAlign:n}}function Ch(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function yh(i,t,e){let{y:n,height:o}=i;return t==="top"?n+=e:t==="bottom"?n-=o+e:n-=o/2,n}function hc(i,t,e,n){let{caretSize:o,caretPadding:r,cornerRadius:s}=i,{xAlign:a,yAlign:l}=e,d=o+r,{topLeft:u,topRight:f,bottomLeft:g,bottomRight:_}=on(s),v=Ch(t,a),x=yh(t,l,d);return l==="center"?a==="left"?v+=d:a==="right"&&(v-=d):a==="left"?v-=Math.max(u,g)+o:a==="right"&&(v+=Math.max(f,_)+o),{x:Ae(v,0,n.width-t.width),y:Ae(x,0,n.height-t.height)}}function _o(i,t,e){let n=Ne(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function _c(i){return Et([],zt(i))}function Mh(i,t,e){return Nt(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function bc(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var Kc={beforeTitle:wt,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:wt,beforeBody:wt,beforeLabel:wt,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return te(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:wt,afterBody:wt,beforeFooter:wt,footer:wt,afterFooter:wt};function Xe(i,t,e,n){let o=i[t].call(e,n);return typeof o>"u"?Kc[t].call(e,n):o}var vc=(()=>{class i extends ut{static positioners=fi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&n.options.animation&&o.animations,s=new Co(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Mh(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:o}=n,r=Xe(o,"beforeTitle",this,e),s=Xe(o,"title",this,e),a=Xe(o,"afterTitle",this,e),l=[];return l=Et(l,zt(r)),l=Et(l,zt(s)),l=Et(l,zt(a)),l}getBeforeBody(e,n){return _c(Xe(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:o}=n,r=[];return me(e,s=>{let a={before:[],lines:[],after:[]},l=bc(o,s);Et(a.before,zt(Xe(l,"beforeLabel",this,s))),Et(a.lines,Xe(l,"label",this,s)),Et(a.after,zt(Xe(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return _c(Xe(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:o}=n,r=Xe(o,"beforeFooter",this,e),s=Xe(o,"footer",this,e),a=Xe(o,"afterFooter",this,e),l=[];return l=Et(l,zt(r)),l=Et(l,zt(s)),l=Et(l,zt(a)),l}_createItems(e){let n=this._active,o=this.chart.data,r=[],s=[],a=[],l=[],d,u;for(d=0,u=n.length;d<u;++d)l.push(_h(this.chart,n[d]));return e.filter&&(l=l.filter((f,g,_)=>e.filter(f,g,_,o))),e.itemSort&&(l=l.sort((f,g)=>e.itemSort(f,g,o))),me(l,f=>{let g=bc(e.callbacks,f);r.push(Xe(g,"labelColor",this,f)),s.push(Xe(g,"labelPointStyle",this,f)),a.push(Xe(g,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){let o=this.options.setContext(this.getContext()),r=this._active,s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let l=fi[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let d=this._size=fc(this,o),u=Object.assign({},l,d),f=gc(this.chart,o,u),g=hc(o,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,o,r){let s=this.getCaretPosition(e,o,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,o){let{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:g}=on(l),{x:_,y:v}=e,{width:x,height:C}=n,M,S,E,T,O,A;return s==="center"?(O=v+C/2,r==="left"?(M=_,S=M-a,T=O+a,A=O-a):(M=_+x,S=M+a,T=O-a,A=O+a),E=M):(r==="left"?S=_+Math.max(d,f)+a:r==="right"?S=_+x-Math.max(u,g)-a:S=this.caretX,s==="top"?(T=v,O=T-a,M=S-a,E=S+a):(T=v+C,O=T+a,M=S+a,E=S-a),A=T),{x1:M,x2:S,x3:E,y1:T,y2:O,y3:A}}drawTitle(e,n,o){let r=this.title,s=r.length,a,l,d;if(s){let u=gn(o.rtl,this.x,this.width);for(e.x=_o(this,o.titleAlign,o),n.textAlign=u.textAlign(o.titleAlign),n.textBaseline="middle",a=ke(o.titleFont),l=o.titleSpacing,n.fillStyle=o.titleColor,n.font=a.string,d=0;d<s;++d)n.fillText(r[d],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===s&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,n,o,r,s){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:d,boxWidth:u}=s,f=ke(s.bodyFont),g=_o(this,"left",s),_=r.x(g),v=d<f.lineHeight?(f.lineHeight-d)/2:0,x=n.y+v;if(s.usePointStyle){let C={radius:Math.min(u,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},M=r.leftForLtr(_,u)+u/2,S=x+d/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,so(e,C,M,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,so(e,C,M,S)}else{e.lineWidth=ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let C=r.leftForLtr(_,u),M=r.leftForLtr(r.xPlus(_,1),u-2),S=on(a.borderRadius);Object.values(S).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vn(e,{x:C,y:x,w:u,h:d,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Vn(e,{x:M,y:x+1,w:u-2,h:d-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(C,x,u,d),e.strokeRect(C,x,u,d),e.fillStyle=a.backgroundColor,e.fillRect(M,x+1,u-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,n,o){let{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:u,boxPadding:f}=o,g=ke(o.bodyFont),_=g.lineHeight,v=0,x=gn(o.rtl,this.x,this.width),C=function(j){n.fillText(j,x.x(e.x+v),e.y+_/2),e.y+=_+s},M=x.textAlign(a),S,E,T,O,A,R,L;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=_o(this,M,o),n.fillStyle=o.bodyColor,me(this.beforeBody,C),v=l&&M!=="right"?a==="center"?u/2+f:u+2+f:0,O=0,R=r.length;O<R;++O){for(S=r[O],E=this.labelTextColors[O],n.fillStyle=E,me(S.before,C),T=S.lines,l&&T.length&&(this._drawColorBox(n,e,O,x,o),_=Math.max(g.lineHeight,d)),A=0,L=T.length;A<L;++A)C(T[A]),_=g.lineHeight;me(S.after,C)}v=0,_=g.lineHeight,me(this.afterBody,C),e.y-=s}drawFooter(e,n,o){let r=this.footer,s=r.length,a,l;if(s){let d=gn(o.rtl,this.x,this.width);for(e.x=_o(this,o.footerAlign,o),e.y+=o.footerMarginTop,n.textAlign=d.textAlign(o.footerAlign),n.textBaseline="middle",a=ke(o.footerFont),n.fillStyle=o.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,n,o,r){let{xAlign:s,yAlign:a}=this,{x:l,y:d}=e,{width:u,height:f}=o,{topLeft:g,topRight:_,bottomLeft:v,bottomRight:x}=on(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+g,d),a==="top"&&this.drawCaret(e,n,o,r),n.lineTo(l+u-_,d),n.quadraticCurveTo(l+u,d,l+u,d+_),a==="center"&&s==="right"&&this.drawCaret(e,n,o,r),n.lineTo(l+u,d+f-x),n.quadraticCurveTo(l+u,d+f,l+u-x,d+f),a==="bottom"&&this.drawCaret(e,n,o,r),n.lineTo(l+v,d+f),n.quadraticCurveTo(l,d+f,l,d+f-v),a==="center"&&s==="left"&&this.drawCaret(e,n,o,r),n.lineTo(l,d+g),n.quadraticCurveTo(l,d,l+g,d),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,o=this.$animations,r=o&&o.x,s=o&&o.y;if(r||s){let a=fi[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=fc(this,e),d=Object.assign({},a,this._size),u=gc(n,e,d),f=hc(e,d,u,n);(r._to!==f.x||s._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(n);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=Ne(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(s,e,r,n),Hr(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),$r(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let o=this._active,r=e.map(({datasetIndex:l,index:d})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[d],index:d}}),s=!oi(o,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,o=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,o),l=this._positionChanged(a,e),d=n||!oi(a,s)||l;return d&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,o,r){let s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,o);return s.reverse&&a.reverse(),a}_positionChanged(e,n){let{caretX:o,caretY:r,options:s}=this,a=fi[s.position].call(this,e,n);return a!==!1&&(o!==a.x||r!==a.y)}}return i})(),Sh={id:"tooltip",_element:vc,positioners:fi,afterInit(i,t,e){e&&(i.tooltip=new vc({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",ht(De({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Kc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ph=Object.freeze({__proto__:null,Colors:Rg,Decimation:Bg,Filler:ah,Legend:ph,SubTitle:hh,Title:gh,Tooltip:Sh}),wh=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Oh(i,t,e,n){let o=i.indexOf(t);if(o===-1)return wh(i,t,e,n);let r=i.lastIndexOf(t);return o!==r?e:o}var Eh=(i,t)=>i===null?null:Ae(Math.round(i),0,t);function xc(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var kh=(()=>{class i extends bn{static id="category";static defaults={ticks:{callback:xc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let o=this.getLabels();for(let{index:r,label:s}of n)o[r]===s&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(te(e))return null;let o=this.getLabels();return n=isFinite(n)&&o[n]===e?n:Oh(o,e,G(n,e),this._addedLabels),Eh(n,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),n||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let e=this.min,n=this.max,o=this.options.offset,r=[],s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return xc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Th(i,t){let e=[],{bounds:o,step:r,min:s,max:a,precision:l,count:d,maxTicks:u,maxDigits:f,includeBounds:g}=i,_=r||1,v=u-1,{min:x,max:C}=t,M=!te(s),S=!te(a),E=!te(d),T=(C-x)/(f+1),O=Sr((C-x)/v/_)*_,A,R,L,j;if(O<1e-14&&!M&&!S)return[{value:x},{value:C}];j=Math.ceil(C/O)-Math.floor(x/O),j>v&&(O=Sr(j*O/v/_)*_),te(l)||(A=Math.pow(10,l),O=Math.ceil(O*A)/A),o==="ticks"?(R=Math.floor(x/O)*O,L=Math.ceil(C/O)*O):(R=x,L=C),M&&S&&r&&sl((a-s)/r,O/1e3)?(j=Math.round(Math.min((a-s)/O,u)),O=(a-s)/j,R=s,L=a):E?(R=M?s:R,L=S?a:L,j=d-1,O=(L-R)/j):(j=(L-R)/O,Nn(j,Math.round(j),O/1e3)?j=Math.round(j):j=Math.ceil(j));let H=Math.max(wr(O),wr(R));A=Math.pow(10,te(l)?H:l),R=Math.round(R*A)/A,L=Math.round(L*A)/A;let Y=0;for(M&&(g&&R!==s?(e.push({value:s}),R<s&&Y++,Nn(Math.round((R+Y*O)*A)/A,s,Cc(s,T,i))&&Y++):R<s&&Y++);Y<j;++Y){let K=Math.round((R+Y*O)*A)/A;if(S&&K>a)break;e.push({value:K})}return S&&g&&L!==a?e.length&&Nn(e[e.length-1].value,a,Cc(a,T,i))?e[e.length-1].value=a:e.push({value:a}):(!S||L===a)&&e.push({value:L}),e}function Cc(i,t,{horizontal:e,minRotation:n}){let o=st(n),r=(e?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+i).length;return Math.min(t/r,s)}var Wn=class extends bn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return te(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=e?o:l,a=l=>r=n?r:l;if(t){let l=mt(o),d=mt(r);l<0&&d<0?a(0):l>0&&d>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||s(o-l)}this.min=o,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let o={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,s=Th(o,r);return t.bounds==="ticks"&&Pr(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let o=(n-e)/Math.max(t.length-1,1)/2;e-=o,n+=o}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return zn(t,this.chart.options.locale,this.options.ticks.format)}},ys=class extends Wn{static id="linear";static defaults={ticks:{callback:ri.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ye(t)?t:0,this.max=ye(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=st(this.options.ticks.minRotation),o=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},_i=i=>Math.floor(Ft(i)),_n=(i,t)=>Math.pow(10,_i(i)+t);function yc(i){return i/Math.pow(10,_i(i))===1}function Mc(i,t,e){let n=Math.pow(10,e),o=Math.floor(i/n);return Math.ceil(t/n)-o}function Ah(i,t){let e=t-i,n=_i(e);for(;Mc(i,t,n)>10;)n++;for(;Mc(i,t,n)<10;)n--;return Math.min(n,_i(i))}function Ih(i,{min:t,max:e}){t=Qe(i.min,t);let n=[],o=_i(t),r=Ah(t,e),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,d=Math.round((t-l)*s)/s,u=Math.floor((t-l)/a/10)*a*10,f=Math.floor((d-u)/Math.pow(10,r)),g=Qe(i.min,Math.round((l+u+f*Math.pow(10,r))*s)/s);for(;g<e;)n.push({value:g,major:yc(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,s=r>=0?1:s),g=Math.round((l+u+f*Math.pow(10,r))*s)/s;let _=Qe(i.max,g);return n.push({value:_,major:yc(_),significand:f}),n}var Ms=class extends bn{static id="logarithmic";static defaults={ticks:{callback:ri.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Wn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return ye(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ye(t)?Math.max(0,t):null,this.max=ye(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ye(this._userMin)&&(this.min=t===_n(this.min,0)?_n(this.min,-1):_n(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,o=this.max,r=a=>n=t?n:a,s=a=>o=e?o:a;n===o&&(n<=0?(r(1),s(10)):(r(_n(n,-1)),s(_n(o,1)))),n<=0&&r(_n(o,-1)),o<=0&&s(_n(n,1)),this.min=n,this.max=o}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Ih(e,this);return t.bounds==="ticks"&&Pr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":zn(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ft(t),this._valueRange=Ft(this.max)-Ft(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ft(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function Ss(i){let t=i.ticks;if(t.display&&i.display){let e=Ne(t.backdropPadding);return G(t.font&&t.font.size,ve.font.size)+e.height}return 0}function Dh(i,t,e){return e=he(e)?e:[e],{w:gl(i,t.string,e),h:e.length*t.lineHeight}}function Sc(i,t,e,n,o){return i===n||i===o?{start:t-e/2,end:t+e/2}:i<n||i>o?{start:t-e,end:t}:{start:t,end:t+e}}function Fh(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],o=[],r=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?ae/r:0;for(let l=0;l<r;l++){let d=s.setContext(i.getPointLabelContext(l));o[l]=d.padding;let u=i.getPointPosition(l,i.drawingArea+o[l],a),f=ke(d.font),g=Dh(i.ctx,f,i._pointLabels[l]);n[l]=g;let _=Fe(i.getIndexAngle(l)+a),v=Math.round(no(_)),x=Sc(v,u.x,g.w,0,180),C=Sc(v,u.y,g.h,90,270);Lh(e,t,_,x,C)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=zh(i,n,o)}function Lh(i,t,e,n,o){let r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;n.start<t.l?(a=(t.l-n.start)/r,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/r,i.r=Math.max(i.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,i.t=Math.min(i.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,i.b=Math.max(i.b,t.b+l))}function Nh(i,t,e){let n=i.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=e,l=i.getPointPosition(t,n+o+s,r),d=Math.round(no(Fe(l.angle+Se))),u=Bh(l.y,a.h,d),f=Vh(d),g=jh(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:g,top:u,right:g+a.w,bottom:u+a.h}}function Rh(i,t){if(!t)return!0;let{left:e,top:n,right:o,bottom:r}=i;return!(Pt({x:e,y:n},t)||Pt({x:e,y:r},t)||Pt({x:o,y:n},t)||Pt({x:o,y:r},t))}function zh(i,t,e){let n=[],o=i._pointLabels.length,r=i.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:Ss(r)/2,additionalAngle:s?ae/o:0},d;for(let u=0;u<o;u++){l.padding=e[u],l.size=t[u];let f=Nh(i,u,l);n.push(f),a==="auto"&&(f.visible=Rh(f,d),f.visible&&(d=f))}return n}function Vh(i){return i===0||i===180?"center":i<180?"left":"right"}function jh(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function Bh(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function Uh(i,t,e){let{left:n,top:o,right:r,bottom:s}=e,{backdropColor:a}=t;if(!te(a)){let l=on(t.borderRadius),d=Ne(t.backdropPadding);i.fillStyle=a;let u=n-d.left,f=o-d.top,g=r-n+d.width,_=s-o+d.height;Object.values(l).some(v=>v!==0)?(i.beginPath(),Vn(i,{x:u,y:f,w:g,h:_,radius:l}),i.fill()):i.fillRect(u,f,g,_)}}function Wh(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let o=t-1;o>=0;o--){let r=i._pointLabelItems[o];if(!r.visible)continue;let s=n.setContext(i.getPointLabelContext(o));Uh(e,s,r);let a=ke(s.font),{x:l,y:d,textAlign:u}=r;nn(e,i._pointLabels[o],l,d+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function Qc(i,t,e,n){let{ctx:o}=i;if(e)o.arc(i.xCenter,i.yCenter,t,0,_e);else{let r=i.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let s=1;s<n;s++)r=i.getPointPosition(s,t),o.lineTo(r.x,r.y)}}function qh(i,t,e,n,o){let r=i.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!n||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),Qc(i,e,s,n),r.closePath(),r.stroke(),r.restore())}function Hh(i,t,e){return Nt(i,{label:e,index:t,type:"pointLabel"})}var Ps=class extends Wn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ri.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Ne(Ss(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=ye(t)&&!isNaN(t)?t:0,this.max=ye(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ss(this.options))}generateTickLabels(t){Wn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let o=ge(this.options.pointLabels.callback,[e,n],this);return o||o===0?o:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Fh(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,o))}getIndexAngle(t){let e=_e/(this._pointLabels.length||1),n=this.options.startAngle||0;return Fe(t*e+st(n))}getDistanceFromCenterForValue(t){if(te(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(te(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return Hh(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let o=this.getIndexAngle(t)-Se+n;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:o,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:o,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),Qc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:o,border:r}=e,s=this._pointLabels.length,a,l,d;if(e.pointLabels.display&&Wh(this,s),o.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let g=this.getContext(f),_=o.setContext(g),v=r.setContext(g);qh(this,_,l,s,v)}}),n.display){for(t.save(),a=s-1;a>=0;a--){let u=n.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:g}=u;!g||!f||(t.lineWidth=g,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let o=this.getIndexAngle(0),r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let d=n.setContext(this.getContext(l)),u=ke(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){t.font=u.string,s=t.measureText(a.label).width,t.fillStyle=d.backdropColor;let f=Ne(d.backdropPadding);t.fillRect(-s/2-f.left,-r-u.size/2-f.top,s+f.width,u.size+f.height)}nn(t,a.label,0,-r,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}},To={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Je=Object.keys(To);function Pc(i,t){return i-t}function wc(i,t){if(te(t))return null;let e=i._adapter,{parser:n,round:o,isoWeekday:r}=i._parseOpts,s=t;return typeof n=="function"&&(s=n(s)),ye(s)||(s=typeof n=="string"?e.parse(s,n):e.parse(s)),s===null?null:(o&&(s=o==="week"&&(fn(r)||r===!0)?e.startOf(s,"isoWeek",r):e.startOf(s,o)),+s)}function Oc(i,t,e,n){let o=Je.length;for(let r=Je.indexOf(i);r<o-1;++r){let s=To[Je[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=n)return Je[r]}return Je[o-1]}function $h(i,t,e,n,o){for(let r=Je.length-1;r>=Je.indexOf(e);r--){let s=Je[r];if(To[s].common&&i._adapter.diff(o,n,s)>=t-1)return s}return Je[e?Je.indexOf(e):0]}function Gh(i){for(let t=Je.indexOf(i)+1,e=Je.length;t<e;++t)if(To[Je[t]].common)return Je[t]}function Ec(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:o}=io(e,t),r=e[n]>=t?e[n]:e[o];i[r]=!0}}function Yh(i,t,e,n){let o=i._adapter,r=+o.startOf(t[0].value,n),s=t[t.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,n))l=e[a],l>=0&&(t[l].major=!0);return t}function kc(i,t,e){let n=[],o={},r=t.length,s,a;for(s=0;s<r;++s)a=t[s],o[a]=s,n.push({value:a,major:!1});return r===0||!e?n:Yh(i,n,o,e)}var ws=(()=>{class i extends bn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let o=e.time||(e.time={}),r=this._adapter=new rf._date(e.adapters.date);r.init(n),Fn(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,o=e.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function d(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=ye(r)&&!isNaN(r)?r:+n.startOf(Date.now(),o),s=ye(s)&&!isNaN(s)?s:+n.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],o=e[e.length-1]),{min:n,max:o}}buildTicks(){let e=this.options,n=e.time,o=e.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=cl(r,s,a);return this._unit=n.unit||(o.autoSkip?Oc(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):$h(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:Gh(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),kc(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,o=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?o=s:o=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=Ae(n,0,a),o=Ae(o,0,a),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){let e=this._adapter,n=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||Oc(s.minUnit,n,o,this._getLabelCapacity(n)),l=G(r.ticks.stepSize,1),d=a==="week"?s.isoWeekday:!1,u=fn(d)||d===!0,f={},g=n,_,v;if(u&&(g=+e.startOf(g,"isoWeek",d)),g=+e.startOf(g,u?"day":a),e.diff(o,n,a)>1e5*l)throw new Error(n+" and "+o+" are too far apart with stepSize of "+l+" "+a);let x=r.ticks.source==="data"&&this.getDataTimestamps();for(_=g,v=0;_<o;_=+e.add(_,l,a),v++)Ec(f,_,x);return(_===o||r.bounds==="ticks"||v===1)&&Ec(f,_,x),Object.keys(f).sort(Pc).map(C=>+C)}getLabelForValue(e){let n=this._adapter,o=this.options.time;return o.tooltipFormat?n.format(e,o.tooltipFormat):n.format(e,o.displayFormats.datetime)}format(e,n){let r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,o,r){let s=this.options,a=s.ticks.callback;if(a)return ge(a,[e,n,o],this);let l=s.time.displayFormats,d=this._unit,u=this._majorUnit,f=d&&l[d],g=u&&l[u],_=o[n],v=u&&g&&_&&_.major;return this._adapter.format(e,r||(v?g:f))}generateTickLabels(e){let n,o,r;for(n=0,o=e.length;n<o;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+o)*n.factor)}getValueForPixel(e){let n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,o=this.ctx.measureText(e).width,r=st(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(e){let n=this.options.time,o=n.displayFormats,r=o[n.unit]||o.millisecond,s=this._tickFormatFunction(e,0,kc(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,o;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,o=r.length;n<o;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,o;if(e.length)return e;let r=this.getLabels();for(n=0,o=r.length;n<o;++n)e.push(wc(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kr(e.sort(Pc))}}return i})();function bo(i,t,e){let n=0,o=i.length-1,r,s,a,l;e?(t>=i[n].pos&&t<=i[o].pos&&({lo:n,hi:o}=St(i,"pos",t)),{pos:r,time:a}=i[n],{pos:s,time:l}=i[o]):(t>=i[n].time&&t<=i[o].time&&({lo:n,hi:o}=St(i,"time",t)),{time:r,pos:a}=i[n],{time:s,pos:l}=i[o]);let d=s-r;return d?a+(l-a)*(t-r)/d:a}var Os=class extends ws{static id="timeseries";static defaults=ws.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=bo(e,this.min),this._tableRange=bo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,o=[],r=[],s,a,l,d,u;for(s=0,a=t.length;s<a;++s)d=t[s],d>=e&&d<=n&&o.push(d);if(o.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,a=o.length;s<a;++s)u=o[s+1],l=o[s-1],d=o[s],Math.round((u+l)/2)!==d&&r.push({time:d,pos:s/(a-1)});return r}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(bo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return bo(this._table,n*this._tableRange+this._minPos,!0)}},Kh=Object.freeze({__proto__:null,CategoryScale:kh,LinearScale:ys,LogarithmicScale:Ms,RadialLinearScale:Ps,TimeScale:ws,TimeSeriesScale:Os}),Xc=[of,Tg,Ph,Kh];Oo.register(...Xc);var Jc=Oo;var at=class i{constructor(t){this.http=t;this.baseUrl="/api/admin"}getUsers(){return this.http.get(`${this.baseUrl}/users`)}updateUser(t,e){return this.http.put(`${this.baseUrl}/users/${t}`,e)}createUser(t){return this.http.post(`${this.baseUrl}/users`,t)}deleteUser(t){return this.http.delete(`${this.baseUrl}/users/${t}`)}getDepartments(){return this.http.get(`${this.baseUrl}/departments`)}createDepartment(t){return this.http.post(`${this.baseUrl}/departments`,t)}deleteDepartment(t){return this.http.delete(`${this.baseUrl}/departments/${t}`)}updateDepartment(t,e){return this.http.put(`${this.baseUrl}/departments/${t}`,e)}getClasses(){return this.http.get(`${this.baseUrl}/classes`)}createClass(t){return this.http.post(`${this.baseUrl}/classes`,t)}deleteClass(t){return this.http.delete(`${this.baseUrl}/classes/${t}`)}getModules(){return this.http.get(`${this.baseUrl}/modules`)}getGrades(){return this.http.get(`${this.baseUrl}/grades`)}getAnnouncements(){return this.http.get(`${this.baseUrl}/announcements`)}createAnnouncement(t){return this.http.post(`${this.baseUrl}/announcements`,t)}updateAnnouncement(t,e){return this.http.put(`${this.baseUrl}/announcements/${t}`,e)}deleteAnnouncement(t){return this.http.delete(`${this.baseUrl}/announcements/${t}`)}getStats(){return this.http.get(`${this.baseUrl}/stats`)}getSchedules(){return this.http.get(`${this.baseUrl}/schedules`)}createSchedule(t){return this.http.post(`${this.baseUrl}/schedules`,t)}deleteSchedule(t){return this.http.delete(`${this.baseUrl}/schedules/${t}`)}getSubjects(){return this.http.get(`${this.baseUrl}/subjects`)}createSubject(t){return this.http.post(`${this.baseUrl}/subjects`,t)}deleteSubject(t){return this.http.delete(`${this.baseUrl}/subjects/${t}`)}static{this.\u0275fac=function(e){return new(e||i)(Me(Oa))}}static{this.\u0275prov=Ke({token:i,factory:i.\u0275fac,providedIn:"root"})}};var Qh=["userChartFinal"];function Xh(i,t){if(i&1&&(c(0,"div",43),b(1,"div",44),c(2,"div",45)(3,"div",46)(4,"div",47),b(5,"i",48),m(),c(6,"div",49),b(7,"i",50),c(8,"span"),p(9,"+8%"),m()()(),c(10,"div",51)(11,"h2",52),p(12),m(),c(13,"span",53),p(14),m()()(),b(15,"div",54),m()),i&2){let e=t.$implicit,n=t.index;Oe("animation-delay",n*.1+"s"),h(),Oe("background",e.color),h(3),Oe("background",e.color),h(),Ge(e.icon),h(),z("up",!0),h(6),F(e.value),h(2),F(e.label)}}function Jh(i,t){if(i&1&&(c(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),p(4,"SYST\xC8ME GESTION"),m(),c(5,"h1"),p(6,"TABLEAU DE BORD "),c(7,"span",6),p(8,"ULTRA PRO"),m()(),c(9,"p"),p(10,"Supervision intelligente et contr\xF4le total de l'ISET Kairouan."),m()(),c(11,"div",7)(12,"div",8)(13,"div",9),b(14,"span",10),c(15,"span",11),p(16,"SERVEUR ACTIF"),m()(),c(17,"div",12),p(18),ee(19,"date"),m()()()(),c(20,"div",13),k(21,Xh,16,12,"div",14),m(),c(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),b(26,"i",19),c(27,"div",20)(28,"h3"),p(29,"R\xE9partition des Utilisateurs"),m(),c(30,"p"),p(31,"Analyse granulaire de la communaut\xE9"),m()()(),c(32,"div",21),p(33),m()(),c(34,"div",22),b(35,"canvas",23,0),c(37,"div",24)(38,"span",25),p(39),m(),c(40,"span",26),p(41,"Membres"),m()()()(),c(42,"div",27)(43,"div",17)(44,"div",18),b(45,"i",28),c(46,"div",20)(47,"h3"),p(48,"Centre de Contr\xF4le"),m(),c(49,"p"),p(50,"Actions prioritaires & raccourcis"),m()()()(),c(51,"div",29)(52,"button",30)(53,"div",31),b(54,"i",32),m(),c(55,"div",33)(56,"strong"),p(57,"Annonces"),m(),c(58,"span"),p(59,"Publier nouveaut\xE9"),m()()(),c(60,"button",34)(61,"div",35),b(62,"i",36),m(),c(63,"div",33)(64,"strong"),p(65,"Personnel"),m(),c(66,"span"),p(67,"G\xE9rer le staff"),m()()(),c(68,"button",37)(69,"div",38),b(70,"i",39),m(),c(71,"div",33)(72,"strong"),p(73,"Structure"),m(),c(74,"span"),p(75,"D\xE9pt & Classes"),m()()(),c(76,"button",40)(77,"div",41),b(78,"i",42),m(),c(79,"div",33)(80,"strong"),p(81,"Messagerie"),m(),c(82,"span"),p(83,"Consulter flux"),m()()()()()()()),i&2){let e=P();h(18),F(ct(19,4,e.currentTime,"HH:mm")),h(3),y("ngForOf",e.stats),h(12),q("Total: ",e.totalUsers,""),h(6),F(e.totalUsers)}}var Ao=class i{constructor(t,e,n){this.adminService=t;this.authService=e;this.platformId=n;this.stats=[];this.totalUsers=0;this.currentTime=new Date;this.isBrowser=tt(this.platformId),this.authService.currentUser.subscribe(o=>this.currentUser=o)}ngOnInit(){this.loadStats()}ngAfterViewInit(){}loadStats(){this.adminService.getStats().subscribe({next:t=>{this.stats=[{label:"\xC9tudiants",value:t.students.toLocaleString(),icon:"fa-user-graduate",color:"#0055a4"},{label:"Enseignants",value:t.teachers.toLocaleString(),icon:"fa-chalkboard-teacher",color:"#f59e0b"},{label:"D\xE9partements",value:t.departments.toLocaleString(),icon:"fa-university",color:"#0f172a"},{label:"Modules",value:t.modules.toLocaleString(),icon:"fa-book",color:"#64748b"}],this.totalUsers=Object.values(t.userDistribution).reduce((e,n)=>e+n,0),this.isBrowser&&setTimeout(()=>this.initChart(t.userDistribution),0)},error:()=>{let t={students:1245,staff:158,admins:5,chefs:6};this.stats=[{label:"\xC9tudiants",value:"1,245",icon:"fa-user-graduate",color:"#0055a4"},{label:"Enseignants",value:"158",icon:"fa-chalkboard-teacher",color:"#f59e0b"},{label:"D\xE9partements",value:"6",icon:"fa-university",color:"#0f172a"},{label:"Modules",value:"342",icon:"fa-book",color:"#64748b"}],this.totalUsers=1414,this.isBrowser&&setTimeout(()=>this.initChart(t),0)}})}initChart(t){this.chart&&this.chart.destroy();let e=this.chartCanvas?.nativeElement?.getContext("2d");e&&(this.chart=new Jc(e,{type:"doughnut",data:{labels:["\xC9tudiants","Enseignants","Admins","Chefs Dept"],datasets:[{data:[t.students,t.staff,t.admins,t.chefs],backgroundColor:["#0055a4","#f59e0b","#0f172a","#94a3b8"],borderWidth:0,hoverOffset:15}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"75%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{family:"'Outfit', sans-serif",size:12,weight:600}}},tooltip:{backgroundColor:"#0f172a",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},cornerRadius:10,displayColors:!1}},animation:{animateRotate:!0,animateScale:!0,duration:2e3,easing:"easeOutQuart"}}}))}static{this.\u0275fac=function(e){return new(e||i)($(at),$(Ce),$(_t))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-dashboard"]],viewQuery:function(e,n){if(e&1&&Ut(Qh,5),e&2){let o;Wt(o=qt())&&(n.chartCanvas=o.first)}},decls:1,vars:1,consts:[["userChartFinal",""],["class","dashboard-overview",4,"ngIf"],[1,"dashboard-overview"],[1,"welcome-banner","animate-fade-in"],[1,"banner-content"],[1,"banner-badge"],[1,"text-gradient"],[1,"banner-glass-stat","shadow-premium"],[1,"stat-inner"],[1,"server-status"],[1,"status-dot","pulse"],[1,"label"],[1,"time-display"],[1,"stats-grid","animate-stagger"],["class","stat-card-premium",3,"animation-delay",4,"ngFor","ngForOf"],[1,"dashboard-matrix"],[1,"matrix-card","section","animate-slide-up"],[1,"section-header"],[1,"title-group"],[1,"fas","fa-chart-pie","header-icon"],[1,"text"],[1,"total-pill"],[1,"chart-wrapper-pro"],["id","userChartFinal"],[1,"chart-center-info"],[1,"val"],[1,"lbl"],[1,"matrix-card","section","quick-actions","animate-slide-up",2,"animation-delay","0.2s"],[1,"fas","fa-bolt","header-icon","gold"],[1,"actions-matrix"],["routerLink","/admin/news",1,"action-tile-pro"],[1,"tile-icon"],[1,"fas","fa-bullhorn"],[1,"tile-text"],["routerLink","/admin/users",1,"action-tile-pro"],[1,"tile-icon","blue"],[1,"fas","fa-users-cog"],["routerLink","/admin/structure",1,"action-tile-pro"],[1,"tile-icon","gold"],[1,"fas","fa-sitemap"],["routerLink","/admin/messages",1,"action-tile-pro"],[1,"tile-icon","purple"],[1,"fas","fa-comments"],[1,"stat-card-premium"],[1,"card-bg-glow"],[1,"card-content"],[1,"stat-top"],[1,"stat-icon-box"],[1,"fas"],[1,"stat-trend-pro"],[1,"fas","fa-chart-line"],[1,"stat-main"],[1,"stat-value-pro"],[1,"stat-label-pro"],[1,"card-wave-pattern"]],template:function(e,n){e&1&&k(0,Jh,84,7,"div",1),e&2&&y("ngIf",n.isBrowser)},dependencies:[X,xe,le,ot,pe,Ie],styles:['[_nghost-%COMP%]{--ultra-navy: #0f172a;--ultra-blue: #3b82f6;--ultra-gold: #f59e0b;--ultra-glass: rgba(255, 255, 255, .7);--font-outfit: "Outfit", sans-serif}.dashboard-overview[_ngcontent-%COMP%]{padding:1rem}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ultra-blue),var(--ultra-gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:950}.welcome-banner[_ngcontent-%COMP%]{background:#fff;padding:3rem;border-radius:32px;margin-bottom:3rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 20px 50px #0000000a;border:1px solid rgba(15,23,42,.05);position:relative;overflow:hidden}.welcome-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:500px;height:500px;background:radial-gradient(circle,rgba(59,130,246,.03) 0%,transparent 70%);border-radius:50%}.welcome-banner[_ngcontent-%COMP%]   .banner-badge[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;padding:.5rem 1.2rem;border-radius:100px;font-size:.7rem;font-weight:800;letter-spacing:2px;margin-bottom:1.5rem;display:inline-block}.welcome-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-outfit);font-size:2.4rem;margin-bottom:.8rem;letter-spacing:-1px}.welcome-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;max-width:500px}.banner-glass-stat[_ngcontent-%COMP%]{background:#fffc;backdrop-filter:blur(10px);padding:1.5rem 2.5rem;border-radius:24px;border:1px solid rgba(255,255,255,.5)}.banner-glass-stat[_ngcontent-%COMP%]   .server-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:.5rem}.banner-glass-stat[_ngcontent-%COMP%]   .server-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#10b981}.banner-glass-stat[_ngcontent-%COMP%]   .server-status[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;color:#10b981;letter-spacing:1px}.banner-glass-stat[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;color:var(--ultra-navy)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:2rem;margin-bottom:3rem}.stat-card-premium[_ngcontent-%COMP%]{background:#fff;border-radius:28px;padding:2rem;position:relative;overflow:hidden;border:1px solid rgba(15,23,42,.05);box-shadow:0 10px 30px #00000005;transition:all .4s cubic-bezier(.175,.885,.32,1.275);cursor:default}.stat-card-premium[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.02);box-shadow:0 25px 60px #00000014}.stat-card-premium[_ngcontent-%COMP%]:hover   .card-bg-glow[_ngcontent-%COMP%]{opacity:.15;transform:scale(1.5)}.stat-card-premium[_ngcontent-%COMP%]   .card-bg-glow[_ngcontent-%COMP%]{position:absolute;top:-20px;right:-20px;width:100px;height:100px;border-radius:50%;filter:blur(40px);opacity:.08;transition:all .5s ease}.stat-card-premium[_ngcontent-%COMP%]   .stat-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.stat-card-premium[_ngcontent-%COMP%]   .stat-icon-box[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.4rem;box-shadow:0 10px 20px #0000001a}.stat-card-premium[_ngcontent-%COMP%]   .stat-trend-pro[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:.4rem .8rem;border-radius:10px;font-size:.75rem;font-weight:800}.stat-card-premium[_ngcontent-%COMP%]   .stat-trend-pro.up[_ngcontent-%COMP%]{background:#ecfdf5;color:#10b981}.stat-card-premium[_ngcontent-%COMP%]   .stat-main[_ngcontent-%COMP%]   .stat-value-pro[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:900;color:var(--ultra-navy);margin-bottom:.2rem}.stat-card-premium[_ngcontent-%COMP%]   .stat-main[_ngcontent-%COMP%]   .stat-label-pro[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:1px}.dashboard-matrix[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 1fr;gap:2.5rem}@media (max-width: 1100px){.dashboard-matrix[_ngcontent-%COMP%]{grid-template-columns:1fr}}.matrix-card[_ngcontent-%COMP%]{background:#fff;border-radius:32px;padding:2.5rem;border:1px solid rgba(15,23,42,.05);box-shadow:0 4px 30px #00000005}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2.5rem}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--ultra-navy);margin-top:5px}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .header-icon.gold[_ngcontent-%COMP%]{color:var(--ultra-gold)}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;margin-bottom:.3rem}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;font-size:.9rem;font-weight:500}.matrix-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .total-pill[_ngcontent-%COMP%]{background:var(--ultra-navy);color:#fff;padding:.6rem 1.2rem;border-radius:100px;font-size:.85rem;font-weight:700}.chart-wrapper-pro[_ngcontent-%COMP%]{position:relative;height:350px;display:flex;justify-content:center;align-items:center}.chart-wrapper-pro[_ngcontent-%COMP%]   .chart-center-info[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center}.chart-wrapper-pro[_ngcontent-%COMP%]   .chart-center-info[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:900;color:var(--ultra-navy);line-height:1}.chart-wrapper-pro[_ngcontent-%COMP%]   .chart-center-info[_ngcontent-%COMP%]   .lbl[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#94a3b8;text-transform:uppercase}.actions-matrix[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.action-tile-pro[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #f1f5f9;padding:2rem 1.5rem;border-radius:24px;display:flex;flex-direction:column;align-items:flex-start;gap:1.2rem;border:none;cursor:pointer;transition:all .3s;text-align:left}.action-tile-pro[_ngcontent-%COMP%]   .tile-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:#fff;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;color:var(--ultra-navy);box-shadow:0 4px 15px #0000000a}.action-tile-pro[_ngcontent-%COMP%]   .tile-icon.blue[_ngcontent-%COMP%]{color:#3b82f6}.action-tile-pro[_ngcontent-%COMP%]   .tile-icon.gold[_ngcontent-%COMP%]{color:#f59e0b}.action-tile-pro[_ngcontent-%COMP%]   .tile-icon.purple[_ngcontent-%COMP%]{color:#8b5cf6}.action-tile-pro[_ngcontent-%COMP%]   .tile-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1rem;color:var(--ultra-navy);margin-bottom:2px}.action-tile-pro[_ngcontent-%COMP%]   .tile-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:#94a3b8;font-weight:500}.action-tile-pro[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-8px);box-shadow:0 15px 35px #0000000f}.action-tile-pro[_ngcontent-%COMP%]:hover   .tile-icon[_ngcontent-%COMP%]{background:var(--ultra-navy);color:#fff;transform:rotate(10deg)}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseAnim 2s infinite}@keyframes _ngcontent-%COMP%_pulseAnim{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease both}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .8s ease both}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})}};var Io=class i{transform(t){return t?{admin:"Administrateur",staff:"Personnel",student:"\xC9tudiant",professor:"Enseignant",hod:"Chef de Dept"}[t.toLowerCase()]||t:""}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275pipe=Ti({name:"userRole",type:i,pure:!0})}};var Do=class i{transform(t){return t?{active:"Activ\xE9",inactive:"D\xE9sactiv\xE9",pending:"En attente"}[t.toLowerCase()]||t:""}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275pipe=Ti({name:"userStatus",type:i,pure:!0})}};function Zh(i,t){if(i&1){let e=U();c(0,"tr",26)(1,"td")(2,"div",27)(3,"div",28),p(4),m(),c(5,"div",29)(6,"span",30),p(7),m(),c(8,"span",31),p(9),m()()()(),c(10,"td")(11,"span",32),p(12),m()(),c(13,"td")(14,"span",33),p(15),ee(16,"userRole"),ee(17,"uppercase"),m()(),c(18,"td")(19,"div",34),b(20,"span",35),c(21,"span",36),p(22),ee(23,"userStatus"),m()()(),c(24,"td",37)(25,"span",38),p(26),ee(27,"date"),m()(),c(28,"td",21)(29,"div",39)(30,"button",40),w("click",function(){let o=I(e).$implicit,r=P();return D(r.editUser(o))}),b(31,"i",41),m(),c(32,"button",42),w("click",function(){let o=I(e).$implicit,r=P();return D(r.toggleStatus(o))}),b(33,"i",43),m(),c(34,"button",44),w("click",function(){let o=I(e).$implicit,r=P();return D(r.deleteUser(o._id))}),b(35,"i",45),m()()()()}if(i&2){let e=t.$implicit,n=t.index,o=P();Oe("animation-delay",n*.05+"s"),h(3),y("ngClass",e.role),h(),q(" ",(e.name==null?null:e.name.charAt(0))||"U"," "),h(3),F(e.name),h(2),F(e.email),h(3),F(e.matricule),h(2),y("ngClass",e.role),h(),q(" ",fe(17,19,fe(16,17,e.role))," "),h(4),y("ngClass",e.status),h(3),F(fe(23,21,e.status)),h(4),F(ct(27,23,e.createdAt,"dd MMM yyyy")),h(6),y("title",e.status==="active"?"D\xE9sactiver":"Activer")("disabled",o.isActionInProgress(e._id)),h(),Ge(e.status==="active"?"fa-user-lock":"fa-user-shield"),h(),y("disabled",o.isActionInProgress(e._id))}}function e0(i,t){if(i&1){let e=U();c(0,"button",51),w("click",function(){I(e);let o=P(2);return D(o.onSearch(""))}),b(1,"i",52),p(2," R\xC9INITIALISER "),m()}}function t0(i,t){if(i&1){let e=U();c(0,"div",46)(1,"div",47),b(2,"i",48),m(),c(3,"h4"),p(4,"Aucun utilisateur trouv\xE9"),m(),c(5,"p"),p(6),ee(7,"async"),ee(8,"async"),m(),k(9,e0,3,0,"button",49),ee(10,"async"),c(11,"button",50),ee(12,"async"),w("click",function(){I(e);let o=P();return D(o.loadUsers())}),b(13,"i",12),ee(14,"async"),p(15),ee(16,"async"),m()()}if(i&2){let e=P();h(6),F(fe(7,6,e.searchTerm$)?`Nous n'avons trouv\xE9 aucun r\xE9sultat correspondant \xE0 "`+fe(8,8,e.searchTerm$)+'".':"Aucun utilisateur disponible pour le moment."),h(3),y("ngIf",fe(10,10,e.searchTerm$)),h(2),y("disabled",fe(12,12,e.isLoading$)),h(2),z("refreshing",fe(14,14,e.isLoading$)),h(2),q(" ",fe(16,16,e.isLoading$)?"CHARGEMENT...":"RAFRA\xCECHIR"," ")}}function n0(i,t){i&1&&(c(0,"div",53)(1,"div",54),b(2,"div",55),m(),c(3,"h4"),p(4,"Chargement des utilisateurs..."),m(),c(5,"p"),p(6,"Veuillez patienter pendant le chargement des donn\xE9es."),m()())}function i0(i,t){if(i&1){let e=U();c(0,"div",63)(1,"label"),p(2,"Mot de passe initial"),m(),c(3,"input",84),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.currentUser.password,o)||(r.currentUser.password=o),D(o)}),m()()}if(i&2){let e=P(2);h(3),oe("ngModel",e.currentUser.password)}}function o0(i,t){if(i&1&&(c(0,"option",87),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function r0(i,t){if(i&1){let e=U();c(0,"div",63)(1,"label"),p(2,"D\xE9partement"),m(),c(3,"select",68),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.currentUser.department,o)||(r.currentUser.department=o),D(o)}),c(4,"option",85),p(5,"S\xE9lectionnez un d\xE9partement"),m(),k(6,o0,2,2,"option",86),m()()}if(i&2){let e=P(2);h(3),oe("ngModel",e.currentUser.department),h(3),y("ngForOf",e.departments)}}function s0(i,t){if(i&1&&(c(0,"option",87),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function a0(i,t){if(i&1){let e=U();c(0,"div",63)(1,"label"),p(2,"Classe"),m(),c(3,"select",68),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.currentUser.classGroup,o)||(r.currentUser.classGroup=o),D(o)}),c(4,"option",85),p(5,"S\xE9lectionnez une classe"),m(),k(6,s0,2,2,"option",86),m()()}if(i&2){let e=P(2);h(3),oe("ngModel",e.currentUser.classGroup),h(3),y("ngForOf",e.classes)}}function l0(i,t){if(i&1){let e=U();c(0,"div",66)(1,"div",67)(2,"label"),p(3,"Grade"),m(),c(4,"input",88),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.currentUser.grade,o)||(r.currentUser.grade=o),D(o)}),m()(),c(5,"div",67)(6,"label"),p(7,"Sp\xE9cialit\xE9"),m(),c(8,"input",89),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.currentUser.speciality,o)||(r.currentUser.speciality=o),D(o)}),m()()()}if(i&2){let e=P(2);h(4),oe("ngModel",e.currentUser.grade),h(4),oe("ngModel",e.currentUser.speciality)}}function c0(i,t){if(i&1){let e=U();c(0,"div",56)(1,"div",57)(2,"div",58)(3,"h3"),p(4),m(),c(5,"button",59),w("click",function(){I(e);let o=P();return D(o.closeModal())}),b(6,"i",60),m()(),c(7,"div",61),k(8,i0,4,1,"div",62),c(9,"div",63)(10,"label"),p(11,"Nom complet"),m(),c(12,"input",64),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.name,o)||(r.currentUser.name=o),D(o)}),m()(),c(13,"div",63)(14,"label"),p(15,"Email"),m(),c(16,"input",65),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.email,o)||(r.currentUser.email=o),D(o)}),m()(),c(17,"div",63)(18,"label"),p(19,"Matricule"),m(),c(20,"input",64),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.matricule,o)||(r.currentUser.matricule=o),D(o)}),m()(),c(21,"div",66)(22,"div",67)(23,"label"),p(24,"R\xF4le"),m(),c(25,"select",68),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.role,o)||(r.currentUser.role=o),D(o)}),c(26,"option",69),p(27,"\xC9tudiant"),m(),c(28,"option",70),p(29,"Personnel"),m(),c(30,"option",71),p(31,"Admin"),m()()(),c(32,"div",67)(33,"label"),p(34,"Statut"),m(),c(35,"select",68),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.status,o)||(r.currentUser.status=o),D(o)}),c(36,"option",72),p(37,"Actif"),m(),c(38,"option",73),p(39,"Inactif"),m(),c(40,"option",74),p(41,"En attente"),m()()()(),c(42,"div",75)(43,"div",66)(44,"div",67)(45,"label"),p(46,"CIN"),m(),c(47,"input",76),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.cin,o)||(r.currentUser.cin=o),D(o)}),m()(),c(48,"div",67)(49,"label"),p(50,"T\xE9l\xE9phone"),m(),c(51,"input",77),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.phone,o)||(r.currentUser.phone=o),D(o)}),m()()(),c(52,"div",66)(53,"div",67)(54,"label"),p(55,"Genre"),m(),c(56,"select",68),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.gender,o)||(r.currentUser.gender=o),D(o)}),c(57,"option",78),p(58,"Homme"),m(),c(59,"option",79),p(60,"Femme"),m()()(),c(61,"div",67)(62,"label"),p(63,"Date de naissance"),m(),c(64,"input",80),se("ngModelChange",function(o){I(e);let r=P();return re(r.currentUser.birthDate,o)||(r.currentUser.birthDate=o),D(o)}),m()()(),k(65,r0,7,2,"div",62)(66,a0,7,2,"div",62)(67,l0,9,2,"div",81),m()(),c(68,"div",82)(69,"button",51),w("click",function(){I(e);let o=P();return D(o.closeModal())}),p(70,"Annuler"),m(),c(71,"button",83),w("click",function(){I(e);let o=P();return D(o.saveUser())}),p(72,"Enregistrer"),m()()()()}if(i&2){let e=P();h(4),q("",e.isEditMode?"Modifier":"Ajouter"," un utilisateur"),h(4),y("ngIf",!e.isEditMode),h(4),oe("ngModel",e.currentUser.name),h(4),oe("ngModel",e.currentUser.email),h(4),oe("ngModel",e.currentUser.matricule),h(5),oe("ngModel",e.currentUser.role),h(10),oe("ngModel",e.currentUser.status),h(12),oe("ngModel",e.currentUser.cin),h(4),oe("ngModel",e.currentUser.phone),h(5),oe("ngModel",e.currentUser.gender),h(8),oe("ngModel",e.currentUser.birthDate),h(),y("ngIf",e.currentUser.role!=="admin"),h(),y("ngIf",e.currentUser.role==="student"),h(),y("ngIf",e.currentUser.role==="staff"||e.currentUser.role==="chef")}}var Fo=class i{constructor(t,e){this.adminService=t;this.cdr=e;this.usersSubject=new ki([]);this.searchTermSubject=new ki("");this.isLoadingSubject=new ki(!0);this.users$=this.usersSubject.asObservable();this.searchTerm$=this.searchTermSubject.asObservable();this.isLoading$=this.isLoadingSubject.asObservable();this.filteredUsers$=la([this.users$,this.searchTerm$]).pipe(aa(([t,e])=>{let n=e.toLowerCase();return t.filter(o=>(o.name||"").toLowerCase().includes(n)||(o.email||"").toLowerCase().includes(n)||(o.matricule||"").toLowerCase().includes(n))}));this.actionInProgress=new Set;this.displayEditModal=!1;this.isEditMode=!1;this.currentUser={};this.departments=[];this.classes=[]}ngOnInit(){this.loadUsers(),this.loadMetadata()}loadMetadata(){this.adminService.getDepartments().subscribe(t=>this.departments=t),this.adminService.getClasses().subscribe(t=>this.classes=t)}loadUsers(){this.isLoadingSubject.next(!0),this.adminService.getUsers().pipe(Te(()=>{this.isLoadingSubject.next(!1),this.cdr.markForCheck()})).subscribe({next:t=>{this.usersSubject.next(t||[])},error:t=>{console.error("Erreur lors du chargement des utilisateurs:",t),this.usersSubject.next([])}})}onSearch(t){this.searchTermSubject.next(t)}isActionInProgress(t){return this.actionInProgress.has(t)}addUser(){this.isEditMode=!1,this.currentUser={role:"student",status:"active"},this.displayEditModal=!0}editUser(t){this.isEditMode=!0,this.currentUser=JSON.parse(JSON.stringify(t)),this.currentUser.birthDate&&(this.currentUser.birthDate=new Date(this.currentUser.birthDate).toISOString().split("T")[0]),this.displayEditModal=!0}closeModal(){this.displayEditModal=!1,this.isEditMode=!1,this.currentUser={}}saveUser(){if(this.isEditMode&&!this.currentUser._id)return;if(!this.isEditMode&&(!this.currentUser.email||!this.currentUser.password)){alert("Veuillez remplir les champs obligatoires (Email, Mot de passe)");return}this.isLoadingSubject.next(!0),(this.isEditMode?this.adminService.updateUser(this.currentUser._id,this.currentUser):this.adminService.createUser(this.currentUser)).pipe(Te(()=>{this.isLoadingSubject.next(!1),this.cdr.markForCheck()})).subscribe({next:e=>{let n=this.usersSubject.value;if(this.isEditMode){let o=n.findIndex(r=>r._id===e._id);o!==-1&&(n[o]=e,this.usersSubject.next([...n]))}else this.usersSubject.next([e,...n]);this.closeModal()},error:e=>{console.error("Error saving user",e),alert(e.error?.message||"Erreur lors de l'enregistrement")}})}toggleStatus(t){if(this.isActionInProgress(t._id))return;let e=t.status==="active"?"inactive":"active",n=t.status==="active"?"d\xE9sactivation":"activation";confirm(`\xCAtes-vous s\xFBr de vouloir ${n} l'utilisateur ${t.name} ?`)&&(this.actionInProgress.add(t._id),this.adminService.updateUser(t._id,{status:e}).pipe(Te(()=>{this.actionInProgress.delete(t._id),this.cdr.markForCheck()})).subscribe({next:o=>{let r=this.usersSubject.value,s=r.findIndex(a=>a._id===t._id);s!==-1&&o&&(r[s]=De(De({},r[s]),o),this.usersSubject.next([...r]))},error:o=>{console.error("Erreur lors de la mise \xE0 jour du statut:",o)}}))}deleteUser(t){this.isActionInProgress(t)||confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\xE9versible.")&&(this.actionInProgress.add(t),this.adminService.deleteUser(t).pipe(Te(()=>{this.actionInProgress.delete(t),this.cdr.markForCheck()})).subscribe({next:()=>{let e=this.usersSubject.value.filter(n=>n._id!==t);this.usersSubject.next(e)},error:e=>{console.error("Erreur lors de la suppression:",e)}}))}animateStatusChange(t){let e=document.querySelector(`[data-user-id="${t}"] .status-chip-pro`);e&&(e.classList.add("status-changing"),setTimeout(()=>{e.classList.remove("status-changing")},500))}trackByUserId(t,e){return e._id||t}static{this.\u0275fac=function(e){return new(e||i)($(at),$(bt))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-users"]],decls:57,vars:28,consts:[[1,"user-management-pro"],[1,"welcome-header-modern"],[1,"header-text-group"],[1,"title-with-icon"],[1,"fas","fa-users-gear","icon-gradient"],[1,"header-actions-modern"],[1,"search-box-ultra"],[1,"fas","fa-search"],["type","text","placeholder","Rechercher par nom, email ou matricule...",3,"ngModelChange","ngModel"],["title","Ajouter un utilisateur",1,"btn","btn-premium-navy",3,"click"],[1,"fas","fa-user-plus"],["title","Rafra\xEEchir la liste",1,"btn","btn-premium-gold",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"main-card-glass","shadow-premium"],[1,"table-scroll-container"],[1,"iset-modern-table"],[1,"fas","fa-user-circle"],[1,"fas","fa-id-card"],[1,"fas","fa-shield-halved"],[1,"fas","fa-signal"],[1,"fas","fa-calendar-day"],[1,"text-right"],["class","animate-row",3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state-pro",4,"ngIf"],["class","loading-state-pro",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"animate-row"],[1,"user-profile-cell"],[1,"avatar-circle",3,"ngClass"],[1,"user-meta"],[1,"full-name"],[1,"user-email-text"],[1,"matricule-tag"],[1,"role-badge-modern",3,"ngClass"],[1,"status-chip-pro",3,"ngClass"],[1,"dot-indicator"],[1,"status-label"],[1,"date-pro-cell"],[1,"date-main"],[1,"action-buttons-group"],["title","Modifier l'utilisateur",1,"action-btn-mini","edit",3,"click"],[1,"fas","fa-pen-to-square"],[1,"action-btn-mini","status",3,"click","title","disabled"],[1,"fas"],["title","Supprimer d\xE9finitivement",1,"action-btn-mini","delete",3,"click","disabled"],[1,"fas","fa-trash-can"],[1,"empty-state-pro"],[1,"illustration-wrap"],[1,"fas","fa-users-slash"],["class","btn btn-outline-navy",3,"click",4,"ngIf"],[1,"btn","btn-premium-gold",2,"margin-left","1rem",3,"click","disabled"],[1,"btn","btn-outline-navy",3,"click"],[1,"fas","fa-rotate-left"],[1,"loading-state-pro"],[1,"spinner-container"],[1,"spinner-premium"],[1,"modal-overlay"],[1,"modal-content","glass-card"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body","custom-scrollbar"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","text",3,"ngModelChange","ngModel"],["type","email",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-group","half"],[3,"ngModelChange","ngModel"],["value","student"],["value","staff"],["value","admin"],["value","active"],["value","inactive"],["value","pending"],[1,"role-specific"],["type","text","placeholder","Num\xE9ro CIN",3,"ngModelChange","ngModel"],["type","text","placeholder","Num\xE9ro de mobile",3,"ngModelChange","ngModel"],["value","Homme"],["value","Femme"],["type","date",3,"ngModelChange","ngModel"],["class","form-row",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-premium-gold",3,"click"],["type","password","placeholder","Min. 6 caract\xE8res",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","ex: Ma\xEEtre Assistant",3,"ngModelChange","ngModel"],["type","text","placeholder","ex: Informatique",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"i",4),c(5,"h3"),p(6,"Annuaire des Utilisateurs"),m()(),c(7,"p"),p(8,"Supervision et gestion centralis\xE9e des acc\xE8s de la plateforme acad\xE9mique."),m()(),c(9,"div",5)(10,"div",6),b(11,"i",7),c(12,"input",8),ee(13,"async"),w("ngModelChange",function(r){return n.onSearch(r)}),m()(),c(14,"button",9),w("click",function(){return n.addUser()}),b(15,"i",10),c(16,"span"),p(17,"NOUVEAU"),m()(),c(18,"button",11),ee(19,"async"),w("click",function(){return n.loadUsers()}),b(20,"i",12),ee(21,"async"),c(22,"span"),p(23),ee(24,"async"),m()()()(),c(25,"div",13)(26,"div",14)(27,"table",15)(28,"thead")(29,"tr")(30,"th"),b(31,"i",16),p(32," Membre"),m(),c(33,"th"),b(34,"i",17),p(35," Matricule"),m(),c(36,"th"),b(37,"i",18),p(38," Acc\xE8s"),m(),c(39,"th"),b(40,"i",19),p(41," \xC9tat"),m(),c(42,"th"),b(43,"i",20),p(44," Arriv\xE9e"),m(),c(45,"th",21),p(46,"Op\xE9rations"),m()()(),c(47,"tbody"),k(48,Zh,36,26,"tr",22),ee(49,"async"),m()(),k(50,t0,17,18,"div",23),ee(51,"async"),ee(52,"async"),k(53,n0,7,0,"div",24),ee(54,"async"),ee(55,"async"),m()(),k(56,c0,73,14,"div",25),m()),e&2){let o,r;h(12),y("ngModel",fe(13,10,n.searchTerm$)),h(6),y("disabled",fe(19,12,n.isLoading$)),h(2),z("refreshing",fe(21,14,n.isLoading$)),h(3),F(fe(24,16,n.isLoading$)?"CHARGEMENT...":"RAFRA\xCECHIR"),h(25),y("ngForOf",fe(49,18,n.filteredUsers$))("ngForTrackBy",n.trackByUserId),h(2),y("ngIf",!fe(51,20,n.isLoading$)&&((o=fe(52,22,n.filteredUsers$))==null?null:o.length)===0),h(3),y("ngIf",fe(54,24,n.isLoading$)&&((r=fe(55,26,n.filteredUsers$))==null?null:r.length)===0),h(3),y("ngIf",n.displayEditModal)}},dependencies:[X,Ht,xe,le,Ai,Pn,ot,We,yt,Mt,Be,Ct,Ue,xt,pe,Io,Do],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap";@import"https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap";.user-management-pro[_ngcontent-%COMP%]{font-family:Outfit,sans-serif;animation:_ngcontent-%COMP%_fadeIn .6s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.welcome-header-modern[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem;flex-wrap:wrap;gap:2rem}.title-with-icon[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin-bottom:.5rem}.title-with-icon[_ngcontent-%COMP%]   .icon-gradient[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#0f172a,#0055a4);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.title-with-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:900;color:#0f172a;margin:0;letter-spacing:-1px}.header-text-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;font-weight:500;margin:0}.header-actions-modern[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}.search-box-ultra[_ngcontent-%COMP%]{position:relative}.search-box-ultra[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1.2rem;top:50%;transform:translateY(-50%);color:#0055a4;font-size:1.1rem}.search-box-ultra[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem 1.5rem 1rem 3.5rem;width:400px;border:2px solid #e2e8f0;border-radius:16px;background:#fff;font-size:.95rem;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1)}.search-box-ultra[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.search-box-ultra[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0055a4;box-shadow:0 0 0 6px #0055a41a;outline:none;width:450px}.btn[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:16px;font-weight:800;font-size:.9rem;letter-spacing:1px;cursor:pointer;display:flex;align-items:center;gap:1rem;transition:all .4s cubic-bezier(.2,.8,.2,1);border:none;text-transform:uppercase}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.btn.btn-premium-gold[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 10px 25px #f59e0b4d}.btn.btn-premium-gold[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-4px) scale(1.02);box-shadow:0 15px 35px #f59e0b66;filter:brightness(1.1)}.btn.btn-premium-navy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;box-shadow:0 10px 25px #0f172a4d}.btn.btn-premium-navy[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-4px) scale(1.02);box-shadow:0 15px 35px #0f172a66;filter:brightness(1.2)}.btn.btn-outline-navy[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid #0f172a}.btn.btn-outline-navy[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a;color:#fff}.fa-sync-alt.refreshing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.main-card-glass[_ngcontent-%COMP%]{background:#ffffffe6;backdrop-filter:blur(10px);border-radius:30px;border:1px solid rgba(255,255,255,.5);overflow:hidden;padding:1rem}.table-scroll-container[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}.iset-modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.iset-modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.8rem 2rem;background:#f8fafc;text-align:left;font-size:.8rem;font-weight:800;color:#64748b;text-transform:uppercase;letter-spacing:1.5px;border-bottom:2px solid #f1f5f9}.iset-modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.8rem;color:#0055a4;opacity:.7}.iset-modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.iset-modern-table[_ngcontent-%COMP%]   .animate-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rowSlideIn .5s ease-out both}.iset-modern-table[_ngcontent-%COMP%]   .animate-row[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#0055a405}@keyframes _ngcontent-%COMP%_rowSlideIn{0%{opacity:0;transform:translate(-15px)}to{opacity:1;transform:translate(0)}}.user-profile-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.user-profile-cell[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:14px;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.25rem;box-shadow:0 8px 20px #0000001a}.user-profile-cell[_ngcontent-%COMP%]   .avatar-circle.admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.user-profile-cell[_ngcontent-%COMP%]   .avatar-circle.staff[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#0077c8)}.user-profile-cell[_ngcontent-%COMP%]   .avatar-circle.student[_ngcontent-%COMP%]{background:linear-gradient(135deg,#475569,#94a3b8)}.user-profile-cell[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .full-name[_ngcontent-%COMP%]{display:block;font-weight:800;color:#0f172a;font-size:1.05rem;margin-bottom:.1rem}.user-profile-cell[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .user-email-text[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;font-weight:500}.matricule-tag[_ngcontent-%COMP%]{background:#f1f5f9;padding:.5rem 1rem;border-radius:10px;font-size:.85rem;font-weight:900;color:#334155;font-family:Space Mono,monospace;border:1px solid rgba(0,0,0,.05)}.role-badge-modern[_ngcontent-%COMP%]{padding:.5rem 1.2rem;border-radius:12px;font-size:.75rem;font-weight:900;letter-spacing:1px;display:inline-block}.role-badge-modern.admin[_ngcontent-%COMP%]{background:#0f172a;color:#fff;box-shadow:0 5px 15px #0f172a33}.role-badge-modern.staff[_ngcontent-%COMP%]{background:#0055a414;color:#0055a4}.role-badge-modern.student[_ngcontent-%COMP%]{background:#f8fafc;color:#64748b;border:1px solid #e2e8f0}.status-chip-pro[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.5rem 1.2rem;border-radius:50px;font-size:.85rem;font-weight:800;transition:all .3s ease}.status-chip-pro[_ngcontent-%COMP%]   .dot-indicator[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;transition:all .3s ease}.status-chip-pro.active[_ngcontent-%COMP%]{background:#ecfdf5;color:#065f46}.status-chip-pro.active[_ngcontent-%COMP%]   .dot-indicator[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 0 4px #10b98126;animation:_ngcontent-%COMP%_pulseGreen 2s infinite}.status-chip-pro.inactive[_ngcontent-%COMP%]{background:#fff1f2;color:#9f1239}.status-chip-pro.inactive[_ngcontent-%COMP%]   .dot-indicator[_ngcontent-%COMP%]{background:#e11d48}.status-chip-pro.pending[_ngcontent-%COMP%]{background:#fff7ed;color:#9a3412}.status-chip-pro.pending[_ngcontent-%COMP%]   .dot-indicator[_ngcontent-%COMP%]{background:#f97316}@keyframes _ngcontent-%COMP%_pulseGreen{0%{transform:scale(.95);box-shadow:0 0 #10b98166}70%{transform:scale(1);box-shadow:0 0 0 8px #10b98100}to{transform:scale(.95);box-shadow:0 0 #10b98100}}.action-buttons-group[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:flex-end}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;border:1px solid rgba(0,0,0,.05);background:#fff;color:#64748b;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;font-size:1.1rem}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 8px 20px #00000014}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini.edit[_ngcontent-%COMP%]:hover:not(:disabled){background:#f0f7ff;color:#0055a4;border-color:#0055a4}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini.status[_ngcontent-%COMP%]:hover:not(:disabled){background:#fffdf0;color:#f59e0b;border-color:#f59e0b}.action-buttons-group[_ngcontent-%COMP%]   .action-btn-mini.delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff1f2;color:#e11d48;border-color:#e11d48}.empty-state-pro[_ngcontent-%COMP%]{padding:10rem 2rem;text-align:center}.empty-state-pro[_ngcontent-%COMP%]   .illustration-wrap[_ngcontent-%COMP%]{font-size:6rem;color:#f1f5f9;margin-bottom:2rem;background:radial-gradient(circle,#f8fafc 0%,transparent 70%);display:inline-block;padding:2rem}.empty-state-pro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#0f172a;margin:0}.empty-state-pro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:1rem 0 3rem}.loading-state-pro[_ngcontent-%COMP%]{padding:10rem 2rem;text-align:center}.loading-state-pro[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{margin-bottom:2rem}.spinner-premium[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #f1f5f9;border-top:4px solid #0055a4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}.loading-state-pro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:#0f172a;margin:0 0 1rem}.loading-state-pro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.text-right[_ngcontent-%COMP%]{text-align:right}.date-pro-cell[_ngcontent-%COMP%]{font-weight:600;color:#334155}@keyframes _ngcontent-%COMP%_statusChange{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.status-changing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_statusChange .5s ease}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172a99;backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:600px;background:#fff;border-radius:24px;padding:2rem;box-shadow:0 25px 50px #00000040;animation:_ngcontent-%COMP%_slideUpModal .4s cubic-bezier(.16,1,.3,1);max-height:90vh;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_slideUpModal{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#0f172a;font-weight:800}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:#64748b}.modal-body[_ngcontent-%COMP%]{overflow-y:auto;padding-right:.5rem;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700;color:#334155;font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border-radius:12px;border:2px solid #e2e8f0;font-family:inherit;font-weight:600;color:#0f172a;transition:all .2s}[_ngcontent-%COMP%]:is(.form-group input,.form-group select):focus{border-color:#0055a4;outline:none}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-group.half[_ngcontent-%COMP%]{flex:1}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}'],changeDetection:0})}};function d0(i,t){if(i&1&&(c(0,"div",18)(1,"div",19)(2,"div",20),b(3,"i",21),m(),c(4,"div",22)(5,"strong"),p(6),m(),c(7,"span"),p(8),m()()(),c(9,"div",23)(10,"button",24),b(11,"i",25),p(12," Inspecter"),m(),c(13,"button",26),b(14,"i",27),p(15," Publier"),m()()()),i&2){let e=t.$implicit;h(6),F(e.module),h(2),q("Responsable: ",e.chef,"")}}function m0(i,t){if(i&1&&(c(0,"div")(1,"div",12)(2,"div",13)(3,"h4"),p(4,"Validation des R\xE9sultats"),m(),c(5,"p"),p(6,"Nouveaux modules en attente de validation finale."),m()(),c(7,"button",14),b(8,"i",15),p(9," Tout Valider"),m()(),c(10,"div",16),k(11,d0,16,2,"div",17),m()()),i&2){let e=P();h(11),y("ngForOf",e.modulesToValidate)}}function u0(i,t){i&1&&(c(0,"div",28)(1,"div",29),b(2,"i",30),m(),c(3,"h4"),p(4,"Calendrier en cours de pr\xE9paration"),m(),c(5,"p"),p(6,"La planification pour la prochaine session d\xE9marrera sous peu."),m()())}function p0(i,t){if(i&1&&(c(0,"option",40),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function f0(i,t){if(i&1&&(c(0,"div",65),b(1,"i",66),c(2,"span"),p(3),m()()),i&2){let e=P(3);h(3),va("",e.getClassName(e.selectedClassFilter)," - ",e.modalData.day," ",e.modalData.startTime,"-",e.modalData.endTime,"")}}function g0(i,t){if(i&1&&(c(0,"div",67),b(1,"i",68),c(2,"span"),p(3),m()()),i&2){let e=P(3);h(3),F(e.validationError)}}function h0(i,t){if(i&1&&(c(0,"option",40),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function _0(i,t){if(i&1&&(c(0,"option",40),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function b0(i,t){if(i&1){let e=U();c(0,"button",69),w("click",function(){let o=I(e).$implicit,r=P(3);return D(r.newSchedule.type=o)}),p(1),m()}if(i&2){let e=t.$implicit,n=P(3);z("active",n.newSchedule.type===e)("cours",e==="Cours")("td",e==="TD")("tp",e==="TP"),h(),q(" ",e," ")}}function v0(i,t){if(i&1){let e=U();c(0,"div",41),w("click",function(){I(e);let o=P(2);return D(o.closeModal())}),c(1,"div",42),w("click",function(o){return I(e),D(o.stopPropagation())}),c(2,"div",43)(3,"h3"),b(4,"i",44),p(5," Ajouter une s\xE9ance"),m(),c(6,"button",45),w("click",function(){I(e);let o=P(2);return D(o.closeModal())}),b(7,"i",46),m()(),c(8,"div",47),k(9,f0,4,4,"div",48)(10,g0,4,1,"div",49),c(11,"div",50)(12,"div",51)(13,"label"),b(14,"i",52),p(15," Enseignant"),m(),c(16,"select",53),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.newSchedule.staff,o)||(r.newSchedule.staff=o),D(o)}),c(17,"option",54),p(18,"S\xE9lectionnez un enseignant"),m(),k(19,h0,2,2,"option",36),m()(),c(20,"div",51)(21,"label"),b(22,"i",55),p(23," Mati\xE8re"),m(),c(24,"select",53),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.newSchedule.subject,o)||(r.newSchedule.subject=o),D(o)}),c(25,"option",54),p(26,"S\xE9lectionnez une mati\xE8re"),m(),k(27,_0,2,2,"option",36),m()(),c(28,"div",51)(29,"label"),b(30,"i",56),p(31," Salle"),m(),c(32,"input",57),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.newSchedule.room,o)||(r.newSchedule.room=o),D(o)}),m()(),c(33,"div",51)(34,"label"),b(35,"i",58),p(36," Type de s\xE9ance"),m(),c(37,"div",59),k(38,b0,2,9,"button",60),m()()()(),c(39,"div",61)(40,"button",62),w("click",function(){I(e);let o=P(2);return D(o.closeModal())}),b(41,"i",46),p(42," Annuler "),m(),c(43,"button",63),w("click",function(){I(e);let o=P(2);return D(o.addSchedule())}),b(44,"i",64),p(45," Enregistrer "),m()()()()}if(i&2){let e=P(2);h(9),y("ngIf",e.selectedClassFilter),h(),y("ngIf",e.validationError),h(6),oe("ngModel",e.newSchedule.staff),h(3),y("ngForOf",e.staffMembers),h(5),oe("ngModel",e.newSchedule.subject),h(3),y("ngForOf",e.subjects),h(5),oe("ngModel",e.newSchedule.room),h(6),y("ngForOf",e.types),h(5),y("disabled",!e.newSchedule.staff||!e.newSchedule.room||!e.newSchedule.subject)}}function x0(i,t){if(i&1&&(c(0,"th"),p(1),ee(2,"uppercase"),m()),i&2){let e=t.$implicit;h(),F(fe(2,1,e))}}function C0(i,t){if(i&1){let e=U();c(0,"div",81)(1,"div",82)(2,"span",83),p(3),m(),c(4,"div",84)(5,"span",85),b(6,"i",52),p(7),m(),c(8,"span",85),b(9,"i",56),p(10),m()()(),c(11,"button",86),w("click",function(o){let r=I(e).ngIf,s=P(5);return o.stopPropagation(),D(s.deleteSchedule(r._id))}),b(12,"i",46),m()()}if(i&2){let e=t.ngIf;y("ngClass",e.type.toLowerCase()),h(3),F((e.subject==null?null:e.subject.name)||"Mati\xE8re"),h(4),q(" ",e.staff==null?null:e.staff.name,""),h(3),q(" ",e.room,"")}}function y0(i,t){i&1&&(c(0,"div",87),b(1,"i",88),m())}function M0(i,t){if(i&1){let e=U();c(0,"td",78),w("click",function(){let o=I(e).$implicit,r=P().$implicit,s=P(3);return D(s.getSession(o,r.start)?null:s.openAddModal(o,r.start,r.end))}),k(1,C0,13,4,"div",79)(2,y0,2,0,"div",80),m()}if(i&2){let e=t.$implicit,n=P().$implicit,o=P(3);z("empty",!o.getSession(e,n.start)),h(),y("ngIf",o.getSession(e,n.start)),h(),y("ngIf",!o.getSession(e,n.start))}}function S0(i,t){if(i&1&&(c(0,"tr")(1,"td",74)(2,"span",75),p(3),m(),c(4,"span",76),p(5),m()(),k(6,M0,3,4,"td",77),m()),i&2){let e=t.$implicit,n=P(3);h(3),F(e.start),h(2),F(e.end),h(),y("ngForOf",n.days)}}function P0(i,t){if(i&1&&(c(0,"div",70)(1,"table",71)(2,"thead")(3,"tr")(4,"th",72),p(5,"Heure"),m(),k(6,x0,3,3,"th",73),m()(),c(7,"tbody"),k(8,S0,7,3,"tr",73),m()()()),i&2){let e=P(2);h(6),y("ngForOf",e.days),h(2),y("ngForOf",e.timeSlots)}}function w0(i,t){if(i&1&&(c(0,"h5"),p(1),m()),i&2){let e=P().$implicit;h(),F(e)}}function O0(i,t){if(i&1){let e=U();c(0,"div",94)(1,"div",95),p(2),m(),c(3,"div",96)(4,"div",97)(5,"strong"),p(6),m(),c(7,"span",98),p(8),m()(),c(9,"div",99)(10,"span"),b(11,"i",100),p(12),m(),c(13,"span"),b(14,"i",52),p(15),m(),c(16,"span"),b(17,"i",101),p(18),m()()(),c(19,"button",102),w("click",function(){let o=I(e).$implicit,r=P(4);return D(r.deleteSchedule(o._id))}),b(20,"i",103),m()()}if(i&2){let e=t.$implicit;h(2),_a("",e.startTime," - ",e.endTime,""),h(4),F((e.subject==null?null:e.subject.name)||"Mati\xE8re"),h(),y("ngClass",e.type.toLowerCase()),h(),F(e.type),h(4),q(" ",e.classGroup==null?null:e.classGroup.name,""),h(3),q(" ",e.staff==null?null:e.staff.name,""),h(3),q(" ",e.room,"")}}function E0(i,t){if(i&1&&(c(0,"div",92),k(1,w0,2,1,"h5",10)(2,O0,21,8,"div",93),m()),i&2){let e=t.$implicit,n=P(3);h(),y("ngIf",n.getSchedulesForDay(e).length>0),h(),y("ngForOf",n.getSchedulesForDay(e))}}function k0(i,t){if(i&1&&(c(0,"div",89)(1,"div",90),b(2,"i",66),c(3,"p"),p(4,"S\xE9lectionnez une classe ci-dessus pour voir la grille hebdomadaire interactive."),m()(),k(5,E0,3,2,"div",91),m()),i&2){let e=P(2);h(5),y("ngForOf",e.days)}}function T0(i,t){if(i&1){let e=U();c(0,"div")(1,"div",31)(2,"div",32)(3,"label"),b(4,"i",33),p(5," Filtrer par classe :"),m(),c(6,"select",34),se("ngModelChange",function(o){I(e);let r=P();return re(r.selectedClassFilter,o)||(r.selectedClassFilter=o),D(o)}),w("change",function(){I(e);let o=P();return D(o.onClassFilterChange())}),c(7,"option",35),p(8,"Toutes les classes"),m(),k(9,p0,2,2,"option",36),m()(),k(10,v0,46,9,"div",37)(11,P0,9,2,"div",38)(12,k0,6,1,"div",39),m()()}if(i&2){let e=P();h(6),oe("ngModel",e.selectedClassFilter),h(3),y("ngForOf",e.classes),h(),y("ngIf",e.displayModal),h(),y("ngIf",e.selectedClassFilter),h(),y("ngIf",!e.selectedClassFilter)}}var Lo=class i{constructor(t){this.adminService=t;this.activeSection="schedule";this.modulesToValidate=[{module:"D\xE9veloppement Web (DSI2)",chef:"M. Ali"},{module:"Base de Donn\xE9es (DSI3)",chef:"Mme. Salma"}];this.schedules=[];this.modules=[];this.classes=[];this.subjects=[];this.staffMembers=[];this.days=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"];this.types=["Cours","TD","TP"];this.newSchedule={day:"Lundi",startTime:"08:30",endTime:"10:00",module:"",subject:"",classGroup:"",staff:"",room:"",type:"Cours"};this.selectedClassFilter="";this.displayModal=!1;this.validationError="";this.modalData={day:"",startTime:"",endTime:""};this.timeSlots=[{start:"08:30",end:"10:00",label:"S1: 08:30 - 10:00"},{start:"10:10",end:"11:40",label:"S2: 10:10 - 11:40"},{start:"11:50",end:"13:20",label:"S3: 11:50 - 13:20"},{start:"13:30",end:"15:00",label:"S4: 13:30 - 15:00"},{start:"15:10",end:"16:40",label:"S5: 15:10 - 16:40"},{start:"16:40",end:"18:10",label:"S6: 16:40 - 18:10"}]}ngOnInit(){this.loadData()}loadData(){this.adminService.getUsers().subscribe(t=>{this.staffMembers=t.filter(e=>e.role==="staff")}),this.adminService.getModules().subscribe(t=>this.modules=t),this.adminService.getClasses().subscribe(t=>this.classes=t),this.adminService.getSubjects().subscribe(t=>this.subjects=t),this.adminService.getSchedules().subscribe(t=>{this.schedules=t})}onClassFilterChange(){this.selectedClassFilter&&(this.newSchedule.classGroup=this.selectedClassFilter)}openModal(t,e,n){if(!this.selectedClassFilter){alert("Veuillez d'abord s\xE9lectionner une classe.");return}this.modalData={day:t,startTime:e,endTime:n},this.newSchedule.day=t,this.newSchedule.startTime=e,this.newSchedule.endTime=n,this.newSchedule.classGroup=this.selectedClassFilter,this.validationError="",this.displayModal=!0}closeModal(){this.displayModal=!1,this.validationError="",this.newSchedule.staff="",this.newSchedule.room=""}validateSchedule(){try{if(!this.newSchedule.classGroup||!this.newSchedule.day||!this.newSchedule.startTime)return!1;let t=this.newSchedule.classGroup.toString();return this.schedules.find(o=>!o||!o.classGroup?!1:(typeof o.classGroup=="object"?o.classGroup._id?.toString():o.classGroup.toString())===t&&o.day===this.newSchedule.day&&o.startTime===this.newSchedule.startTime)?(this.validationError=`La classe ${this.getClassName(this.newSchedule.classGroup)} a d\xE9j\xE0 une s\xE9ance \xE0 ce cr\xE9neau.`,!1):this.schedules.find(o=>!o||!o.room||!this.newSchedule.room?!1:o.room.toLowerCase().trim()===this.newSchedule.room.toLowerCase().trim()&&o.day===this.newSchedule.day&&o.startTime===this.newSchedule.startTime)?(this.validationError=`La salle ${this.newSchedule.room} est d\xE9j\xE0 occup\xE9e \xE0 ce cr\xE9neau.`,!1):!0}catch(t){return console.error("Error in validateSchedule:",t),this.validationError="Erreur lors de la validation locale.",!1}}addSchedule(){console.log("Attempting to add schedule:",this.newSchedule);try{if(!this.newSchedule.classGroup||!this.newSchedule.staff||!this.newSchedule.room||!this.newSchedule.subject){console.warn("Missing required fields:",this.newSchedule),this.validationError="Veuillez remplir tous les champs obligatoires.";return}if(!this.validateSchedule()){console.warn("Frontend validation failed:",this.validationError);return}console.log("Sending request to server..."),this.adminService.createSchedule(this.newSchedule).subscribe({next:t=>{console.log("Schedule created successfully:",t),this.loadData(),this.closeModal()},error:t=>{console.error("Server error creating schedule:",t),t.status===409?this.validationError=t.error.message||"Conflit d\xE9tect\xE9 lors de la cr\xE9ation.":this.validationError="Erreur lors de la cr\xE9ation de la s\xE9ance: "+(t.error?.message||t.message)}})}catch(t){console.error("Runtime error in addSchedule:",t),this.validationError="Une erreur inattendue est survenue."}}deleteSchedule(t){confirm("Supprimer cette s\xE9ance ?")&&this.adminService.deleteSchedule(t).subscribe(()=>this.loadData())}getSchedulesForDay(t){let e=this.schedules.filter(n=>n.day===t);return this.selectedClassFilter&&(e=e.filter(n=>{let o=typeof n.classGroup=="object"?n.classGroup._id?.toString():n.classGroup.toString(),r=this.selectedClassFilter.toString();return String(o)===String(r)})),e.sort((n,o)=>n.startTime.localeCompare(o.startTime))}getSession(t,e){return this.selectedClassFilter?this.schedules.find(o=>{if(!o||!o.day||!o.startTime||!o.classGroup)return!1;let r=typeof o.classGroup=="object"?o.classGroup._id?.toString():o.classGroup.toString(),s=this.selectedClassFilter.toString();return o.day===t&&o.startTime?.trim()===e?.trim()&&String(r)===String(s)}):null}openAddModal(t,e,n){this.openModal(t,e,n)}getClassName(t){let e=this.classes.find(n=>n._id===t);return e?e.name:""}static{this.\u0275fac=function(e){return new(e||i)($(at))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-academic"]],decls:22,vars:9,consts:[[1,"academic-management"],[1,"welcome-header"],[1,"header-text"],[1,"tabs-container","shadow-pro"],[1,"tabs"],[1,"tab",3,"click"],[1,"fas","fa-marker"],[1,"fas","fa-file-signature"],[1,"fas","fa-calendar-week"],[1,"tab-content","custom-scrollbar"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"section-header"],[1,"info-block"],[1,"btn-primary-gradient"],[1,"fas","fa-check-double"],[1,"validation-grid"],["class","validation-card",4,"ngFor","ngForOf"],[1,"validation-card"],[1,"card-left"],[1,"module-icon"],[1,"fas","fa-book-open"],[1,"module-info"],[1,"card-actions"],[1,"btn-action","view"],[1,"fas","fa-eye"],[1,"btn-action","publish"],[1,"fas","fa-bullhorn"],[1,"empty-state"],[1,"icon-wrap"],[1,"fas","fa-clock"],[1,"schedule-editor"],[1,"filter-bar","glass-card"],[1,"fas","fa-filter"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","schedule-grid-container custom-scrollbar",4,"ngIf"],["class","schedule-list",4,"ngIf"],[3,"value"],[1,"modal-overlay",3,"click"],[1,"modal-card",3,"click"],[1,"modal-header"],[1,"fas","fa-calendar-plus"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","info-banner",4,"ngIf"],["class","error-banner",4,"ngIf"],[1,"form-fields"],[1,"field-group"],[1,"fas","fa-chalkboard-teacher"],[3,"ngModelChange","ngModel"],["value","","disabled",""],[1,"fas","fa-book"],[1,"fas","fa-door-open"],["type","text","placeholder","Ex: A102, B205...",3,"ngModelChange","ngModel"],[1,"fas","fa-tag"],[1,"type-selector"],["class","type-btn",3,"active","cours","td","tp","click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click","disabled"],[1,"fas","fa-check"],[1,"info-banner"],[1,"fas","fa-info-circle"],[1,"error-banner"],[1,"fas","fa-exclamation-triangle"],[1,"type-btn",3,"click"],[1,"schedule-grid-container","custom-scrollbar"],[1,"schedule-table"],[1,"time-col"],[4,"ngFor","ngForOf"],[1,"time-cell"],[1,"start"],[1,"end"],["class","session-cell",3,"empty","click",4,"ngFor","ngForOf"],[1,"session-cell",3,"click"],["class","session-block",3,"ngClass",4,"ngIf"],["class","add-placeholder",4,"ngIf"],[1,"session-block",3,"ngClass"],[1,"session-main"],[1,"module-name"],[1,"session-info"],[1,"info-item"],[1,"btn-delete-mini",3,"click"],[1,"add-placeholder"],[1,"fas","fa-plus"],[1,"schedule-list"],[1,"info-message"],["class","day-group",4,"ngFor","ngForOf"],[1,"day-group"],["class","session-card",4,"ngFor","ngForOf"],[1,"session-card"],[1,"time"],[1,"details"],[1,"main-info"],[1,"type-badge",3,"ngClass"],[1,"sub-info"],[1,"fas","fa-users"],[1,"fas","fa-map-marker-alt"],[1,"btn-delete",3,"click"],[1,"fas","fa-trash"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),p(4,"Services Acad\xE9miques"),m(),c(5,"p"),p(6,"Gestion centrale des notes, examens et emplois du temps."),m()()(),c(7,"div",3)(8,"div",4)(9,"button",5),w("click",function(){return n.activeSection="grades"}),b(10,"i",6),p(11," Gestion des Notes "),m(),c(12,"button",5),w("click",function(){return n.activeSection="exams"}),b(13,"i",7),p(14," Examens & DS "),m(),c(15,"button",5),w("click",function(){return n.activeSection="schedule"}),b(16,"i",8),p(17," Emploi du temps "),m()(),c(18,"div",9),k(19,m0,12,1,"div",10)(20,u0,7,0,"div",11)(21,T0,13,5,"div",10),m()()()),e&2&&(h(9),z("active",n.activeSection==="grades"),h(3),z("active",n.activeSection==="exams"),h(3),z("active",n.activeSection==="schedule"),h(4),y("ngIf",n.activeSection==="grades"),h(),y("ngIf",n.activeSection==="exams"),h(),y("ngIf",n.activeSection==="schedule"))},dependencies:[X,Ht,xe,le,Pn,We,yt,Mt,Be,Ct,Ue,xt],styles:['[_nghost-%COMP%]{--admin-navy: #0f172a;--admin-gold: #f59e0b;--admin-blue: #0055a4}.academic-management[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.welcome-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.welcome-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;color:var(--admin-navy);margin:0}.welcome-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:.5rem 0 0}.tabs-container[_ngcontent-%COMP%]{background:#fff;border-radius:24px;overflow:hidden;border:1px solid #f1f5f9;box-shadow:0 10px 40px #00000005}.tabs[_ngcontent-%COMP%]{display:flex;background:#fcfdfe;border-bottom:1px solid #f1f5f9;padding:0 2rem}.tab[_ngcontent-%COMP%]{padding:1.5rem 2.5rem;border:none;background:none;font-weight:800;font-size:.9rem;cursor:pointer;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;display:flex;align-items:center;gap:.8rem;position:relative;transition:all .3s}.tab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.tab[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:3px;background:var(--admin-blue);transition:width .3s cubic-bezier(.4,0,.2,1)}.tab[_ngcontent-%COMP%]:hover{color:var(--admin-navy)}.tab.active[_ngcontent-%COMP%]{color:var(--admin-blue)}.tab.active[_ngcontent-%COMP%]:after{width:100%}.tab.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--admin-gold)}.tab-content[_ngcontent-%COMP%]{padding:3rem;min-height:400px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;color:var(--admin-navy);margin:0}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin-top:.4rem;font-weight:600}.validation-grid[_ngcontent-%COMP%]{display:grid;gap:1.2rem}.validation-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:#f8fafc;border-radius:18px;border:1px solid #f1f5f9;transition:all .3s}.validation-card[_ngcontent-%COMP%]:hover{background:#fff;border-color:var(--admin-gold);transform:scale(1.01);box-shadow:0 10px 20px #00000008}.validation-card[_ngcontent-%COMP%]   .card-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.validation-card[_ngcontent-%COMP%]   .module-icon[_ngcontent-%COMP%]{width:45px;height:45px;background:#fff;color:var(--admin-blue);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;box-shadow:0 4px 10px #00000008}.validation-card[_ngcontent-%COMP%]   .module-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.1rem;color:var(--admin-navy);margin-bottom:.1rem}.validation-card[_ngcontent-%COMP%]   .module-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;font-weight:600}.validation-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.8rem}.btn-action[_ngcontent-%COMP%]{padding:.7rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:.6rem;transition:all .2s;border:1px solid #e2e8f0;background:#fff;color:#64748b}.btn-action[_ngcontent-%COMP%]:hover{border-color:var(--admin-blue);color:var(--admin-blue);background:#f0f7ff}.btn-action.publish[_ngcontent-%COMP%]:hover{border-color:#10b981;color:#10b981;background:#ecfdf5}.btn-primary-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--admin-blue) 0%,#004488 100%);color:#fff;border:none;padding:.9rem 1.8rem;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:0 8px 15px #0055a433}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172ab3;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:90%;max-width:500px;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.4,0,.2,1);overflow:hidden}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:1px solid #f1f5f9;background:linear-gradient(135deg,#f8fafc,#fff)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:800;color:var(--admin-navy);display:flex;align-items:center;gap:.75rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--admin-blue)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:#f1f5f9;border:none;width:36px;height:36px;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#64748b;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:2rem}.info-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:1px solid #bfdbfe;border-radius:12px;padding:1rem 1.25rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;color:#1e40af;font-weight:600}.info-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.error-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);border:1px solid #fecaca;border-radius:12px;padding:1rem 1.25rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;color:#dc2626;font-weight:600;animation:_ngcontent-%COMP%_shake .4s ease-in-out}.error-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:700;color:var(--admin-navy);margin-bottom:.75rem;font-size:.95rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--admin-blue);width:16px}.field-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .field-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e2e8f0;border-radius:12px;font-size:.95rem;font-weight:500;color:#334155;transition:all .2s}[_ngcontent-%COMP%]:is(.field-group select,.field-group input):focus{outline:none;border-color:var(--admin-blue);box-shadow:0 0 0 4px #0055a41a}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.75rem}.type-btn[_ngcontent-%COMP%]{flex:1;padding:.875rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;font-weight:700;font-size:.9rem;cursor:pointer;transition:all .2s;color:#64748b}.type-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;transform:translateY(-2px)}.type-btn.active[_ngcontent-%COMP%]{color:#fff;border-color:transparent;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.type-btn.active.cours[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--admin-blue),#003366)}.type-btn.active.td[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.type-btn.active.tp[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #f1f5f9;background:#f8fafc}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.5rem;border-radius:12px;font-weight:700;font-size:.95rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e8f0;color:#64748b}.btn-cancel[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:#f8fafc}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--admin-blue),#003366);border:none;color:#fff;box-shadow:0 4px 12px #0055a44d}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0055a44d}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem}.empty-state[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{font-size:4rem;color:#f1f5f9;margin-bottom:2rem}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;color:#94a3b8}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1;font-weight:600}.schedule-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.filter-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;background:#fff;border-radius:12px;border:1px solid #e2e8f0}.filter-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:$admin-navy}.filter-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:$admin-blue;margin-right:.5rem}.filter-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border-radius:8px;border:1px solid #cbd5e1;font-weight:600;color:#334155}.schedule-form[_ngcontent-%COMP%]{padding:1.5rem;background:#f8fafc;border-radius:16px;border:1px solid #e2e8f0}.schedule-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;color:$admin-navy;font-size:1.1rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;align-items:center}.form-grid[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.6rem;border-radius:8px;border:1px solid #cbd5e1;width:100%}.time-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.btn-add[_ngcontent-%COMP%]{background:$admin-blue;color:#fff;border:none;padding:.6rem 1.2rem;border-radius:8px;font-weight:700;cursor:pointer;white-space:nowrap}.btn-add[_ngcontent-%COMP%]:hover{background:$admin-navy}.schedule-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.day-group[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;color:$admin-blue;margin:0 0 1rem;border-bottom:2px solid #e2e8f0;display:inline-block;padding-bottom:.3rem}.schedule-grid-container[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:1rem;background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000008;border:1px solid #f1f5f9;margin-top:1.5rem}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;min-width:900px}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.2rem;text-align:center;font-weight:800;color:#0f172a;border-bottom:1px solid #e2e8f0;background:#f8fafc;position:sticky;top:0;z-index:10;font-size:.85rem;letter-spacing:.5px}.schedule-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;border-right:1px solid #f1f5f9;vertical-align:top;height:140px;transition:all .2s;position:relative}.schedule-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.time-cell[_ngcontent-%COMP%]{width:100px;text-align:center;background:#fff;font-weight:700;color:#64748b;padding:1rem;display:flex;flex-direction:column;justify-content:center;gap:.5rem;border-right:2px solid #e2e8f0!important;font-family:Space Mono,monospace;font-size:.85rem}.session-cell[_ngcontent-%COMP%]{padding:.5rem}.session-cell.empty[_ngcontent-%COMP%]{background:#fff}.session-cell.empty[_ngcontent-%COMP%]:hover{background:#f8fafc;cursor:pointer}.session-cell.empty[_ngcontent-%COMP%]:hover   .add-placeholder[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.add-placeholder[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:$admin-blue;font-size:1.5rem;background:#0055a40d;transition:all .3s cubic-bezier(.4,0,.2,1);transform:scale(.9);pointer-events:none}.session-block[_ngcontent-%COMP%]{height:calc(100% - 1rem);border-radius:12px;padding:.8rem;color:#fff;box-shadow:0 4px 15px #0000001a;display:flex;flex-direction:column;justify-content:center;gap:.4rem;transition:all .3s cubic-bezier(.4,0,.2,1);border:2px solid rgba(255,255,255,.15);cursor:pointer;position:relative;overflow:hidden}.session-block[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 25px #0003;z-index:5}.session-block.cours[_ngcontent-%COMP%]{background:#0055a4;border-left:5px solid #f59e0b}.session-block.td[_ngcontent-%COMP%]{background:#475569;border-left:5px solid #94a3b8}.session-block.tp[_ngcontent-%COMP%]{background:#10b981;border-left:5px solid #f59e0b}.session-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3rem}.module-name[_ngcontent-%COMP%]{font-weight:900;font-size:.85rem;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.btn-delete-mini[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:#0003;border:none;color:#fff;width:22px;height:22px;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.7rem;transition:all .2s;opacity:0}.btn-delete-mini[_ngcontent-%COMP%]:hover{background:#ef4444;opacity:1}.session-block[_ngcontent-%COMP%]:hover   .btn-delete-mini[_ngcontent-%COMP%]{opacity:.8}.session-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;font-weight:700;color:#ffffffe6}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:14px;text-align:center;opacity:.8;font-size:.7rem}']})}};function A0(i,t){i&1&&(c(0,"div",40),b(1,"div",41),m())}function I0(i,t){i&1&&(c(0,"div",42),b(1,"i",43),c(2,"span"),p(3,"Aucun d\xE9partement"),m()())}function D0(i,t){if(i&1&&(c(0,"span",52),b(1,"i",53),p(2),m()),i&2){let e=P().$implicit;h(2),q(" ",(e.headOfDepartment==null?null:e.headOfDepartment.name)||"Chef assign\xE9"," ")}}function F0(i,t){if(i&1){let e=U();c(0,"div",54)(1,"button",55),w("click",function(){I(e);let o=P().$implicit,r=P();return D(r.startEdit(o))}),b(2,"i",56),m(),c(3,"button",57),w("click",function(){I(e);let o=P().$implicit,r=P();return D(r.deleteDepartment(o._id))}),b(4,"i",58),m()()}if(i&2){let e=P(2);h(3),y("disabled",e.loading.delete)}}function L0(i,t){if(i&1&&(c(0,"option",62),p(1),m()),i&2){let e=t.$implicit;y("ngValue",e._id),h(),F(e.name)}}function N0(i,t){if(i&1){let e=U();c(0,"div",59)(1,"input",60),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.editDeptName,o)||(r.editDeptName=o),D(o)}),m(),c(2,"select",61),se("ngModelChange",function(o){I(e);let r=P(2);return re(r.editDeptHead,o)||(r.editDeptHead=o),D(o)}),c(3,"option",62),p(4,"-- S\xE9lectionner Chef --"),m(),k(5,L0,2,2,"option",63),m(),c(6,"div",64)(7,"button",65),w("click",function(){I(e);let o=P().$implicit,r=P();return D(r.saveDept(o._id))}),p(8,"OK"),m(),c(9,"button",66),w("click",function(){I(e);let o=P(2);return D(o.cancelEdit())}),p(10,"X"),m()()()}if(i&2){let e=P(2);h(),oe("ngModel",e.editDeptName),h(),oe("ngModel",e.editDeptHead),h(),y("ngValue",null),h(2),y("ngForOf",e.potentialHeads)}}function R0(i,t){if(i&1&&(c(0,"div",44)(1,"div",45)(2,"span",46),p(3),m(),c(4,"div",47)(5,"span",48),p(6),m(),k(7,D0,3,1,"span",49),m()(),k(8,F0,5,1,"div",50)(9,N0,11,4,"div",51),m()),i&2){let e=t.$implicit,n=t.index,o=P();Oe("animation-delay",n*.05+"s"),h(3),F(e.code||"DEPT"),h(3),F(e.name),h(),y("ngIf",e.headOfDepartment),h(),y("ngIf",o.editingDeptId!==e._id),h(),y("ngIf",o.editingDeptId===e._id)}}function z0(i,t){i&1&&(c(0,"span"),p(1,"AJOUTER"),m())}function V0(i,t){i&1&&b(0,"i",67)}function j0(i,t){i&1&&(c(0,"div",40),b(1,"div",41),m())}function B0(i,t){i&1&&(c(0,"div",42),b(1,"i",68),c(2,"span"),p(3,"Aucune classe"),m()())}function U0(i,t){if(i&1){let e=U();c(0,"div",44)(1,"div",45)(2,"span",69),p(3),m(),c(4,"span",48),p(5),m()(),c(6,"button",57),w("click",function(){let o=I(e).$implicit,r=P();return D(r.deleteClass(o._id))}),b(7,"i",58),m()()}if(i&2){let e=t.$implicit,n=t.index,o=P();Oe("animation-delay",n*.05+"s"),h(3),F(((e.department==null?null:e.department.name)||"GEN").substring(0,3)),h(2),F(e.name),h(),y("disabled",o.loading.delete)}}function W0(i,t){if(i&1&&(c(0,"option",70),p(1),m()),i&2){let e=t.$implicit;y("value",e._id),h(),F(e.name)}}function q0(i,t){i&1&&(c(0,"span"),p(1,"CR\xC9ER LA CLASSE"),m())}function H0(i,t){i&1&&b(0,"i",67)}function $0(i,t){i&1&&(c(0,"div",42),b(1,"i",71),c(2,"span"),p(3,"Catalogue vide"),m()())}function G0(i,t){if(i&1){let e=U();c(0,"div",44)(1,"div",45)(2,"span",72),p(3),m(),c(4,"span",73),p(5),m()(),c(6,"button",74),w("click",function(){let o=I(e).$implicit,r=P();return D(r.deleteSubject(o._id))}),b(7,"i",58),m()()}if(i&2){let e=t.$implicit,n=t.index;Oe("animation-delay",n*.05+"s"),h(3),F(e.code||"MOD"),h(2),F(e.name)}}var No=class i{constructor(t,e){this.adminService=t;this.cdr=e;this.departments=[];this.classes=[];this.potentialHeads=[];this.editingDeptId=null;this.editDeptName="";this.editDeptHead=null;this.newDeptName="";this.newClassName="";this.newClassDept="";this.subjects=[];this.newSubject={name:"",code:""};this.totalModules=342;this.completionPercentage=85;this.modulesByDept={dep1:150,dep2:120};this.loading={departments:!1,classes:!1,addDept:!1,addClass:!1,delete:!1};this.subscriptions=new sa}ngOnInit(){this.loadData()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadData(){this.loading.departments=!0,this.loading.classes=!0,this.cdr.markForCheck();let t=ca({departments:this.adminService.getDepartments(),classes:this.adminService.getClasses(),subjects:this.adminService.getSubjects(),users:this.adminService.getUsers()}).pipe(Te(()=>{this.loading.departments=!1,this.loading.classes=!1,this.cdr.markForCheck()})).subscribe({next:({departments:e,classes:n,subjects:o,users:r})=>{this.departments=e,this.classes=n,this.subjects=o,this.potentialHeads=r.filter(s=>["staff","admin","chef"].includes(s.role)),this.cdr.markForCheck()},error:e=>{console.error("Erreur lors du chargement des donn\xE9es:",e)}});this.subscriptions.add(t)}addDepartment(){if(!this.newDeptName.trim())return;this.loading.addDept=!0;let t={name:this.newDeptName.trim(),code:this.generateDeptCode(this.newDeptName)},e=this.adminService.createDepartment(t).pipe(Te(()=>{this.loading.addDept=!1,this.cdr.markForCheck()})).subscribe({next:()=>{this.newDeptName="",this.loadData()},error:n=>{console.error("Erreur lors de l'ajout du d\xE9partement:",n)}});this.subscriptions.add(e)}deleteDepartment(t){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce d\xE9partement ?"))return;this.loading.delete=!0;let e=this.adminService.deleteDepartment(t).pipe(Te(()=>{this.loading.delete=!1,this.cdr.markForCheck()})).subscribe({next:()=>{this.loadData()},error:n=>{console.error("Erreur lors de la suppression:",n)}});this.subscriptions.add(e),this.subscriptions.add(e)}startEdit(t){this.editingDeptId=t._id,this.editDeptName=t.name;let e=t.headOfDepartment;this.editDeptHead=e?e._id||e:null}cancelEdit(){this.editingDeptId=null,this.editDeptName="",this.editDeptHead=null}saveDept(t){this.editDeptName.trim()&&this.adminService.updateDepartment(t,{name:this.editDeptName,headOfDepartment:this.editDeptHead}).subscribe({next:()=>{this.loadData(),this.cancelEdit()},error:e=>console.error("Error updating dept",e)})}addClass(){if(!this.newClassName.trim()||!this.newClassDept)return;this.loading.addClass=!0;let t=this.newClassName.trim().toUpperCase(),e=1,n="General",o=t.match(/\d/);if(o){e=parseInt(o[0],10);let a=t.indexOf(o[0]);a>0&&(n=t.substring(0,a).replace(/[^A-Z]/g,""))}else n=t.substring(0,3);n||(n="GEN");let r={name:this.newClassName.trim(),department:this.newClassDept,level:e,section:n},s=this.adminService.createClass(r).pipe(Te(()=>{this.loading.addClass=!1,this.cdr.markForCheck()})).subscribe({next:()=>{this.newClassName="",this.loadData()},error:a=>{console.error("Erreur lors de l'ajout de la classe:",a),alert("Erreur: impossible d'ajouter la classe. V\xE9rifiez qu'elle n'existe pas d\xE9j\xE0.")}});this.subscriptions.add(s)}deleteClass(t){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette classe ?"))return;this.loading.delete=!0;let e=this.adminService.deleteClass(t).pipe(Te(()=>{this.loading.delete=!1,this.cdr.markForCheck()})).subscribe({next:()=>{this.loadData()},error:n=>{console.error("Erreur lors de la suppression:",n)}});this.subscriptions.add(e)}generateDeptCode(t){let e=t.toUpperCase().split(" ");return e.length===1?e[0].substring(0,4):e.map(n=>n[0]).join("").substring(0,4)}addSubject(){if(!this.newSubject.name.trim()){alert("Veuillez entrer un nom de mati\xE8re.");return}this.newSubject.code=this.newSubject.name.split(" ").map(t=>t.substring(0,3).toUpperCase()).join("_"),this.adminService.createSubject(this.newSubject).subscribe({next:()=>{this.loadData(),this.newSubject={name:"",code:""}},error:t=>{console.error("Erreur:",t),alert("Erreur lors de l'ajout.")}})}deleteSubject(t){confirm("Supprimer cette mati\xE8re ?")&&this.adminService.deleteSubject(t).subscribe(()=>this.loadData())}trackById(t,e){return e._id||t}static{this.\u0275fac=function(e){return new(e||i)($(at),$(bt))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-structure"]],decls:89,vars:31,consts:[[1,"structure-management","animate-on-scroll"],[1,"welcome-header-modern","mb-5"],[1,"header-text-group"],[1,"title-with-icon"],[1,"fas","fa-sitemap","icon-gradient"],[1,"header-stats-badges"],[1,"stat-badge-mini","shadow-sm"],[1,"label"],[1,"value"],[1,"structure-grid-pro"],[1,"smart-card-premium"],[1,"card-header-pro"],[1,"icon-circle","navy"],[1,"fas","fa-university"],[1,"header-content"],[1,"card-body-pro"],[1,"list-container-pro","custom-scrollbar"],["class","loading-state-mini",4,"ngIf"],["class","empty-state-mini",4,"ngIf"],["class","list-item-pro",3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-section-pro"],[1,"input-wrapper"],[1,"fas","fa-plus"],["type","text","placeholder","Ajouter un d\xE9partement...",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-submit-pro",3,"click","disabled"],[4,"ngIf"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],[1,"icon-circle","blue"],[1,"fas","fa-users-class"],[1,"add-section-pro","vertical"],[1,"fas","fa-users"],["type","text","placeholder","Nom de la classe...",3,"ngModelChange","ngModel","disabled"],[1,"fas","fa-building"],[3,"ngModelChange","ngModel","disabled"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"icon-circle","purple"],[1,"fas","fa-book"],["type","text","placeholder","Nouvelle mati\xE8re...",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-submit-pro","purple",3,"click","disabled"],[1,"loading-state-mini"],[1,"spinner-mini"],[1,"empty-state-mini"],[1,"fas","fa-folder-open"],[1,"list-item-pro"],[1,"item-name-group"],[1,"dept-code"],[1,"d-flex","flex-column"],[1,"name"],["class","small text-muted",4,"ngIf"],["class","actions-group",4,"ngIf"],["class","edit-mode-group",4,"ngIf"],[1,"small","text-muted"],[1,"fas","fa-user-tie","me-1"],[1,"actions-group"],["title","Modifier",1,"btn-edit-pro",3,"click"],[1,"fas","fa-edit"],["title","Supprimer",1,"btn-delete-pro",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"edit-mode-group"],["type","text","placeholder","Nom",1,"form-control-sm","mb-2",3,"ngModelChange","ngModel"],[1,"form-select-sm","mb-2",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","gap-2"],[1,"btn-save-sm",3,"click"],[1,"btn-cancel-sm",3,"click"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-user-slash"],[1,"badge-dept"],[3,"value"],[1,"fas","fa-book-open"],[1,"badge-code"],[1,"name","text-truncate",2,"max-width","200px"],["title","Supprimer",1,"btn-delete-pro",3,"click"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"i",4),c(5,"h3"),p(6,"Architecture de l'ISET"),m()(),c(7,"p"),p(8,"Supervision et organisation des entit\xE9s acad\xE9miques, classes et ressources p\xE9dagogiques."),m()(),c(9,"div",5)(10,"div",6)(11,"span",7),p(12,"D\xE9partements"),m(),c(13,"span",8),p(14),m()(),c(15,"div",6)(16,"span",7),p(17,"Classes"),m(),c(18,"span",8),p(19),m()()()(),c(20,"div",9)(21,"div",10)(22,"div",11)(23,"div",12),b(24,"i",13),m(),c(25,"div",14)(26,"h4"),p(27,"D\xC9PARTEMENTS"),m(),c(28,"p"),p(29,"Unit\xE9s structurelles"),m()()(),c(30,"div",15)(31,"div",16),k(32,A0,2,0,"div",17)(33,I0,4,0,"div",18)(34,R0,10,7,"div",19),m(),c(35,"div",20)(36,"div",21),b(37,"i",22),c(38,"input",23),se("ngModelChange",function(r){return re(n.newDeptName,r)||(n.newDeptName=r),r}),w("keyup.enter",function(){return n.addDepartment()}),m()(),c(39,"button",24),w("click",function(){return n.addDepartment()}),k(40,z0,2,0,"span",25)(41,V0,1,0,"i",26),m()()()(),c(42,"div",10)(43,"div",11)(44,"div",27),b(45,"i",28),m(),c(46,"div",14)(47,"h4"),p(48,"CLASSES & GROUPES"),m(),c(49,"p"),p(50,"Flux & Inscriptions"),m()()(),c(51,"div",15)(52,"div",16),k(53,j0,2,0,"div",17)(54,B0,4,0,"div",18)(55,U0,8,5,"div",19),m(),c(56,"div",29)(57,"div",21),b(58,"i",30),c(59,"input",31),se("ngModelChange",function(r){return re(n.newClassName,r)||(n.newClassName=r),r}),m()(),c(60,"div",21),b(61,"i",32),c(62,"select",33),se("ngModelChange",function(r){return re(n.newClassDept,r)||(n.newClassDept=r),r}),c(63,"option",34),p(64,"D\xE9partement..."),m(),k(65,W0,2,2,"option",35),m()(),c(66,"button",24),w("click",function(){return n.addClass()}),k(67,q0,2,0,"span",25)(68,H0,1,0,"i",26),m()()()(),c(69,"div",10)(70,"div",11)(71,"div",36),b(72,"i",37),m(),c(73,"div",14)(74,"h4"),p(75,"MATI\xC8RES & MODULES"),m(),c(76,"p"),p(77,"Catalogue de formation"),m()()(),c(78,"div",15)(79,"div",16),k(80,$0,4,0,"div",18)(81,G0,8,4,"div",19),m(),c(82,"div",20)(83,"div",21),b(84,"i",22),c(85,"input",38),se("ngModelChange",function(r){return re(n.newSubject.name,r)||(n.newSubject.name=r),r}),w("keyup.enter",function(){return n.addSubject()}),m()(),c(86,"button",39),w("click",function(){return n.addSubject()}),c(87,"span"),p(88,"AJOUTER"),m()()()()()()()),e&2&&(h(14),F(n.departments.length),h(5),F(n.classes.length),h(12),z("loading",n.loading.departments),h(),y("ngIf",n.loading.departments),h(),y("ngIf",!n.loading.departments&&n.departments.length===0),h(),y("ngForOf",n.departments)("ngForTrackBy",n.trackById),h(4),oe("ngModel",n.newDeptName),h(),y("disabled",!n.newDeptName.trim()||n.loading.addDept),h(),y("ngIf",!n.loading.addDept),h(),y("ngIf",n.loading.addDept),h(11),z("loading",n.loading.classes),h(),y("ngIf",n.loading.classes),h(),y("ngIf",!n.loading.classes&&n.classes.length===0),h(),y("ngForOf",n.classes)("ngForTrackBy",n.trackById),h(4),oe("ngModel",n.newClassName),y("disabled",n.departments.length===0),h(3),oe("ngModel",n.newClassDept),y("disabled",n.departments.length===0),h(3),y("ngForOf",n.departments),h(),y("disabled",!n.newClassName.trim()||!n.newClassDept||n.loading.addClass),h(),y("ngIf",!n.loading.addClass),h(),y("ngIf",n.loading.addClass),h(12),y("ngIf",n.subjects.length===0),h(),y("ngForOf",n.subjects)("ngForTrackBy",n.trackById),h(4),oe("ngModel",n.newSubject.name),h(),y("disabled",!n.newSubject.name.trim()))},dependencies:[X,xe,le,We,yt,Mt,Be,Ct,Ue,xt,pe],styles:[".structure-management[_ngcontent-%COMP%]{animation:fadeIn .8s cubic-bezier(.16,1,.3,1)}.welcome-header-modern[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:2rem}.title-with-icon[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;margin-bottom:.5rem}.icon-gradient[_ngcontent-%COMP%]{font-size:2.2rem;background:linear-gradient(135deg,#0055a4,#c5a021);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.title-with-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;color:#0f172a;margin:0;letter-spacing:-1px}.header-text-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0;font-weight:500}.header-stats-badges[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.stat-badge-mini[_ngcontent-%COMP%]{background:#fff;padding:.8rem 1.5rem;border-radius:16px;display:flex;flex-direction:column;align-items:center;min-width:120px;border:1px solid #f1f5f9}.stat-badge-mini[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:1px}.stat-badge-mini[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;color:#0055a4}.structure-grid-pro[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(380px,1fr));gap:2.5rem}.smart-card-premium[_ngcontent-%COMP%]{background:#fff;border-radius:30px;padding:2rem;box-shadow:0 10px 30px #00000008;border:1px solid #f1f5f9;display:flex;flex-direction:column;height:580px;transition:all .4s cubic-bezier(.16,1,.3,1)}.smart-card-premium[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 25px 50px #00000014}.card-header-pro[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;margin-bottom:2rem}.card-header-pro[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff;box-shadow:0 8px 15px #0000001a}.card-header-pro[_ngcontent-%COMP%]   .icon-circle.navy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#334155)}.card-header-pro[_ngcontent-%COMP%]   .icon-circle.blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#3b82f6)}.card-header-pro[_ngcontent-%COMP%]   .icon-circle.purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#a855f7)}.card-header-pro[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;color:#0f172a;margin:0;letter-spacing:.5px}.card-header-pro[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#94a3b8;margin:0;font-weight:600}.card-body-pro[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}.list-container-pro[_ngcontent-%COMP%]{flex:1;overflow-y:auto;margin-bottom:1.5rem;padding-right:.8rem}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.2rem;background:#f8fafc;border-radius:14px;margin-bottom:.8rem;border:1px solid transparent;transition:all .3s;animation:_ngcontent-%COMP%_fadeInRow .5s ease both}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]:hover{background:#fff;border-color:#0055a4;transform:translate(8px);box-shadow:0 4px 15px #0000000a}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .item-name-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .item-name-group[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:#0f172a}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .dept-code[_ngcontent-%COMP%], .list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .badge-dept[_ngcontent-%COMP%], .list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .badge-code[_ngcontent-%COMP%]{font-size:.65rem;font-weight:900;padding:.3rem .6rem;border-radius:6px;text-transform:uppercase;background:#0055a41a;color:#0055a4}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .btn-delete-pro[_ngcontent-%COMP%]{background:none;border:none;color:#94a3b8;font-size:1rem;cursor:pointer;transition:all .2s}.list-container-pro[_ngcontent-%COMP%]   .list-item-pro[_ngcontent-%COMP%]   .btn-delete-pro[_ngcontent-%COMP%]:hover{color:#ef4444;transform:scale(1.2)}@keyframes _ngcontent-%COMP%_fadeInRow{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}.add-section-pro[_ngcontent-%COMP%]{display:flex;gap:.8rem}.add-section-pro.vertical[_ngcontent-%COMP%]{flex-direction:column}.add-section-pro[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1}.add-section-pro[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1.2rem;top:50%;transform:translateY(-50%);color:#94a3b8;font-size:.9rem}.add-section-pro[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-section-pro[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.9rem 1rem .9rem 2.8rem;border:2px solid #f1f5f9;border-radius:14px;background:#f8fafc;font-weight:600;color:#0f172a;transition:all .3s;appearance:none}[_ngcontent-%COMP%]:is(.add-section-pro .input-wrapper input,.add-section-pro .input-wrapper select):focus{outline:none;border-color:#0055a4;background:#fff;box-shadow:0 0 0 4px #0055a40d}.add-section-pro[_ngcontent-%COMP%]   .btn-submit-pro[_ngcontent-%COMP%]{background:#0f172a;color:#fff;border:none;padding:.9rem 1.5rem;border-radius:14px;font-weight:800;font-size:.8rem;letter-spacing:1px;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #0f172a1a}.add-section-pro[_ngcontent-%COMP%]   .btn-submit-pro.purple[_ngcontent-%COMP%]{background:#7c3aed}.add-section-pro[_ngcontent-%COMP%]   .btn-submit-pro.purple[_ngcontent-%COMP%]:hover{background:#6d28d9}.add-section-pro[_ngcontent-%COMP%]   .btn-submit-pro[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 20px #0f172a33;filter:brightness(1.1)}.add-section-pro[_ngcontent-%COMP%]   .btn-submit-pro[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loading-state-mini[_ngcontent-%COMP%], .empty-state-mini[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#94a3b8;gap:1rem}:is(.loading-state-mini[_ngcontent-%COMP%], .empty-state-mini[_ngcontent-%COMP%])   i[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.5}.spinner-mini[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #f1f5f9;border-top-color:#0055a4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px;transition:all .2s}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cbd5e1}.btn-edit-pro[_ngcontent-%COMP%]{background:none;border:none;color:#94a3b8;font-size:1rem;cursor:pointer;margin-right:.5rem;transition:all .2s}.btn-edit-pro[_ngcontent-%COMP%]:hover{color:#f59e0b;transform:scale(1.2)}.edit-mode-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-left:1rem}.edit-mode-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-mode-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:6px;padding:4px 8px;width:100%}.edit-mode-group[_ngcontent-%COMP%]   .btn-save-sm[_ngcontent-%COMP%]{background:#10b981;color:#fff;border:none;border-radius:4px;padding:2px 8px;font-size:.7rem;cursor:pointer}.edit-mode-group[_ngcontent-%COMP%]   .btn-cancel-sm[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;border-radius:4px;padding:2px 8px;font-size:.7rem;cursor:pointer}"],changeDetection:0})}};var Y0=(i,t,e)=>({"fa-calendar":i,"fa-file-invoice":t,"fa-newspaper":e});function K0(i,t){if(i&1&&b(0,"img",44),i&2){let e=P().$implicit;y("src",e.image,Ve)("alt",e.title)}}function Q0(i,t){i&1&&b(0,"i",45)}function X0(i,t){if(i&1&&(c(0,"small"),p(1),ee(2,"date"),m()),i&2){let e=P().$implicit;h(),q("D\xE9but: ",ct(2,1,e.startDate,"dd/MM"),"")}}function J0(i,t){if(i&1){let e=U();c(0,"tr")(1,"td",28)(2,"div",29),k(3,K0,1,2,"img",30)(4,Q0,1,0,"i",31),m()(),c(5,"td")(6,"div",32)(7,"span",33),p(8),m(),c(9,"span",34),p(10),m()()(),c(11,"td")(12,"span",35),b(13,"i",36),p(14),m()(),c(15,"td")(16,"span",37),p(17),m()(),c(18,"td")(19,"div",38)(20,"span"),p(21),ee(22,"date"),m(),k(23,X0,3,4,"small",26),m()(),c(24,"td",24)(25,"div",39)(26,"button",40),w("click",function(){let o=I(e).$implicit,r=P();return D(r.openEditModal(o))}),b(27,"i",41),m(),c(28,"button",42),w("click",function(){let o=I(e).$implicit,r=P();return D(r.deleteItem(o._id))}),b(29,"i",43),m()()()()}if(i&2){let e=t.$implicit,n=P();h(2),z("no-img",!e.image),h(),y("ngIf",e.image),h(),y("ngIf",!e.image),h(4),F(e.title),h(2),F(e.description||e.summary||"Pas de description"),h(2),y("ngClass",e.type),h(),y("ngClass",xa(16,Y0,e.type==="event",e.type==="tender",e.type==="news")),h(),q(" ",e.type," "),h(2),y("ngClass",e.status),h(),q(" ",n.getStatusLabel(e.status)," "),h(4),F(ct(22,13,e.publishDate,"dd MMM yyyy")),h(2),y("ngIf",e.type==="event")}}function Z0(i,t){i&1&&(c(0,"tr")(1,"td",46),b(2,"i",47),c(3,"p"),p(4,"Aucune annonce trouv\xE9e pour ce filtre."),m()()())}function e_(i,t){i&1&&(c(0,"option",80),p(1,"Annul\xE9"),m())}function t_(i,t){if(i&1&&(c(0,"div",81),b(1,"img",82),m()),i&2){let e,n=P(2);h(),y("src",(e=n.announcementForm.get("image"))==null?null:e.value,Ve)}}function n_(i,t){i&1&&(c(0,"div",83)(1,"h5",57)(2,"span"),p(3,"Infos Manifestation"),m()(),c(4,"div",58)(5,"div",61)(6,"label"),p(7,"Type de manifestation"),m(),c(8,"select",84)(9,"option",85),p(10,"Conf\xE9rence"),m(),c(11,"option",86),p(12,"S\xE9minaire"),m(),c(13,"option",87),p(14,"Workshop"),m(),c(15,"option",88),p(16,"Journ\xE9e Scientifique"),m()()(),c(17,"div",61)(18,"label"),p(19,"Organisateur"),m(),b(20,"input",89),m(),c(21,"div",61)(22,"label"),p(23,"Date D\xE9but"),m(),b(24,"input",90),m(),c(25,"div",61)(26,"label"),p(27,"Heure"),m(),b(28,"input",91),m(),c(29,"div",59)(30,"label"),p(31,"Lieu"),m(),b(32,"input",92),m(),c(33,"div",59)(34,"label"),p(35,"Description (Aper\xE7u)"),m(),b(36,"textarea",93),m()()())}function i_(i,t){i&1&&(c(0,"div",83)(1,"h5",57)(2,"span"),p(3,"Infos Appels d'Offre"),m()(),c(4,"div",58)(5,"div",61)(6,"label"),p(7,"R\xE9f\xE9rence"),m(),b(8,"input",94),m(),c(9,"div",61)(10,"label"),p(11,"Organisme"),m(),b(12,"input",95),m(),c(13,"div",61)(14,"label"),p(15,"Date Limite"),m(),b(16,"input",96),m(),c(17,"div",59)(18,"label"),p(19,"Conditions"),m(),b(20,"textarea",97),m()()())}function o_(i,t){i&1&&(c(0,"div",83)(1,"h5",57)(2,"span"),p(3,"Contenu de l'Actualit\xE9"),m()(),c(4,"div",58)(5,"div",59)(6,"label"),p(7,"R\xE9sum\xE9 court"),m(),b(8,"textarea",98),m(),c(9,"div",59)(10,"label"),p(11,"Contenu d\xE9taill\xE9"),m(),b(12,"textarea",99),m()()())}function r_(i,t){if(i&1){let e=U();c(0,"div",48)(1,"div",49)(2,"div",50)(3,"div",51),b(4,"i",52),c(5,"div")(6,"h4"),p(7),m(),c(8,"p"),p(9,"Remplissez les informations ci-dessous"),m()()(),c(10,"button",53),w("click",function(){I(e);let o=P();return D(o.closeModal())}),p(11,"\xD7"),m()(),c(12,"form",54),w("ngSubmit",function(){I(e);let o=P();return D(o.onSubmit())}),c(13,"div",55)(14,"div",56)(15,"h5",57)(16,"span"),p(17,"Configuration G\xE9n\xE9rale"),m()(),c(18,"div",58)(19,"div",59)(20,"label"),p(21,"Titre de l'annonce"),m(),b(22,"input",60),m(),c(23,"div",61)(24,"label"),p(25,"Type de contenu"),m(),c(26,"select",62)(27,"option",63),p(28,"Manifestation"),m(),c(29,"option",64),p(30,"Appel d'Offre"),m(),c(31,"option",65),p(32,"Actualit\xE9 / Nouveaut\xE9"),m()()(),c(33,"div",61)(34,"label"),p(35,"Statut"),m(),c(36,"select",66)(37,"option",67),p(38,"Brouillon"),m(),c(39,"option",68),p(40,"Publi\xE9"),m(),c(41,"option",69),p(42,"Archiv\xE9"),m(),k(43,e_,2,0,"option",70),m()()()(),c(44,"div",56)(45,"h5",57)(46,"span"),p(47,"Visuel & M\xE9dias"),m()(),c(48,"div",71)(49,"div",72)(50,"label"),p(51,"URL de l'image ou de l'affiche"),m(),b(52,"input",73),m(),k(53,t_,2,1,"div",74),m()(),k(54,n_,37,0,"div",75)(55,i_,21,0,"div",75)(56,o_,13,0,"div",75),m(),c(57,"div",76)(58,"button",77),w("click",function(){I(e);let o=P();return D(o.closeModal())}),p(59,"Annuler"),m(),c(60,"button",78),b(61,"i",79),p(62),m()()()()()}if(i&2){let e,n=P();z("active",n.showModal),h(7),F(n.isEditing?"Modifier l'\xE9l\xE9ment":"Ajouter une annonce"),h(5),y("formGroup",n.announcementForm),h(31),y("ngIf",n.selectedType==="tender"),h(10),y("ngIf",(e=n.announcementForm.get("image"))==null?null:e.value),h(),y("ngIf",n.selectedType==="event"),h(),y("ngIf",n.selectedType==="tender"),h(),y("ngIf",n.selectedType==="news"),h(4),y("disabled",n.announcementForm.invalid),h(2),q(" ",n.isEditing?"Mettre \xE0 jour":"Ajouter maintenant"," ")}}var Ro=class i{constructor(t,e,n){this.fb=t;this.adminService=e;this.dataService=n;this.announcements=[];this.filteredAnnouncements=[];this.currentFilter="all";this.showModal=!1;this.isEditing=!1;this.currentItemId=null;this.stats={total:0,events:0,tenders:0,news:0};this.selectedType="news";this.announcementForm=this.initForm()}initForm(){return this.fb.group({type:["news",J.required],title:["",J.required],status:["published",J.required],publishDate:[new Date().toISOString().split("T")[0],J.required],image:[""],description:[""],eventType:[""],startDate:[""],endDate:[""],time:[""],location:[""],targetAudience:[""],organizer:[""],reference:[""],issuer:[""],deadline:[""],conditions:[""],contact:[""],summary:[""],content:[""],author:[""],category:[""]})}ngOnInit(){this.loadAnnouncements(),this.announcementForm.get("type")?.valueChanges.subscribe(t=>{this.selectedType=t})}loadAnnouncements(){console.log("\u{1F504} Chargement des annonces..."),this.adminService.getAnnouncements().subscribe({next:t=>{console.log("\u2705 Annonces re\xE7ues:",t),this.announcements=t,this.updateStats(),this.applyFilter(),console.log("\u{1F4CA} Annonces filtr\xE9es affich\xE9es:",this.filteredAnnouncements.length)},error:t=>{console.error("\u274C Erreur lors du chargement des annonces:",t),this.announcements=[],this.updateStats(),this.applyFilter()}})}updateStats(){this.stats={total:this.announcements.length,events:this.announcements.filter(t=>t.type==="event").length,tenders:this.announcements.filter(t=>t.type==="tender").length,news:this.announcements.filter(t=>t.type==="news").length}}applyFilter(){this.currentFilter==="all"?this.filteredAnnouncements=this.announcements:this.filteredAnnouncements=this.announcements.filter(t=>t.type===this.currentFilter)}setFilter(t){this.currentFilter=t,this.applyFilter()}openAddModal(){this.isEditing=!1,this.currentItemId=null,this.announcementForm.reset({type:"news",status:"published",publishDate:new Date().toISOString().split("T")[0]}),this.selectedType="news",this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentItemId=t._id,this.selectedType=t.type,this.announcementForm.patchValue(ht(De({},t),{publishDate:t.publishDate?new Date(t.publishDate).toISOString().split("T")[0]:"",startDate:t.startDate?new Date(t.startDate).toISOString().split("T")[0]:"",endDate:t.endDate?new Date(t.endDate).toISOString().split("T")[0]:"",deadline:t.deadline?new Date(t.deadline).toISOString().split("T")[0]:""})),this.showModal=!0}closeModal(){this.showModal=!1}onSubmit(){if(this.announcementForm.invalid)return;let t=this.announcementForm.value;this.closeModal(),this.isEditing&&this.currentItemId?this.adminService.updateAnnouncement(this.currentItemId,t).subscribe(()=>{this.loadAnnouncements(),this.dataService.notifyAnnouncementsChanged()}):this.adminService.createAnnouncement(t).subscribe(()=>{this.loadAnnouncements(),this.dataService.notifyAnnouncementsChanged()})}deleteItem(t){confirm("Voulez-vous vraiment supprimer cet \xE9l\xE9ment ?")&&this.adminService.deleteAnnouncement(t).subscribe(()=>{this.loadAnnouncements(),this.dataService.notifyAnnouncementsChanged()})}getStatusLabel(t){return{draft:"Brouillon",published:"Publi\xE9",archived:"Archiv\xE9",cancelled:"Annul\xE9"}[t]||t}static{this.\u0275fac=function(e){return new(e||i)($(En),$(at),$(vt))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-news"]],decls:71,vars:15,consts:[[1,"news-management-container"],[1,"stats-overview"],[1,"stat-card","total"],[1,"stat-icon"],[1,"fas","fa-list"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","event"],[1,"fas","fa-calendar-alt"],[1,"stat-card","tender"],[1,"fas","fa-file-contract"],[1,"stat-card","news"],[1,"fas","fa-newspaper"],[1,"content-body","shadow-sm"],[1,"toolbar"],[1,"filter-group"],[3,"click"],[1,"actions"],["title","Actualiser",1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"btn","btn-add-modern",3,"click"],[1,"fas","fa-plus"],[1,"table-wrapper"],[1,"text-right"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-backdrop",3,"active",4,"ngIf"],[1,"img-cell"],[1,"table-img"],[3,"src","alt",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"title-cell"],[1,"main-title","text-truncate"],[1,"sub-text","text-truncate"],[1,"badge-type",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"status-indicator",3,"ngClass"],[1,"date-cell"],[1,"action-buttons"],["title","Modifier",1,"btn-edit",3,"click"],[1,"fas","fa-pen"],["title","Supprimer",1,"btn-delete",3,"click"],[1,"fas","fa-trash"],[3,"src","alt"],[1,"fas","fa-image"],["colspan","6",1,"empty-row"],[1,"fas","fa-box-open"],[1,"modal-backdrop"],[1,"modal-card","bounceIn"],[1,"modal-header"],[1,"header-info"],[1,"fas","fa-edit","circle-icon"],[1,"close-x",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body","custom-scrollbar"],[1,"form-section"],[1,"section-divider"],[1,"form-grid"],[1,"form-field","full"],["type","text","formControlName","title","placeholder","Ex: Hackathon 2024, Inscriptions Masters..."],[1,"form-field"],["formControlName","type"],["value","event"],["value","tender"],["value","news"],["formControlName","status"],["value","draft"],["value","published"],["value","archived"],["value","cancelled",4,"ngIf"],[1,"image-uploader"],[1,"input-area"],["type","text","formControlName","image","placeholder","https://..."],["class","preview-area",4,"ngIf"],["class","form-section animate-up",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary-gradient",3,"disabled"],[1,"fas","fa-check"],["value","cancelled"],[1,"preview-area"],["alt","Aper\xE7u",3,"src"],[1,"form-section","animate-up"],["formControlName","eventType"],["value","conf\xE9rence"],["value","s\xE9minaire"],["value","workshop"],["value","journ\xE9e scientifique"],["type","text","formControlName","organizer"],["type","date","formControlName","startDate"],["type","text","formControlName","time","placeholder","09:00"],["type","text","formControlName","location"],["formControlName","description","rows","3"],["type","text","formControlName","reference"],["type","text","formControlName","issuer"],["type","date","formControlName","deadline"],["formControlName","conditions","rows","4"],["formControlName","summary","rows","2"],["formControlName","content","rows","6"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"i",4),m(),c(5,"div",5)(6,"span",6),p(7),m(),c(8,"span",7),p(9,"Total Annonces"),m()()(),c(10,"div",8)(11,"div",3),b(12,"i",9),m(),c(13,"div",5)(14,"span",6),p(15),m(),c(16,"span",7),p(17,"Manifestations"),m()()(),c(18,"div",10)(19,"div",3),b(20,"i",11),m(),c(21,"div",5)(22,"span",6),p(23),m(),c(24,"span",7),p(25,"Appels d'offre"),m()()(),c(26,"div",12)(27,"div",3),b(28,"i",13),m(),c(29,"div",5)(30,"span",6),p(31),m(),c(32,"span",7),p(33,"Actualit\xE9s"),m()()()(),c(34,"div",14)(35,"div",15)(36,"div",16)(37,"button",17),w("click",function(){return n.setFilter("all")}),p(38,"Tout"),m(),c(39,"button",17),w("click",function(){return n.setFilter("event")}),p(40,"\xC9v\xE9nements"),m(),c(41,"button",17),w("click",function(){return n.setFilter("tender")}),p(42,"Offres"),m(),c(43,"button",17),w("click",function(){return n.setFilter("news")}),p(44,"Actus"),m()(),c(45,"div",18)(46,"button",19),w("click",function(){return n.loadAnnouncements()}),b(47,"i",20),m(),c(48,"button",21),w("click",function(){return n.openAddModal()}),b(49,"i",22),p(50," Ajouter une annonce "),m()()(),c(51,"div",23)(52,"table")(53,"thead")(54,"tr")(55,"th"),p(56,"Visuel"),m(),c(57,"th"),p(58,"Titre & Aper\xE7u"),m(),c(59,"th"),p(60,"Type"),m(),c(61,"th"),p(62,"Statut"),m(),c(63,"th"),p(64,"Publication"),m(),c(65,"th",24),p(66,"Actions"),m()()(),c(67,"tbody"),k(68,J0,30,20,"tr",25)(69,Z0,5,0,"tr",26),m()()()(),k(70,r_,63,11,"div",27),m()),e&2&&(h(7),F(n.stats.total),h(8),F(n.stats.events),h(8),F(n.stats.tenders),h(8),F(n.stats.news),h(6),z("active",n.currentFilter==="all"),h(2),z("active",n.currentFilter==="event"),h(2),z("active",n.currentFilter==="tender"),h(2),z("active",n.currentFilter==="news"),h(25),y("ngForOf",n.filteredAnnouncements),h(),y("ngIf",n.filteredAnnouncements.length===0),h(),y("ngIf",n.showModal))},dependencies:[X,Ht,xe,le,ot,We,Kt,yt,Mt,Be,Ct,Ue,Yt,kn,wn,On],styles:['.news-management-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.stats-overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;margin-bottom:2.5rem}@media (max-width: 1024px){.stats-overview[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.stats-overview[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:20px;display:flex;align-items:center;gap:1.2rem;border:1px solid #f1f5f9;box-shadow:0 4px 15px #00000005;transition:all .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #0000000d}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#334155)}.stat-card.event[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.stat-card.tender[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.stat-card.news[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#048)}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:900;color:#0f172a;display:block;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#64748b;text-transform:uppercase;margin-top:.2rem}.content-body[_ngcontent-%COMP%]{background:#fff;border-radius:24px;border:1px solid #f1f5f9;overflow:hidden;box-shadow:0 10px 30px #00000005}.toolbar[_ngcontent-%COMP%]{padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #f1f5f9;background:#fcfdfe}.toolbar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;background:#f1f5f9;padding:.4rem;border-radius:12px;gap:.4rem}.toolbar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:700;color:#64748b;cursor:pointer;transition:all .3s}.toolbar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#0055a4;box-shadow:0 4px 10px #0000000d}.toolbar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){color:#0f172a}.toolbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-add-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#048);color:#fff;padding:.8rem 1.8rem;border-radius:12px;font-weight:800;gap:.8rem;box-shadow:0 8px 15px #0055a433}.btn-add-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 25px #0055a44d}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 2rem;text-align:left;font-size:.75rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;background:#fcfdfe}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f8fafc}.table-img[_ngcontent-%COMP%]{width:60px;height:45px;border-radius:10px;overflow:hidden;background:#f1f5f9;display:flex;align-items:center;justify-content:center}.table-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.table-img[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8;font-size:1.2rem}.title-cell[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{display:block;font-weight:800;color:#0f172a;font-size:1rem;margin-bottom:.2rem}.title-cell[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.badge-type[_ngcontent-%COMP%]{padding:.4rem .8rem;border-radius:8px;font-size:.75rem;font-weight:800;text-transform:uppercase;display:inline-flex;align-items:center;gap:.5rem}.badge-type.event[_ngcontent-%COMP%]{background:#ecfdf5;color:#10b981}.badge-type.tender[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.badge-type.news[_ngcontent-%COMP%]{background:#eff6ff;color:#0055a4}.status-indicator[_ngcontent-%COMP%]{padding:.4rem 1rem;border-radius:50px;font-size:.7rem;font-weight:900;text-transform:uppercase;letter-spacing:.5px}.status-indicator.published[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.status-indicator.draft[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.status-indicator.archived[_ngcontent-%COMP%]{background:#fef2f2;color:#ef4444}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.6rem;justify-content:flex-end}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:10px;border:1px solid #e2e8f0;background:#fff;color:#64748b;cursor:pointer;transition:all .2s}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.action-buttons[_ngcontent-%COMP%]   button.btn-edit[_ngcontent-%COMP%]:hover{background:#eff6ff;border-color:#0055a4;color:#0055a4}.action-buttons[_ngcontent-%COMP%]   button.btn-delete[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#ef4444;color:#ef4444}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a66;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.modal-card[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:800px;border-radius:24px;box-shadow:0 30px 60px #0003;overflow:hidden;border:1px solid rgba(255,255,255,.2)}.modal-header[_ngcontent-%COMP%]{padding:2rem;border-bottom:1px solid #f1f5f9;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem}.modal-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .circle-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:#f0f7ff;color:#0055a4;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.modal-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:900;color:#0f172a;margin:0}.modal-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-x[_ngcontent-%COMP%]{background:#f1f5f9;border:none;width:36px;height:36px;border-radius:10px;cursor:pointer;font-size:1.5rem;color:#64748b}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.section-divider[_ngcontent-%COMP%]{font-size:.75rem;font-weight:900;color:#94a3b8;text-transform:uppercase;letter-spacing:2px;margin:2rem 0 1.5rem;display:flex;align-items:center;gap:1rem}.section-divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#f1f5f9}.section-divider[_ngcontent-%COMP%]:first-child{margin-top:0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.form-grid[_ngcontent-%COMP%]   .form-field.full[_ngcontent-%COMP%]{grid-column:span 2}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:700;color:#0f172a;margin-bottom:.6rem}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.9rem 1.2rem;border-radius:12px;border:1px solid #e2e8f0;background:#f8fafc;font-size:.95rem;color:#0f172a;transition:all .3s}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#0055a4;background:#fff;outline:none;box-shadow:0 0 0 4px #0055a414}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#fcfdfe;border-top:1px solid #f1f5f9;display:flex;justify-content:flex-end;gap:1rem}.btn-primary-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0055a4,#048);color:#fff;border:none;padding:.9rem 2.2rem;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:0 8px 15px #0055a433}.btn-primary-gradient[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 25px #0055a44d}.btn-primary-gradient[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.image-uploader[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{margin-bottom:1.5rem}.image-uploader[_ngcontent-%COMP%]   .preview-area[_ngcontent-%COMP%]{width:100%;max-height:300px;border-radius:16px;overflow:hidden;border:1px solid #e2e8f0;background:#f8fafc;display:flex;align-items:center;justify-content:center}.image-uploader[_ngcontent-%COMP%]   .preview-area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}']})}};function s_(i,t){if(i&1){let e=U();c(0,"button",30),w("click",function(){I(e);let o=P().$implicit,r=P();return D(r.markAsRead(o._id))}),b(1,"i",31),p(2," Marquer comme lu "),m()}}function a_(i,t){if(i&1){let e=U();c(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"div",18),p(6),m(),c(7,"div")(8,"h5",19),p(9),m(),c(10,"div",20),p(11),m()()(),c(12,"div",21)(13,"div",22),p(14),ee(15,"date"),m(),c(16,"span",23),p(17),m()()(),c(18,"div",24)(19,"p",25),p(20),m()(),c(21,"div",26),k(22,s_,3,0,"button",27),c(23,"button",28),w("click",function(){let o=I(e).$implicit,r=P();return D(r.deleteMessage(o._id))}),b(24,"i",29),m()()()()()}if(i&2){let e=t.$implicit,n=t.index;h(),Oe("animation-delay",n*.1+"s"),z("unread",e.status==="pending"),h(4),z("bg-blue",e.status==="pending")("bg-secondary",e.status!=="pending"),h(),q(" ",e.name.charAt(0).toUpperCase()," "),h(3),F(e.name),h(2),F(e.email),h(3),F(ct(15,19,e.createdAt,"dd/MM/yyyy HH:mm")),h(2),z("bg-gold",e.status==="pending")("bg-light-blue",e.status==="read"),h(),q(" ",e.status==="pending"?"NOUVEAU":"LU"," "),h(3),F(e.message),h(2),y("ngIf",e.status==="pending")}}function l_(i,t){i&1&&(c(0,"div",32)(1,"div",33),b(2,"i",34),c(3,"h3",35),p(4,"Aucun message pour le moment"),m(),c(5,"p",4),p(6,"Les messages re\xE7us via le formulaire de contact appara\xEEtront ici."),m()()())}var zo=class i{constructor(t){this.dataService=t;this.messages=[];this.unreadCount=0}ngOnInit(){this.loadMessages()}loadMessages(){this.dataService.getAdminContacts().subscribe(t=>{this.messages=t,this.unreadCount=t.filter(e=>e.status==="pending").length})}markAsRead(t){this.dataService.markContactAsRead(t).subscribe(()=>{this.loadMessages()})}deleteMessage(t){confirm("Voulez-vous vraiment supprimer ce message ?")&&this.dataService.deleteContactMessage(t).subscribe(()=>{this.loadMessages()})}static{this.\u0275fac=function(e){return new(e||i)($(vt))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-messages"]],decls:20,vars:3,consts:[[1,"messages-container","animate-on-scroll","slide-up"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"display-5","fw-black","text-navy","mb-2"],[1,"text-gold"],[1,"text-secondary"],[1,"stats-badge","bg-gold-subtle","p-3","rounded-4","border","border-gold","d-flex","align-items-center","gap-3"],[1,"icon-circle","bg-gold","text-white","shadow-sm"],[1,"fas","fa-envelope"],[1,"fw-black","text-navy","h4","mb-0"],[1,"small","fw-bold","text-uppercase","text-gold",2,"letter-spacing","1px"],[1,"row","g-4"],["class","col-12",4,"ngFor","ngForOf"],["class","col-12 text-center py-5",4,"ngIf"],[1,"col-12"],[1,"card","message-card","border-0","shadow-sm","rounded-4","overflow-hidden"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"d-flex","align-items-center","gap-3"],[1,"avatar-circle","shadow-sm"],[1,"fw-bold","text-navy","mb-0"],[1,"small","text-secondary"],[1,"text-end"],[1,"small","fw-bold","text-muted","mb-1"],[1,"badge"],[1,"message-content","p-3","bg-light","rounded-3","mb-4"],[1,"mb-0","text-navy",2,"white-space","pre-wrap"],[1,"d-flex","justify-content-end","gap-2"],["class","btn-action btn-read shadow-sm","title","Marquer comme lu",3,"click",4,"ngIf"],["title","Supprimer",1,"btn-action","btn-delete","shadow-sm",3,"click"],[1,"fas","fa-trash-alt"],["title","Marquer comme lu",1,"btn-action","btn-read","shadow-sm",3,"click"],[1,"fas","fa-check"],[1,"col-12","text-center","py-5"],[1,"empty-state"],[1,"fas","fa-inbox","display-1","text-light-blue","mb-4"],[1,"text-navy"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),p(4,"Messagerie "),c(5,"span",3),p(6,"Contact"),m()(),c(7,"p",4),p(8,"G\xE9rez les demandes et messages re\xE7us via le formulaire de contact public."),m()(),c(9,"div",5)(10,"div",6),b(11,"i",7),m(),c(12,"div")(13,"div",8),p(14),m(),c(15,"div",9),p(16,"Non lus"),m()()()(),c(17,"div",10),k(18,a_,25,22,"div",11)(19,l_,7,0,"div",12),m()()),e&2&&(h(14),F(n.unreadCount),h(4),y("ngForOf",n.messages),h(),y("ngIf",n.messages.length===0))},dependencies:[X,xe,le,ot],styles:[".messages-container[_ngcontent-%COMP%]{padding:1rem}.message-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.16,1,.3,1);border-left:5px solid transparent!important}.message-card.unread[_ngcontent-%COMP%]{border-left-color:#c5a021!important;background:#fdfaf0}.message-card[_ngcontent-%COMP%]:hover{transform:translate(10px);box-shadow:0 15px 30px #00000014!important}.avatar-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:1.2rem}.bg-blue[_ngcontent-%COMP%]{background:#0055a4}.bg-light-blue[_ngcontent-%COMP%]{background:#0055a41a;color:#0055a4}.bg-gold[_ngcontent-%COMP%]{background:#c5a021;color:#fff}.bg-gold-subtle[_ngcontent-%COMP%]{background:#c5a0210d}.icon-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center}.message-content[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03);line-height:1.6}.btn-action[_ngcontent-%COMP%]{border:none;padding:.6rem 1.2rem;border-radius:10px;font-weight:700;font-size:.85rem;transition:all .2s ease;display:flex;align-items:center;gap:8px}.btn-action.btn-read[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.btn-action.btn-read[_ngcontent-%COMP%]:hover{background:#003d7a}.btn-action.btn-delete[_ngcontent-%COMP%]{background:#f8fafc;color:#ef4444}.btn-action.btn-delete[_ngcontent-%COMP%]:hover{background:#fee2e2}.empty-state[_ngcontent-%COMP%]{opacity:.5}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0055a4}"]})}};function c_(i,t){i&1&&(c(0,"span"),p(1,"Enregistrer les modifications"),m())}function d_(i,t){i&1&&(c(0,"span"),b(1,"i",32),p(2," Mise \xE0 jour..."),m())}function m_(i,t){i&1&&(c(0,"span"),p(1,"Modifier le mot de passe"),m())}function u_(i,t){i&1&&(c(0,"span"),b(1,"i",32),p(2," Modification..."),m())}function p_(i,t){if(i&1&&(c(0,"div",33),b(1,"i",34),p(2),m()),i&2){let e=P();y("ngClass",e.messageType==="success"?"bg-success-subtle text-success border border-success":"bg-danger-subtle text-danger border border-danger"),h(),y("ngClass",e.messageType==="success"?"fa-check-circle":"fa-exclamation-circle"),h(),q(" ",e.message," ")}}var Vo=class i{constructor(t,e){this.fb=t;this.authService=e;this.isProfileLoading=!1;this.isPasswordLoading=!1;this.message="";this.messageType="success";this.profileForm=this.fb.group({name:["",[J.required,J.minLength(3)]],email:["",[J.required,J.email]],matricule:["",J.required]}),this.passwordForm=this.fb.group({currentPassword:["",J.required],newPassword:["",[J.required,J.minLength(6)]],confirmPassword:["",J.required]},{validators:this.passwordMatchValidator})}ngOnInit(){this.authService.currentUser.subscribe(t=>{t&&(this.currentUser=t,this.profileForm.patchValue({name:t.name,email:t.email,matricule:t.matricule}))})}passwordMatchValidator(t){return t.get("newPassword")?.value===t.get("confirmPassword")?.value?null:{mismatch:!0}}onUpdateProfile(){this.profileForm.invalid||(this.isProfileLoading=!0,this.message="",this.authService.updateProfile(this.currentUser.id,this.profileForm.value).subscribe({next:t=>{this.isProfileLoading=!1,this.message="Profil mis \xE0 jour avec succ\xE8s !",this.messageType="success",setTimeout(()=>this.message="",3e3)},error:t=>{this.isProfileLoading=!1,this.message="Erreur lors de la mise \xE0 jour : "+(t.error?.message||"Serveur indisponible"),this.messageType="error"}}))}onChangePassword(){this.passwordForm.invalid||(this.isPasswordLoading=!0,this.message="",this.authService.changePassword(this.currentUser.id,this.passwordForm.value).subscribe({next:t=>{this.isPasswordLoading=!1,this.message="Mot de passe modifi\xE9 avec succ\xE8s !",this.messageType="success",this.passwordForm.reset(),setTimeout(()=>this.message="",3e3)},error:t=>{this.isPasswordLoading=!1,this.message="Erreur : "+(t.error?.message||"Mot de passe actuel incorrect"),this.messageType="error"}}))}static{this.\u0275fac=function(e){return new(e||i)($(En),$(Ce))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-admin-settings"]],decls:66,vars:9,consts:[[1,"settings-container","animate-on-scroll","slide-up"],[1,"mb-5"],[1,"display-5","fw-black","text-navy","mb-2"],[1,"text-gold"],[1,"text-secondary"],[1,"row","g-4"],[1,"col-md-6"],[1,"card","border-0","shadow-sm","rounded-4","h-100"],[1,"card-header","bg-white","border-0","p-4","pb-0"],[1,"fw-bold","text-navy","mb-0"],[1,"card-body","p-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label","fw-bold","text-navy","small"],[1,"input-group-pro"],[1,"fas","fa-user"],["type","text","formControlName","name","placeholder","Votre nom",1,"form-control-pro"],[1,"fas","fa-envelope"],["type","email","formControlName","email","placeholder","exemple@isetk.rnu.tn",1,"form-control-pro"],[1,"mb-4"],[1,"fas","fa-id-card"],["type","text","formControlName","matricule","placeholder","Votre matricule",1,"form-control-pro"],["type","submit",1,"btn-premium","w-100",3,"disabled"],[4,"ngIf"],[1,"fas","fa-lock"],["type","password","formControlName","currentPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control-pro"],[1,"fas","fa-key"],["type","password","formControlName","newPassword","placeholder","Minimum 6 caract\xE8res",1,"form-control-pro"],[1,"fas","fa-check-double"],["type","password","formControlName","confirmPassword","placeholder","R\xE9p\xE9tez le mot de passe",1,"form-control-pro"],["type","submit",1,"btn-premium-alt","w-100",3,"disabled"],["class","mt-4 p-3 rounded-3 text-center animate-on-scroll",3,"ngClass",4,"ngIf"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"mt-4","p-3","rounded-3","text-center","animate-on-scroll",3,"ngClass"],[1,"fas",3,"ngClass"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),p(3,"Param\xE8tres du "),c(4,"span",3),p(5,"Compte"),m()(),c(6,"p",4),p(7,"G\xE9rez vos informations personnelles et la s\xE9curit\xE9 de votre acc\xE8s."),m()(),c(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"h4",9),p(13,"Informations Personnelles"),m()(),c(14,"div",10)(15,"form",11),w("ngSubmit",function(){return n.onUpdateProfile()}),c(16,"div",12)(17,"label",13),p(18,"Nom Complet"),m(),c(19,"div",14),b(20,"i",15)(21,"input",16),m()(),c(22,"div",12)(23,"label",13),p(24,"Email Acad\xE9mique"),m(),c(25,"div",14),b(26,"i",17)(27,"input",18),m()(),c(28,"div",19)(29,"label",13),p(30,"Matricule"),m(),c(31,"div",14),b(32,"i",20)(33,"input",21),m()(),c(34,"button",22),k(35,c_,2,0,"span",23)(36,d_,3,0,"span",23),m()()()()(),c(37,"div",6)(38,"div",7)(39,"div",8)(40,"h4",9),p(41,"S\xE9curit\xE9 & Mot de passe"),m()(),c(42,"div",10)(43,"form",11),w("ngSubmit",function(){return n.onChangePassword()}),c(44,"div",12)(45,"label",13),p(46,"Ancien Mot de Passe"),m(),c(47,"div",14),b(48,"i",24)(49,"input",25),m()(),c(50,"div",12)(51,"label",13),p(52,"Nouveau Mot de Passe"),m(),c(53,"div",14),b(54,"i",26)(55,"input",27),m()(),c(56,"div",19)(57,"label",13),p(58,"Confirmer le Nouveau"),m(),c(59,"div",14),b(60,"i",28)(61,"input",29),m()(),c(62,"button",30),k(63,m_,2,0,"span",23)(64,u_,3,0,"span",23),m()()()()()(),k(65,p_,3,3,"div",31),m()),e&2&&(h(15),y("formGroup",n.profileForm),h(19),y("disabled",n.profileForm.invalid||n.isProfileLoading),h(),y("ngIf",!n.isProfileLoading),h(),y("ngIf",n.isProfileLoading),h(7),y("formGroup",n.passwordForm),h(19),y("disabled",n.passwordForm.invalid||n.isPasswordLoading),h(),y("ngIf",!n.isPasswordLoading),h(),y("ngIf",n.isPasswordLoading),h(),y("ngIf",n.message))},dependencies:[X,Ht,le,We,Kt,Be,Ue,Yt,kn,wn,On],styles:[".settings-container[_ngcontent-%COMP%]{padding:1rem}.input-group-pro[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-group-pro[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#94a3b8;font-size:.9rem}.input-group-pro[_ngcontent-%COMP%]   .form-control-pro[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem .8rem 2.8rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;font-size:.95rem;color:#1e293b;transition:all .2s}.input-group-pro[_ngcontent-%COMP%]   .form-control-pro[_ngcontent-%COMP%]:focus{outline:none;background:#fff;border-color:#0055a4;box-shadow:0 0 0 4px #0055a40d}.btn-premium[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none;padding:1rem;border-radius:12px;font-weight:700;transition:all .2s}.btn-premium[_ngcontent-%COMP%]:hover:not(:disabled){background:#003d7a;transform:translateY(-2px);box-shadow:0 5px 15px #0055a433}.btn-premium[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-premium-alt[_ngcontent-%COMP%]{background:#c5a021;color:#fff;border:none;padding:1rem;border-radius:12px;font-weight:700;transition:all .2s}.btn-premium-alt[_ngcontent-%COMP%]:hover:not(:disabled){background:#a3841a;transform:translateY(-2px);box-shadow:0 5px 15px #c5a02133}.btn-premium-alt[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.bg-success-subtle[_ngcontent-%COMP%]{background:#ecfdf5}.bg-danger-subtle[_ngcontent-%COMP%]{background:#fef2f2}"]})}};var jo=class i{constructor(t,e,n){this.router=t;this.authService=e;this.platformId=n}canActivate(){let t=this.authService.getCurrentUser();if(!t&&tt(this.platformId)){let e=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(e)try{t=JSON.parse(e)}catch{console.error("Error parsing user in StaffGuard")}}return t&&(t.role==="staff"||t.role==="admin"||t.role==="chef")||!tt(this.platformId)?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(e){return new(e||i)(Me(je),Me(Ce),Me(_t))}}static{this.\u0275prov=Ke({token:i,factory:i.\u0275fac,providedIn:"root"})}};var Bo=class i{constructor(t){this.authService=t;this.isCollapsed=!1;this.today=new Date;this.authService.currentUser.subscribe(e=>this.currentUser=e)}toggleSidebar(){this.isCollapsed=!this.isCollapsed}logout(){this.authService.logout()}getPageTitle(){let t=window.location.pathname;return t.includes("dashboard")?"Tableau de bord":t.includes("students")?"Mes \xC9tudiants":t.includes("schedule")?"Emploi du Temps":t.includes("materials")?"Supports de Cours":t.includes("notes")?"Notes & \xC9valuations":t.includes("announcements")?"Annonces":t.includes("claims")?"R\xE9clamations":"Dashboard"}static{this.\u0275fac=function(e){return new(e||i)($(Ce))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-staff-layout"]],decls:70,vars:6,consts:[[1,"staff-wrapper"],[1,"staff-sidebar"],[1,"sidebar-header"],[1,"logo-wrap"],[1,"logo-icon"],[1,"logo-text"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-label"],["routerLink","/staff/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-chart-line"],["routerLink","/staff/students","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-user-graduate"],["routerLink","/staff/schedule","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-calendar-alt"],["routerLink","/staff/materials","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-folder-open"],["routerLink","/staff/notes","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-star"],["routerLink","/staff/announcements","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-bullhorn"],["routerLink","/staff/claims","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-clipboard-list"],[1,"nav-divider"],["routerLink","/",1,"nav-item","back-home"],[1,"fas","fa-arrow-left"],[1,"sidebar-footer"],[1,"user-quick-profile"],[1,"avatar"],[1,"info"],[1,"name"],[1,"role"],["title","D\xE9connexion",1,"btn-logout",3,"click"],[1,"fas","fa-power-off"],[1,"staff-main"],[1,"staff-content-area"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),p(5,"IS"),m(),c(6,"div",5),p(7,"STAFF"),c(8,"span"),p(9,"PRO"),m()()()(),c(10,"nav",6)(11,"div",7)(12,"span",8),p(13,"Principal"),m(),c(14,"a",9),b(15,"i",10),c(16,"span"),p(17,"Tableau de bord"),m()()(),c(18,"div",7)(19,"span",8),p(20,"Acad\xE9mique"),m(),c(21,"a",11),b(22,"i",12),c(23,"span"),p(24,"Mes \xC9tudiants"),m()(),c(25,"a",13),b(26,"i",14),c(27,"span"),p(28,"Emploi du Temps"),m()(),c(29,"a",15),b(30,"i",16),c(31,"span"),p(32,"Supports Cours"),m()()(),c(33,"div",7)(34,"span",8),p(35,"Gestion"),m(),c(36,"a",17),b(37,"i",18),c(38,"span"),p(39,"Notes & \xC9vals"),m()(),c(40,"a",19),b(41,"i",20),c(42,"span"),p(43,"Annonces"),m()()(),c(44,"div",7)(45,"span",8),p(46,"Aide & Contact"),m(),c(47,"a",21),b(48,"i",22),c(49,"span"),p(50,"R\xE9clamations"),m()()(),b(51,"div",23),c(52,"a",24),b(53,"i",25),c(54,"span"),p(55,"Retour au portail"),m()()(),c(56,"div",26)(57,"div",27)(58,"div",28),p(59),m(),c(60,"div",29)(61,"span",30),p(62),m(),c(63,"span",31),p(64,"Enseignant"),m()(),c(65,"button",32),w("click",function(){return n.logout()}),b(66,"i",33),m()()()(),c(67,"main",34)(68,"section",35),b(69,"router-outlet"),m()()()),e&2&&(z("sidebar-hidden",n.isCollapsed),h(),z("collapsed",n.isCollapsed),h(58),F(((n.currentUser==null?null:n.currentUser.name)||"P").charAt(0)),h(3),F(n.currentUser==null?null:n.currentUser.name))},dependencies:[X,pe,$t,Ie,Gt],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap";[_nghost-%COMP%]{--primary: #0055a4;--secondary: #f59e0b;--navy: #0f172a;--light-blue: #eff6ff;--sidebar-width: 280px;--sidebar-collapsed: 85px;--header-height: 80px;--transition: all .4s cubic-bezier(.4, 0, .2, 1)}.staff-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f8fafc;font-family:Outfit,sans-serif}.staff-sidebar[_ngcontent-%COMP%]{width:var(--sidebar-width);background:var(--navy);color:#fff;display:flex;flex-direction:column;position:fixed;left:0;top:0;bottom:0;z-index:100;transition:var(--transition);box-shadow:10px 0 30px #0f172a1a}.sidebar-header[_ngcontent-%COMP%]{padding:2.5rem 1.5rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:45px;height:45px;background:linear-gradient(135deg,var(--primary),#0077c8);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.4rem;color:#fff;box-shadow:0 8px 16px #0055a44d}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;letter-spacing:-.5px}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary);margin-left:2px}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:0 1rem;overflow-y:auto}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{margin-bottom:2rem}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;padding:0 1rem;margin-bottom:.8rem;font-size:.7rem;font-weight:800;text-transform:uppercase;color:#ffffff4d;letter-spacing:1.5px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;padding:1rem 1.2rem;color:#fff9;text-decoration:none;border-radius:14px;transition:var(--transition);margin-bottom:.3rem;position:relative;cursor:pointer}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:var(--transition)}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.nav-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--secondary);transform:scale(1.1)}.nav-item.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 10px 20px #0055a433}.nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.nav-item.active[_ngcontent-%COMP%]:after{content:"";position:absolute;right:.5rem;width:5px;height:15px;background:var(--secondary);border-radius:10px}.nav-item.back-home[_ngcontent-%COMP%]{color:var(--secondary);margin-top:1rem}.nav-item.back-home[_ngcontent-%COMP%]:hover{background:#f59e0b1a}.badge-new[_ngcontent-%COMP%]{background:var(--secondary);color:var(--navy);padding:.1rem .6rem;border-radius:6px;font-size:.7rem;font-weight:900;margin-left:auto}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.05)}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#ffffff08;padding:.8rem;border-radius:16px}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:42px;height:42px;background:linear-gradient(135deg,var(--secondary),#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#fff}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.7rem;color:#fff6}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{background:none;border:none;color:#ffffff4d;cursor:pointer;transition:var(--transition)}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{color:#ef4444}.staff-sidebar.collapsed[_ngcontent-%COMP%]{width:var(--sidebar-collapsed)}.staff-sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%], .staff-sidebar.collapsed[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%], .staff-sidebar.collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .staff-sidebar.collapsed[_ngcontent-%COMP%]   .badge-new[_ngcontent-%COMP%], .staff-sidebar.collapsed[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:none}.staff-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:2rem 1rem}.staff-sidebar.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{justify-content:center;padding:1.2rem}.staff-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1rem}.staff-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]{padding:.4rem;justify-content:center}.staff-main[_ngcontent-%COMP%]{flex:1;margin-left:var(--sidebar-width);transition:var(--transition);display:flex;flex-direction:column;background:#f8fafc}.sidebar-hidden[_ngcontent-%COMP%]   .staff-main[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed)}.staff-content-area[_ngcontent-%COMP%]{padding:2.5rem;flex:1;min-height:100vh}@media (max-width: 1024px){.staff-content-area[_ngcontent-%COMP%]{padding:1.5rem}}']})}};function f_(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===0||e===1?1:o===0&&e!==0&&e%1e6===0&&n===0||!(o>=0&&o<=5)?4:5}var Zc=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",f_];function g_(i,t){i&1&&(c(0,"div",14),b(1,"div",15),c(2,"p"),p(3,"Chargement des donn\xE9es en cours..."),m()())}function h_(i,t){if(i&1&&(c(0,"div",30),p(1),ee(2,"date"),ee(3,"uppercase"),m()),i&2){let e=P().$implicit;h(),q(" ",fe(3,6,Ca(2,1,e.publishDate,"EEEE dd MMMM yyyy","","fr"))," ")}}function __(i,t){if(i&1&&(c(0,"article",20)(1,"div",21),b(2,"img",22),k(3,h_,4,8,"div",23),m(),c(4,"div",24)(5,"h3",25),p(6),m(),c(7,"p",26),p(8,"{{ item.description || item.summary || 'Plus de d\xE9tails sur cette publication de l'ISET Kairouan.' }}"),m(),c(9,"div",27)(10,"span",28),p(11,"PLUS D'INFORMATIONS"),m(),b(12,"i",29),m()()()),i&2){let e=t.$implicit;h(2),y("src",e.image||"assets/bg-hero.jpg",Ve)("alt",e.title),h(),y("ngIf",e.publishDate),h(3),F(e.title)}}function b_(i,t){if(i&1&&(c(0,"div",18),k(1,__,13,4,"article",19),m()),i&2){let e=P(2);h(),y("ngForOf",e.filteredItems)}}function v_(i,t){i&1&&(c(0,"div",31),b(1,"i",32),c(2,"p"),p(3,"Aucune actualit\xE9 trouv\xE9e pour cette cat\xE9gorie."),m()())}function x_(i,t){if(i&1&&(Qn(0),k(1,b_,2,1,"div",16)(2,v_,4,0,"div",17),Xn()),i&2){let e=P();h(),y("ngIf",e.filteredItems.length>0),h(),y("ngIf",e.filteredItems.length===0)}}Sa(Zc);var Uo=class i{constructor(t,e,n){this.dataService=t;this.cdr=e;this.router=n;this.allItems=[];this.filteredItems=[];this.activeTab="all";this.searchTerm="";this.isLoading=!0;this.routerSub=null}ngOnInit(){window.scrollTo(0,0),this.loadData(),this.routerSub=this.router.events.subscribe(t=>{t instanceof Ii&&(t.urlAfterRedirects==="/actualites"||t.url==="/actualites")&&this.loadData()}),this.safetyTimeout=setTimeout(()=>{this.isLoading&&(console.warn("Safety timeout reached for loader."),this.isLoading=!1,this.cdr.detectChanges())},6e3)}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe(),this.safetyTimeout&&clearTimeout(this.safetyTimeout)}loadData(){this.isLoading=!0,this.cdr.detectChanges(),this.dataService.getAnnouncements().pipe(Te(()=>{this.isLoading=!1,this.cdr.detectChanges()}),Sn(t=>(console.error("Data Load Error:",t),Mn([])))).subscribe({next:t=>{this.allItems=[],t&&t.length>0&&(this.allItems=t.map(e=>{let n=e.type?.toLowerCase()||"news";return(n.includes("actu")||n==="academic")&&(n="news"),(n.includes("mani")||n.includes("even"))&&(n="event"),(n.includes("appel")||n.includes("offr")||n==="administrative")&&(n="tender"),ht(De({},e),{type:n})}).sort((e,n)=>{let o=e.publishDate?new Date(e.publishDate).getTime():0;return(n.publishDate?new Date(n.publishDate).getTime():0)-o})),this.applyFilters()}})}setFilter(t){this.activeTab=t,this.applyFilters(),this.cdr.detectChanges()}onSearch(t){this.searchTerm=(t.target.value||"").toLowerCase(),this.applyFilters(),this.cdr.detectChanges()}applyFilters(){this.filteredItems=(this.allItems||[]).filter(t=>{let e=this.activeTab==="all"||t.type===this.activeTab,n=(t.title||"").toLowerCase(),o=(t.description||t.summary||"").toLowerCase(),r=!this.searchTerm||n.includes(this.searchTerm)||o.includes(this.searchTerm);return e&&r})}static{this.\u0275fac=function(e){return new(e||i)($(vt),$(bt),$(je))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-news-listing"]],decls:24,vars:10,consts:[[1,"news-list-page"],[1,"news-hero-dark"],[1,"container"],[1,"hero-title-main","animate-fade-in"],[1,"filter-wrapper"],[1,"pro-filter-bar"],[1,"tabs-modern"],[3,"click"],[1,"search-box-pro"],[1,"fas","fa-search"],["type","text","placeholder","Rechercher...",3,"input"],[1,"news-grid-section"],["class","loading-state-center",4,"ngIf"],[4,"ngIf"],[1,"loading-state-center"],[1,"iset-spinner-fix"],["class","news-grid-iset",4,"ngIf"],["class","empty-state animate-fade-in",4,"ngIf"],[1,"news-grid-iset"],["class","iset-card animate-fade-up",4,"ngFor","ngForOf"],[1,"iset-card","animate-fade-up"],[1,"iset-card-image"],[3,"src","alt"],["class","iset-date-badge",4,"ngIf"],[1,"iset-card-content"],[1,"iset-card-title"],[1,"iset-card-desc"],[1,"iset-card-footer"],[1,"plus-info"],[1,"fas","fa-arrow-right"],[1,"iset-date-badge"],[1,"empty-state","animate-fade-in"],[1,"fas","fa-newspaper-slash"]],template:function(e,n){e&1&&(c(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),p(4,"Actualit\xE9s"),m()()(),c(5,"div",4)(6,"div",2)(7,"div",5)(8,"div",6)(9,"button",7),w("click",function(){return n.setFilter("all")}),p(10,"TOUT"),m(),c(11,"button",7),w("click",function(){return n.setFilter("news")}),p(12,"ACTUALIT\xC9S"),m(),c(13,"button",7),w("click",function(){return n.setFilter("event")}),p(14,"MANIFESTATIONS"),m(),c(15,"button",7),w("click",function(){return n.setFilter("tender")}),p(16,"APPELS D'OFFRE"),m()(),c(17,"div",8),b(18,"i",9),c(19,"input",10),w("input",function(r){return n.onSearch(r)}),m()()()()(),c(20,"section",11)(21,"div",2),k(22,g_,4,0,"div",12)(23,x_,3,2,"ng-container",13),m()()()),e&2&&(h(9),z("active",n.activeTab==="all"),h(2),z("active",n.activeTab==="news"),h(2),z("active",n.activeTab==="event"),h(2),z("active",n.activeTab==="tender"),h(7),y("ngIf",n.isLoading),h(),y("ngIf",!n.isLoading))},dependencies:[X,xe,le,Pn,ot,pe],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&display=swap";.news-list-page[_ngcontent-%COMP%]{background:#f8fafc;min-height:100vh;font-family:Outfit,sans-serif}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem}.news-hero-dark[_ngcontent-%COMP%]{background:#0f172a;height:350px;display:flex;align-items:center;position:relative}.hero-title-main[_ngcontent-%COMP%]{font-size:5rem;font-weight:900;color:#fff;margin:0;letter-spacing:-2px}.filter-wrapper[_ngcontent-%COMP%]{margin-top:-40px;position:relative;z-index:10}.pro-filter-bar[_ngcontent-%COMP%]{background:#fff;padding:.8rem 1.5rem;border-radius:12px;box-shadow:0 10px 30px #0000000d;display:flex;justify-content:space-between;align-items:center}.tabs-modern[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:.8rem 1.2rem;font-weight:700;color:#94a3b8;cursor:pointer;transition:.3s;font-size:.8rem;letter-spacing:1px}.tabs-modern[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#0f172a;border-bottom:3px solid #f59e0b}.search-box-pro[_ngcontent-%COMP%]{position:relative}.search-box-pro[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#f59e0b}.search-box-pro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem 1rem .7rem 2.8rem;border-radius:8px;border:1px solid #f1f5f9;background:#f8fafc;width:250px;font-weight:600;transition:.3s}.news-grid-section[_ngcontent-%COMP%]{padding:5rem 0;min-height:500px}.loading-state-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8rem 0;color:#64748b;font-weight:600;gap:1.5rem}.iset-spinner-fix[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid rgba(15,23,42,.1);border-top:4px solid #f59e0b;border-radius:50%;animation:_ngcontent-%COMP%_spin-iset 1s linear infinite}@keyframes _ngcontent-%COMP%_spin-iset{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.news-grid-iset[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:40px}.iset-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;overflow:hidden;box-shadow:0 10px 40px #00000008;transition:all .4s ease;display:flex;flex-direction:column}.iset-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 50px #00000014;border-top:3px solid #f59e0b}.iset-card-image[_ngcontent-%COMP%]{height:350px;position:relative;overflow:hidden}.iset-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:.5s}.iset-card[_ngcontent-%COMP%]:hover   .iset-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.iset-date-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background:#f59e0b;color:#fff;padding:.6rem 1.5rem;font-weight:800;font-size:.75rem}.iset-card-content[_ngcontent-%COMP%]{padding:2.5rem;flex:1;display:flex;flex-direction:column}.iset-card-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;color:#1e293b;margin-bottom:1rem}.iset-card-desc[_ngcontent-%COMP%]{font-size:.95rem;color:#64748b;line-height:1.6;margin-bottom:2rem}.iset-card-footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;align-items:center;justify-content:space-between;padding-top:1.5rem;border-top:1px solid #f1f5f9}.iset-card-footer[_ngcontent-%COMP%]   .plus-info[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;color:#94a3b8}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:5rem 0;color:#94a3b8}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1.5rem;opacity:.2}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.animate-fade-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeUp .8s ease-out both}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})}};var Wo=class i{constructor(t,e,n){this.router=t;this.authService=e;this.platformId=n}canActivate(){let t=this.authService.getCurrentUser();if(!t&&tt(this.platformId)){let e=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(e)try{t=JSON.parse(e)}catch{console.error("Error parsing user in StudentGuard")}}return t&&(t.role==="student"||t.role==="admin")||!tt(this.platformId)?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(e){return new(e||i)(Me(je),Me(Ce),Me(_t))}}static{this.\u0275prov=Ke({token:i,factory:i.\u0275fac,providedIn:"root"})}};var qo=class i{constructor(t){this.authService=t;this.isCollapsed=!1;this.authService.currentUser.subscribe(e=>this.currentUser=e)}toggleSidebar(){this.isCollapsed=!this.isCollapsed}logout(){this.authService.logout()}static{this.\u0275fac=function(e){return new(e||i)($(Ce))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-student-layout"]],decls:52,vars:6,consts:[[1,"student-wrapper"],[1,"student-sidebar"],[1,"sidebar-header"],[1,"logo-wrap"],[1,"logo-icon"],[1,"logo-text"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-label"],["routerLink","/student/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-home"],["routerLink","/student/schedule","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-calendar-alt"],["routerLink","/student/grades","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-star"],["routerLink","/student/materials","routerLinkActive","active",1,"nav-item"],[1,"fas","fa-folder-open"],[1,"nav-divider"],["routerLink","/",1,"nav-item","back-home"],[1,"fas","fa-arrow-left"],[1,"sidebar-footer"],[1,"user-quick-profile"],[1,"avatar"],[1,"info"],[1,"name"],[1,"role"],["title","D\xE9connexion",1,"btn-logout",3,"click"],[1,"fas","fa-power-off"],[1,"student-main"],[1,"student-content-area"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),p(5,"IS"),m(),c(6,"div",5),p(7,"STUDENT"),c(8,"span"),p(9,"PRO"),m()()()(),c(10,"nav",6)(11,"div",7)(12,"span",8),p(13,"Principal"),m(),c(14,"a",9),b(15,"i",10),c(16,"span"),p(17,"Mon Espace"),m()()(),c(18,"div",7)(19,"span",8),p(20,"Acad\xE9mique"),m(),c(21,"a",11),b(22,"i",12),c(23,"span"),p(24,"Emploi du Temps"),m()(),c(25,"a",13),b(26,"i",14),c(27,"span"),p(28,"Mes Notes"),m()(),c(29,"a",15),b(30,"i",16),c(31,"span"),p(32,"Cours & Supports"),m()()(),b(33,"div",17),c(34,"a",18),b(35,"i",19),c(36,"span"),p(37,"Retour au portail"),m()()(),c(38,"div",20)(39,"div",21)(40,"div",22),p(41),m(),c(42,"div",23)(43,"span",24),p(44),m(),c(45,"span",25),p(46,"\xC9tudiant"),m()(),c(47,"button",26),w("click",function(){return n.logout()}),b(48,"i",27),m()()()(),c(49,"main",28)(50,"section",29),b(51,"router-outlet"),m()()()),e&2&&(z("sidebar-hidden",n.isCollapsed),h(),z("collapsed",n.isCollapsed),h(40),F(((n.currentUser==null?null:n.currentUser.name)||"S").charAt(0)),h(3),F(n.currentUser==null?null:n.currentUser.name))},dependencies:[X,pe,$t,Ie,Gt],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap";[_nghost-%COMP%]{--primary: #0055a4;--secondary: #f59e0b;--navy: #0f172a;--light-blue: #eff6ff;--sidebar-width: 280px;--sidebar-collapsed: 85px;--header-height: 80px;--transition: all .4s cubic-bezier(.4, 0, .2, 1)}.student-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f8fafc;font-family:Outfit,sans-serif}.student-sidebar[_ngcontent-%COMP%]{width:var(--sidebar-width);background:var(--navy);color:#fff;display:flex;flex-direction:column;position:fixed;left:0;top:0;bottom:0;z-index:100;transition:var(--transition);box-shadow:10px 0 30px #0f172a1a}.sidebar-header[_ngcontent-%COMP%]{padding:2.5rem 1.5rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:45px;height:45px;background:linear-gradient(135deg,var(--primary),#0077c8);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.4rem;color:#fff;box-shadow:0 8px 16px #0055a44d}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;letter-spacing:-.5px}.sidebar-header[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary);margin-left:2px}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:0 1rem;overflow-y:auto}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{margin-bottom:2rem}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;padding:0 1rem;margin-bottom:.8rem;font-size:.7rem;font-weight:800;text-transform:uppercase;color:#ffffff4d;letter-spacing:1.5px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;padding:1rem 1.2rem;color:#fff9;text-decoration:none;border-radius:14px;transition:var(--transition);margin-bottom:.3rem;position:relative;cursor:pointer}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:var(--transition)}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.nav-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--secondary);transform:scale(1.1)}.nav-item.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 10px 20px #0055a433}.nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.nav-item.active[_ngcontent-%COMP%]:after{content:"";position:absolute;right:.5rem;width:5px;height:15px;background:var(--secondary);border-radius:10px}.nav-item.back-home[_ngcontent-%COMP%]{color:var(--secondary);margin-top:1rem}.nav-item.back-home[_ngcontent-%COMP%]:hover{background:#f59e0b1a}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.05)}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#ffffff08;padding:.8rem;border-radius:16px}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:42px;height:42px;background:linear-gradient(135deg,var(--secondary),#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#fff}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.7rem;color:#fff6}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{background:none;border:none;color:#ffffff4d;cursor:pointer;transition:var(--transition)}.sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{color:#ef4444}.student-sidebar.collapsed[_ngcontent-%COMP%]{width:var(--sidebar-collapsed)}.student-sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%], .student-sidebar.collapsed[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%], .student-sidebar.collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .student-sidebar.collapsed[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:none}.student-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:2rem 1rem}.student-sidebar.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{justify-content:center;padding:1.2rem}.student-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1rem}.student-sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .user-quick-profile[_ngcontent-%COMP%]{padding:.4rem;justify-content:center}.student-main[_ngcontent-%COMP%]{flex:1;margin-left:var(--sidebar-width);transition:var(--transition);display:flex;flex-direction:column;background:#f8fafc}.sidebar-hidden[_ngcontent-%COMP%]   .student-main[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed)}.student-content-area[_ngcontent-%COMP%]{padding:2.5rem;flex:1;min-height:100vh}@media (max-width: 1024px){.student-content-area[_ngcontent-%COMP%]{padding:1.5rem}}']})}};var ed=[{path:"",component:Fi,pathMatch:"full"},{path:"login",component:Ni},{path:"actualites",component:Uo},{path:"departement/:id",loadComponent:()=>import("./chunk-UH3OJ3PG.js").then(i=>i.DepartmentDetailComponent)},{path:"formations",component:Ri},{path:"services",component:Vi,canActivate:[Jn]},{path:"certifications",component:Bi,canActivate:[Jn]},{path:"contact",component:Ui},{path:"student",component:qo,canActivate:[Wo],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-XTZSFR3H.js").then(i=>i.StudentDashboardComponent)},{path:"schedule",loadComponent:()=>import("./chunk-OHPELNBB.js").then(i=>i.StudentScheduleComponent)},{path:"grades",loadComponent:()=>import("./chunk-54ZIRXOC.js").then(i=>i.StudentGradesComponent)},{path:"materials",loadComponent:()=>import("./chunk-ZCA4S22W.js").then(i=>i.StudentMaterialsComponent)}]},{path:"admin",component:qi,canActivate:[Wi],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ao},{path:"users",component:Fo},{path:"academic",component:Lo},{path:"structure",component:No},{path:"news",component:Ro},{path:"messages",component:zo},{path:"settings",component:Vo}]},{path:"staff",component:Bo,canActivate:[jo],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-KXZ5TFQF.js").then(i=>i.StaffDashboardComponent)},{path:"students",loadComponent:()=>import("./chunk-BJSP7BEO.js").then(i=>i.StaffStudentsComponent)},{path:"schedule",loadComponent:()=>import("./chunk-YEYVRUYW.js").then(i=>i.StaffScheduleComponent)},{path:"materials",loadComponent:()=>import("./chunk-ZYLPHDQO.js").then(i=>i.StaffMaterialsComponent)},{path:"notes",loadComponent:()=>import("./chunk-JQ7F6HSG.js").then(i=>i.StaffNotesComponent)},{path:"announcements",loadComponent:()=>import("./chunk-I56R2JZ7.js").then(i=>i.StaffAnnouncementsComponent)},{path:"claims",loadComponent:()=>import("./chunk-AGDEWKZ4.js").then(i=>i.StaffClaimsComponent)}]},{path:"**",redirectTo:""}];var Z=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Z||{}),pt="*";function td(i,t=null){return{type:Z.Sequence,steps:i,options:t}}function ks(i){return{type:Z.Style,styles:i,offset:null}}var Vt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},qn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish()}),s.onDestroy(()=>{++n==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let o=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(o)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},xi="!";function nd(i){return new ie(3e3,!1)}function C_(){return new ie(3100,!1)}function y_(){return new ie(3101,!1)}function M_(i){return new ie(3001,!1)}function S_(i){return new ie(3003,!1)}function P_(i){return new ie(3004,!1)}function od(i,t){return new ie(3005,!1)}function rd(){return new ie(3006,!1)}function sd(){return new ie(3007,!1)}function ad(i,t){return new ie(3008,!1)}function ld(i){return new ie(3002,!1)}function cd(i,t,e,n,o){return new ie(3010,!1)}function dd(){return new ie(3011,!1)}function md(){return new ie(3012,!1)}function ud(){return new ie(3200,!1)}function pd(){return new ie(3202,!1)}function fd(){return new ie(3013,!1)}function gd(i){return new ie(3014,!1)}function hd(i){return new ie(3015,!1)}function _d(i){return new ie(3016,!1)}function bd(i,t){return new ie(3404,!1)}function w_(i){return new ie(3502,!1)}function vd(i){return new ie(3503,!1)}function xd(){return new ie(3300,!1)}function Cd(i){return new ie(3504,!1)}function yd(i){return new ie(3301,!1)}function Md(i,t){return new ie(3302,!1)}function Sd(i){return new ie(3303,!1)}function Pd(i,t){return new ie(3400,!1)}function wd(i){return new ie(3401,!1)}function Od(i){return new ie(3402,!1)}function Ed(i,t){return new ie(3505,!1)}function jt(i){switch(i.length){case 0:return new Vt;case 1:return i[0];default:return new qn(i)}}function Ds(i,t,e=new Map,n=new Map){let o=[],r=[],s=-1,a=null;if(t.forEach(l=>{let d=l.get("offset"),u=d==s,f=u&&a||new Map;l.forEach((g,_)=>{let v=_,x=g;if(_!=="offset")switch(v=i.normalizePropertyName(v,o),x){case xi:x=e.get(_);break;case pt:x=n.get(_);break;default:x=i.normalizeStyleValue(_,v,x,o);break}f.set(v,x)}),u||r.push(f),a=f,s=d}),o.length)throw w_(o);return r}function Ho(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Ts(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Ts(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Ts(e,"destroy",i)));break}}function Ts(i,t,e){let n=e.totalTime,o=!!e.disabled,r=$o(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,o),s=i._data;return s!=null&&(r._data=s),r}function $o(i,t,e,n,o="",r=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:o,totalTime:r,disabled:!!s}}function Ze(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Fs(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var O_=typeof document>"u"?null:document.documentElement;function Go(i){let t=i.parentNode||i.host||null;return t===O_?null:t}function E_(i){return i.substring(1,6)=="ebkit"}var vn=null,id=!1;function kd(i){vn||(vn=k_()||{},id=vn.style?"WebkitAppearance"in vn.style:!1);let t=!0;return vn.style&&!E_(i)&&(t=i in vn.style,!t&&id&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in vn.style)),t}function k_(){return typeof document<"u"?document.body:null}function Ls(i,t){for(;t;){if(t===i)return!0;t=Go(t)}return!1}function Ns(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var T_=1e3,Rs="{{",A_="}}",zs="ng-enter",Yo="ng-leave",Ci="ng-trigger",yi=".ng-trigger",Vs="ng-animating",Ko=".ng-animating";function Tt(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:As(parseFloat(t[1]),t[2])}function As(i,t){switch(t){case"s":return i*T_;default:return i}}function Mi(i,t,e){return i.hasOwnProperty("duration")?i:I_(i,t,e)}function I_(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,r=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(nd(i)),{duration:0,delay:0,easing:""};o=As(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=As(parseFloat(l),a[4]));let d=a[5];d&&(s=d)}else o=i;if(!e){let a=!1,l=t.length;o<0&&(t.push(C_()),a=!0),r<0&&(t.push(y_()),a=!0),a&&t.splice(l,0,nd(i))}return{duration:o,delay:r,easing:s}}function Td(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function ft(i,t,e){t.forEach((n,o)=>{let r=Qo(o);e&&!e.has(o)&&e.set(o,i.style[r]),i.style[r]=n})}function ln(i,t){t.forEach((e,n)=>{let o=Qo(n);i.style[o]=""})}function Hn(i){return Array.isArray(i)?i.length==1?i[0]:td(i):i}function Ad(i,t,e){let n=t.params||{},o=js(i);o.length&&o.forEach(r=>{n.hasOwnProperty(r)||e.push(M_(r))})}var Is=new RegExp(`${Rs}\\s*(.+?)\\s*${A_}`,"g");function js(i){let t=[];if(typeof i=="string"){let e;for(;e=Is.exec(i);)t.push(e[1]);Is.lastIndex=0}return t}function $n(i,t,e){let n=`${i}`,o=n.replace(Is,(r,s)=>{let a=t[s];return a==null&&(e.push(S_(s)),a=""),a.toString()});return o==n?i:o}var D_=/-+([a-z0-9])/g;function Qo(i){return i.replace(D_,(...t)=>t[1].toUpperCase())}function Id(i,t){return i===0||t===0}function Dd(i,t,e){if(e.size&&t.length){let n=t[0],o=[];if(e.forEach((r,s)=>{n.has(s)||o.push(s),n.set(s,r)}),o.length)for(let r=1;r<t.length;r++){let s=t[r];o.forEach(a=>s.set(a,Xo(i,a)))}}return t}function et(i,t,e){switch(t.type){case Z.Trigger:return i.visitTrigger(t,e);case Z.State:return i.visitState(t,e);case Z.Transition:return i.visitTransition(t,e);case Z.Sequence:return i.visitSequence(t,e);case Z.Group:return i.visitGroup(t,e);case Z.Animate:return i.visitAnimate(t,e);case Z.Keyframes:return i.visitKeyframes(t,e);case Z.Style:return i.visitStyle(t,e);case Z.Reference:return i.visitReference(t,e);case Z.AnimateChild:return i.visitAnimateChild(t,e);case Z.AnimateRef:return i.visitAnimateRef(t,e);case Z.Query:return i.visitQuery(t,e);case Z.Stagger:return i.visitStagger(t,e);default:throw P_(t.type)}}function Xo(i,t){return window.getComputedStyle(i)[t]}var ia=(()=>{class i{validateStyleProperty(e){return kd(e)}containsElement(e,n){return Ls(e,n)}getParentElement(e){return Go(e)}query(e,n,o){return Ns(e,n,o)}computeStyle(e,n,o){return o||""}animate(e,n,o,r,s,a=[],l){return new Vt(o,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Ke({token:i,factory:i.\u0275fac})}return i})(),Cn=class{static NOOP=new ia},yn=class{};var F_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),nr=class extends yn{normalizePropertyName(t,e){return Qo(t)}normalizeStyleValue(t,e,n,o){let r="",s=n.toString().trim();if(F_.has(e)&&n!==0&&n!=="0")if(typeof n=="number")r="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&o.push(od(t,n))}return s+r}};var ir="*";function L_(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>N_(n,e,t)):e.push(i),e}function N_(i,t,e){if(i[0]==":"){let l=R_(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(hd(i)),t;let o=n[1],r=n[2],s=n[3];t.push(Fd(o,s));let a=o==ir&&s==ir;r[0]=="<"&&!a&&t.push(Fd(s,o))}function R_(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(_d(i)),"* => *"}}var Jo=new Set(["true","1"]),Zo=new Set(["false","0"]);function Fd(i,t){let e=Jo.has(i)||Zo.has(i),n=Jo.has(t)||Zo.has(t);return(o,r)=>{let s=i==ir||i==o,a=t==ir||t==r;return!s&&e&&typeof o=="boolean"&&(s=o?Jo.has(i):Zo.has(i)),!a&&n&&typeof r=="boolean"&&(a=r?Jo.has(t):Zo.has(t)),s&&a}}var qd=":self",z_=new RegExp(`s*${qd}s*,?`,"g");function Hd(i,t,e,n){return new $s(i).build(t,e,n)}var Ld="",$s=class{_driver;constructor(t){this._driver=t}build(t,e,n){let o=new Gs(e);return this._resetContextStyleTimingState(o),et(this,Hn(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector=Ld,t.collectedStyles=new Map,t.collectedStyles.set(Ld,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,o=e.depCount=0,r=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(rd()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Z.State){let l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,e))}),l.name=d}else if(a.type==Z.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,o+=l.depCount,s.push(l)}else e.errors.push(sd())}),{type:Z.Trigger,name:t.name,states:r,transitions:s,queryCount:n,depCount:o,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(n.containsDynamicStyles){let r=new Set,s=o||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{js(l).forEach(d=>{s.hasOwnProperty(d)||r.add(d)})})}),r.size&&e.errors.push(ad(t.name,[...r.values()]))}return{type:Z.State,name:t.name,style:n,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=et(this,Hn(t.animation),e),o=L_(t.expr,e.errors);return{type:Z.Transition,matchers:o,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xn(t.options)}}visitSequence(t,e){return{type:Z.Sequence,steps:t.steps.map(n=>et(this,n,e)),options:xn(t.options)}}visitGroup(t,e){let n=e.currentTime,o=0,r=t.steps.map(s=>{e.currentTime=n;let a=et(this,s,e);return o=Math.max(o,e.currentTime),a});return e.currentTime=o,{type:Z.Group,steps:r,options:xn(t.options)}}visitAnimate(t,e){let n=U_(t.timings,e.errors);e.currentAnimateTimings=n;let o,r=t.styles?t.styles:ks({});if(r.type==Z.Keyframes)o=this.visitKeyframes(r,e);else{let s=t.styles,a=!1;if(!s){a=!0;let d={};n.easing&&(d.easing=n.easing),s=ks(d)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,o=l}return e.currentAnimateTimings=null,{type:Z.Animate,timings:n,style:o,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of o)typeof a=="string"?a===pt?n.push(a):e.errors.push(ld(a)):n.push(new Map(Object.entries(a)));let r=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf(Rs)>=0){r=!0;break}}}),{type:Z.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,o=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let d=e.collectedStyles.get(e.currentQuerySelector),u=d.get(l),f=!0;u&&(r!=o&&r>=u.startTime&&o<=u.endTime&&(e.errors.push(cd(l,u.startTime,u.endTime,r,o)),f=!1),r=u.startTime),f&&d.set(l,{startTime:r,endTime:o}),e.options&&Ad(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:Z.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(dd()),n;let o=1,r=0,s=[],a=!1,l=!1,d=0,u=t.steps.map(M=>{let S=this._makeStyleAst(M,e),E=S.offset!=null?S.offset:B_(S.styles),T=0;return E!=null&&(r++,T=S.offset=E),l=l||T<0||T>1,a=a||T<d,d=T,s.push(T),S});l&&e.errors.push(md()),a&&e.errors.push(ud());let f=t.steps.length,g=0;r>0&&r<f?e.errors.push(pd()):r==0&&(g=o/(f-1));let _=f-1,v=e.currentTime,x=e.currentAnimateTimings,C=x.duration;return u.forEach((M,S)=>{let E=g>0?S==_?1:g*S:s[S],T=E*C;e.currentTime=v+x.delay+T,x.duration=T,this._validateStyleAst(M,e),M.offset=E,n.styles.push(M)}),n}visitReference(t,e){return{type:Z.Reference,animation:et(this,Hn(t.animation),e),options:xn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Z.AnimateChild,options:xn(t.options)}}visitAnimateRef(t,e){return{type:Z.AnimateRef,animation:this.visitReference(t.animation,e),options:xn(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;let[r,s]=V_(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Ze(e.collectedStyles,e.currentQuerySelector,new Map);let a=et(this,Hn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:Z.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:xn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(fd());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Mi(t.timings,e.errors,!0);return{type:Z.Stagger,animation:et(this,Hn(t.animation),e),timings:n,options:null}}};function V_(i){let t=!!i.split(/\s*,\s*/).find(e=>e==qd);return t&&(i=i.replace(z_,"")),i=i.replace(/@\*/g,yi).replace(/@\w+/g,e=>yi+"-"+e.slice(1)).replace(/:animating/g,Ko),[i,t]}function j_(i){return i?De({},i):null}var Gs=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function B_(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function U_(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let r=Mi(i,t).duration;return Bs(r,0,"")}let e=i;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Bs(0,0,"");return r.dynamic=!0,r.strValue=e,r}let o=Mi(e,t);return Bs(o.duration,o.delay,o.easing)}function xn(i){return i?(i=De({},i),i.params&&(i.params=j_(i.params))):i={},i}function Bs(i,t,e){return{duration:i,delay:t,easing:e}}function oa(i,t,e,n,o,r,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}var Pi=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},W_=1,q_=":enter",H_=new RegExp(q_,"g"),$_=":leave",G_=new RegExp($_,"g");function $d(i,t,e,n,o,r=new Map,s=new Map,a,l,d=[]){return new Ys().buildKeyframes(i,t,e,n,o,r,s,a,l,d)}var Ys=class{buildKeyframes(t,e,n,o,r,s,a,l,d,u=[]){d=d||new Pi;let f=new Ks(t,e,d,o,r,u,[]);f.options=l;let g=l.delay?Tt(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,l),et(this,n,f);let _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let x=_.length-1;x>=0;x--){let C=_[x];if(C.element===e){v=C;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[oa(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let o=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,o,o.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let o of t){let r=o?.delay;if(r){let s=typeof r=="number"?r:Tt($n(r,o?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime,s=n.duration!=null?Tt(n.duration):null,a=n.delay!=null?Tt(n.delay):null;return s!==0&&t.forEach(l=>{let d=e.appendInstructionToTimeline(l,s,a);r=Math.max(r,d.duration+d.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),et(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,o=e,r=t.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==Z.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=or);let s=Tt(r.delay);o.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>et(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],o=e.currentTimeline.currentTime,r=t.options&&t.options.delay?Tt(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),et(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,o=e.params?$n(n,e.params,e.errors):n;return Mi(o,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());let r=t.style;r.type==Z.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();let r=o&&o.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,o=e.currentTimeline.duration,r=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let d=l.offset||0;a.forwardTime(d*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(o+r),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,o=t.options||{},r=o.delay?Tt(o.delay):0;r&&(e.previousNode.type===Z.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=or);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((d,u)=>{e.currentQueryIndex=u;let f=e.createSubContext(t.options,d);r&&f.delayNextStep(r),d===e.element&&(l=f.currentTimeline),et(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,o=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let f=u.currentTime;et(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=o.currentTime-f+(o.startTime-n.currentTimeline.startTime)}},or={},Ks=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=or;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,o,r,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=l||new rr(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,o=this.options;n.duration!=null&&(o.duration=Tt(n.duration)),n.delay!=null&&(o.delay=Tt(n.delay));let r=n.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=$n(r[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(o=>{n[o]=e[o]})}}return t}createSubContext(t=null,e,n){let o=e||this.element,r=new i(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=or,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},r=new Qs(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,o,r,s){let a=[];if(o&&a.push(this.element),t.length>0){t=t.replace(H_,"."+this._enterClassName),t=t.replace(G_,"."+this._leaveClassName);let l=n!=1,d=this._driver.query(this.element,t,l);n!==0&&(d=n<0?d.slice(d.length+n,d.length):d.slice(0,n)),a.push(...d)}return!r&&a.length==0&&s.push(gd(e)),a}},rr=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,o){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=W_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||pt),this._currentKeyframe.set(e,pt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,o){e&&this._previousKeyframe.set("easing",e);let r=o&&o.params||{},s=Y_(t,this._globalTimelineStyles);for(let[a,l]of s){let d=$n(l,r,n);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??pt),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let o=this._styleSummary.get(n);(!o||e.time>o.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((a,l)=>{let d=new Map([...this._backFill,...a]);d.forEach((u,f)=>{u===xi?t.add(f):u===pt&&e.add(f)}),n||d.set("offset",l/this.duration),o.push(d)});let r=[...t.values()],s=[...e.values()];if(n){let a=o[0],l=new Map(a);a.set("offset",0),l.set("offset",1),o=[a,l]}return oa(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}},Qs=class extends rr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,o,r,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),r.push(l);let d=new Map(t[0]);d.set("offset",Nd(a)),r.push(d);let u=t.length-1;for(let f=1;f<=u;f++){let g=new Map(t[f]),_=g.get("offset"),v=e+_*n;g.set("offset",Nd(v/s)),r.push(g)}n=s,e=0,o="",t=r}return oa(this.element,t,this.preStyleProps,this.postStyleProps,n,e,o,!0)}};function Nd(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function Y_(i,t){let e=new Map,n;return i.forEach(o=>{if(o==="*"){n??=t.keys();for(let r of n)e.set(r,pt)}else for(let[r,s]of o)e.set(r,s)}),e}function Rd(i,t,e,n,o,r,s,a,l,d,u,f,g){return{type:0,element:i,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:r,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:u,totalTime:f,errors:g}}var Us={},sr=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,o){return K_(this.ast.matchers,t,e,n,o)}buildStyles(t,e,n){let o=this._stateStyles.get("*");return t!==void 0&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,n):new Map}build(t,e,n,o,r,s,a,l,d,u){let f=[],g=this.ast.options&&this.ast.options.params||Us,_=a&&a.params||Us,v=this.buildStyles(n,_,f),x=l&&l.params||Us,C=this.buildStyles(o,x,f),M=new Set,S=new Map,E=new Map,T=o==="void",O={params:Gd(x,g),delay:this.ast.options?.delay},A=u?[]:$d(t,e,this.ast.animation,r,s,v,C,O,d,f),R=0;return A.forEach(L=>{R=Math.max(L.duration+L.delay,R)}),f.length?Rd(e,this._triggerName,n,o,T,v,C,[],[],S,E,R,f):(A.forEach(L=>{let j=L.element,H=Ze(S,j,new Set);L.preStyleProps.forEach(K=>H.add(K));let Y=Ze(E,j,new Set);L.postStyleProps.forEach(K=>Y.add(K)),j!==e&&M.add(j)}),Rd(e,this._triggerName,n,o,T,v,C,A,[...M.values()],S,E,R))}};function K_(i,t,e,n,o){return i.some(r=>r(t,e,n,o))}function Gd(i,t){let e=De({},t);return Object.entries(i).forEach(([n,o])=>{o!=null&&(e[n]=o)}),e}var Xs=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,o=Gd(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=$n(s,o,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function Q_(i,t,e){return new Js(i,t,e)}var Js=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Xs(o.style,r,n))}),zd(this.states,"true","1"),zd(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new sr(t,o,this.states))}),this.fallbackTransition=X_(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,o){return this.transitionFactories.find(s=>s.match(t,e,n,o))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function X_(i,t,e){let n=[(s,a)=>!0],o={type:Z.Sequence,steps:[],options:null},r={type:Z.Transition,animation:o,matchers:n,options:null,queryCount:0,depCount:0};return new sr(i,r,t)}function zd(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var J_=new Pi,Zs=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],o=[],r=Hd(this._driver,e,n,o);if(n.length)throw vd(n);this._animations.set(t,r)}_buildPlayer(t,e,n){let o=t.element,r=Ds(this._normalizer,t.keyframes,e,n);return this._driver.animate(o,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let o=[],r=this._animations.get(t),s,a=new Map;if(r?(s=$d(this._driver,e,r,zs,Yo,new Map,new Map,n,J_,o),s.forEach(u=>{let f=Ze(a,u.element,new Map);u.postStyleProps.forEach(g=>f.set(g,null))})):(o.push(xd()),s=[]),o.length)throw Cd(o);a.forEach((u,f)=>{u.forEach((g,_)=>{u.set(_,this._driver.computeStyle(f,_,pt))})});let l=s.map(u=>{let f=a.get(u.element);return this._buildPlayer(u,new Map,f)}),d=jt(l);return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw yd(t);return e}listen(t,e,n,o){let r=$o(e,"","","");return Ho(this._getPlayer(t),n,r,o),()=>{}}command(t,e,n,o){if(n=="register"){this.register(t,o[0]);return}if(n=="create"){let s=o[0]||{};this.create(t,e,s);return}let r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t);break}}},Vd="ng-animate-queued",Z_=".ng-animate-queued",Ws="ng-animate-disabled",eb=".ng-animate-disabled",tb="ng-star-inserted",nb=".ng-star-inserted",ib=[],Yd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ob={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gt="__ng_removed",wi=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),o=n?t.value:t;if(this.value=sb(o),n){let r=t,{value:s}=r,a=ra(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(o=>{n[o]==null&&(n[o]=e[o])})}}},Si="void",qs=new wi(Si),ea=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,lt(e,this._hostClassName)}listen(t,e,n,o){if(!this._triggers.has(e))throw Md(n,e);if(n==null||n.length==0)throw Sd(e);if(!ab(n))throw Pd(n,e);let r=Ze(this._elementListeners,t,[]),s={name:e,phase:n,callback:o};r.push(s);let a=Ze(this._engine.statesByElement,t,new Map);return a.has(e)||(lt(t,Ci),lt(t,Ci+"-"+e),a.set(e,qs)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw wd(t);return e}trigger(t,e,n,o=!0){let r=this._getTrigger(e),s=new Oi(this.id,e,t),a=this._engine.statesByElement.get(t);a||(lt(t,Ci),lt(t,Ci+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),d=new wi(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(e,d),l||(l=qs),!(d.value===Si)&&l.value===d.value){if(!db(l.params,d.params)){let x=[],C=r.matchStyles(l.value,l.params,x),M=r.matchStyles(d.value,d.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{ln(t,C),ft(t,M)})}return}let g=Ze(this._engine.playersByElement,t,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let _=r.matchTransition(l.value,d.value,t,d.params),v=!1;if(!_){if(!o)return;_=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:d,player:s,isFallbackTransition:v}),v||(lt(t,Vd),s.onStart(()=>{Gn(t,Vd)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let C=this._engine.playersByElement.get(t);if(C){let M=C.indexOf(s);M>=0&&C.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,yi,!0);n.forEach(o=>{if(o[gt])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,n,o){let r=this._engine.statesByElement.get(t),s=new Map;if(r){let a=[];if(r.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){let u=this.trigger(t,d,Si,o);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&jt(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let o=new Set;e.forEach(r=>{let s=r.name;if(o.has(s))return;o.add(s);let l=this._triggers.get(s).fallbackTransition,d=n.get(s)||qs,u=new wi(Si),f=new Oi(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:d,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(n.totalAnimations){let r=n.players.length?n.playersByQueriedElement.get(t):[];if(r&&r.length)o=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)n.markElementAsRemoved(this.id,t,!1,e);else{let r=t[gt];(!r||r===Yd)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){lt(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let o=n.player;if(o.destroyed)return;let r=n.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=$o(r,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Ho(n.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((n,o)=>{let r=n.transition.ast.depCount,s=o.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ta=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new ea(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=o.get(a);if(l){let d=n.indexOf(l);n.splice(d+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return o.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let o=this._namespaceLookup[t];o&&o.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let o of n.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}}return e}trigger(t,e,n,o){if(er(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,n,o),!0}return!1}insertNode(t,e,n,o){if(!er(e))return;let r=e[gt];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lt(t,Ws)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gn(t,Ws))}removeNode(t,e,n){if(er(e)){let o=t?this._fetchNamespace(t):null;o?o.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,o,r){this.collectedLeaveElements.push(e),e[gt]={namespaceId:t,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,n,o,r){return er(e)?this._fetchNamespace(t).listen(e,n,o,r):()=>{}}_buildInstruction(t,e,n,o,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,o,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,yi,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ko,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[gt];if(e&&e.setForRemoval){if(t[gt]=Yd,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ws)&&this.markElementAsDisabled(t,!1),this.driver.query(t,eb,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let o=this.collectedEnterElements[n];lt(o,tb)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let o=this.collectedLeaveElements[n];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?jt(e).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(t){throw Od(t)}_flushAnimations(t,e){let n=new Pi,o=[],r=new Map,s=[],a=new Map,l=new Map,d=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let V=this.driver.query(N,Z_,!0);for(let B=0;B<V.length;B++)u.add(V[B])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=Ud(g,this.collectedEnterElements),v=new Map,x=0;_.forEach((N,V)=>{let B=zs+x++;v.set(V,B),N.forEach(W=>lt(W,B))});let C=[],M=new Set,S=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let V=this.collectedLeaveElements[N],B=V[gt];B&&B.setForRemoval&&(C.push(V),M.add(V),B.hasAnimation?this.driver.query(V,nb,!0).forEach(W=>M.add(W)):S.add(V))}let E=new Map,T=Ud(g,Array.from(M));T.forEach((N,V)=>{let B=Yo+x++;E.set(V,B),N.forEach(W=>lt(W,B))}),t.push(()=>{_.forEach((N,V)=>{let B=v.get(V);N.forEach(W=>Gn(W,B))}),T.forEach((N,V)=>{let B=E.get(V);N.forEach(W=>Gn(W,B))}),C.forEach(N=>{this.processLeaveNode(N)})});let O=[],A=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(B=>{let W=B.player,be=B.element;if(O.push(W),this.collectedEnterElements.length){let ze=be[gt];if(ze&&ze.setForMove){if(ze.previousTriggersValues&&ze.previousTriggersValues.has(B.triggerName)){let cn=ze.previousTriggersValues.get(B.triggerName),it=this.statesByElement.get(B.element);if(it&&it.has(B.triggerName)){let Ei=it.get(B.triggerName);Ei.value=cn,it.set(B.triggerName,Ei)}}W.destroy();return}}let $e=!f||!this.driver.containsElement(f,be),we=E.get(be),Ye=v.get(be),de=this._buildInstruction(B,n,Ye,we,$e);if(de.errors&&de.errors.length){A.push(de);return}if($e){W.onStart(()=>ln(be,de.fromStyles)),W.onDestroy(()=>ft(be,de.toStyles)),o.push(W);return}if(B.isFallbackTransition){W.onStart(()=>ln(be,de.fromStyles)),W.onDestroy(()=>ft(be,de.toStyles)),o.push(W);return}let Bt=[];de.timelines.forEach(ze=>{ze.stretchStartingKeyframe=!0,this.disabledNodes.has(ze.element)||Bt.push(ze)}),de.timelines=Bt,n.append(be,de.timelines);let At={instruction:de,player:W,element:be};s.push(At),de.queriedElements.forEach(ze=>Ze(a,ze,[]).push(W)),de.preStyleProps.forEach((ze,cn)=>{if(ze.size){let it=l.get(cn);it||l.set(cn,it=new Set),ze.forEach((Ei,ur)=>it.add(ur))}}),de.postStyleProps.forEach((ze,cn)=>{let it=d.get(cn);it||d.set(cn,it=new Set),ze.forEach((Ei,ur)=>it.add(ur))})});if(A.length){let N=[];A.forEach(V=>{N.push(Ed(V.triggerName,V.errors))}),O.forEach(V=>V.destroy()),this.reportError(N)}let R=new Map,L=new Map;s.forEach(N=>{let V=N.element;n.has(V)&&(L.set(V,V),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,R))}),o.forEach(N=>{let V=N.element;this._getPreviousPlayers(V,!1,N.namespaceId,N.triggerName,null).forEach(W=>{Ze(R,V,[]).push(W),W.destroy()})});let j=C.filter(N=>Wd(N,l,d)),H=new Map;Bd(H,this.driver,S,d,pt).forEach(N=>{Wd(N,l,d)&&j.push(N)});let K=new Map;_.forEach((N,V)=>{Bd(K,this.driver,new Set(N),l,xi)}),j.forEach(N=>{let V=H.get(N),B=K.get(N);H.set(N,new Map([...V?.entries()??[],...B?.entries()??[]]))});let Pe=[],Re=[],ce={};s.forEach(N=>{let{element:V,player:B,instruction:W}=N;if(n.has(V)){if(u.has(V)){B.onDestroy(()=>ft(V,W.toStyles)),B.disabled=!0,B.overrideTotalTime(W.totalTime),o.push(B);return}let be=ce;if(L.size>1){let we=V,Ye=[];for(;we=we.parentNode;){let de=L.get(we);if(de){be=de;break}Ye.push(we)}Ye.forEach(de=>L.set(de,be))}let $e=this._buildAnimation(B.namespaceId,W,R,r,K,H);if(B.setRealPlayer($e),be===ce)Pe.push(B);else{let we=this.playersByElement.get(be);we&&we.length&&(B.parentPlayer=jt(we)),o.push(B)}}else ln(V,W.fromStyles),B.onDestroy(()=>ft(V,W.toStyles)),Re.push(B),u.has(V)&&o.push(B)}),Re.forEach(N=>{let V=r.get(N.element);if(V&&V.length){let B=jt(V);N.setRealPlayer(B)}}),o.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<C.length;N++){let V=C[N],B=V[gt];if(Gn(V,Yo),B&&B.hasAnimation)continue;let W=[];if(a.size){let $e=a.get(V);$e&&$e.length&&W.push(...$e);let we=this.driver.query(V,Ko,!0);for(let Ye=0;Ye<we.length;Ye++){let de=a.get(we[Ye]);de&&de.length&&W.push(...de)}}let be=W.filter($e=>!$e.destroyed);be.length?lb(this,V,be):this.processLeaveNode(V)}return C.length=0,Pe.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let V=this.players.indexOf(N);this.players.splice(V,1)}),N.play()}),Pe}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,o,r){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!r||r==Si;a.forEach(d=>{d.queued||!l&&d.triggerName!=o||s.push(d)})}}return(n||o)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let o=e.triggerName,r=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:o;for(let l of e.timelines){let d=l.element,u=d!==r,f=Ze(n,d,[]);this._getPreviousPlayers(d,u,s,a,e.toState).forEach(_=>{let v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}ln(r,e.fromStyles)}_buildAnimation(t,e,n,o,r,s){let a=e.triggerName,l=e.element,d=[],u=new Set,f=new Set,g=e.timelines.map(v=>{let x=v.element;u.add(x);let C=x[gt];if(C&&C.removedBeforeQueried)return new Vt(v.duration,v.delay);let M=x!==l,S=cb((n.get(x)||ib).map(R=>R.getRealPlayer())).filter(R=>{let L=R;return L.element?L.element===x:!1}),E=r.get(x),T=s.get(x),O=Ds(this._normalizer,v.keyframes,E,T),A=this._buildPlayer(v,O,S);if(v.subTimeline&&o&&f.add(x),M){let R=new Oi(t,a,x);R.setRealPlayer(A),d.push(R)}return A});d.forEach(v=>{Ze(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>rb(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>lt(v,Vs));let _=jt(g);return _.onDestroy(()=>{u.forEach(v=>Gn(v,Vs)),ft(l,e.toStyles)}),f.forEach(v=>{Ze(o,v,[]).push(_)}),_}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Vt(t.duration,t.delay)}},Oi=class{namespaceId;triggerName;element;_player=new Vt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(o=>Ho(t,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ze(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function rb(i,t,e){let n=i.get(t);if(n){if(n.length){let o=n.indexOf(e);n.splice(o,1)}n.length==0&&i.delete(t)}return n}function sb(i){return i??null}function er(i){return i&&i.nodeType===1}function ab(i){return i=="start"||i=="done"}function jd(i,t){let e=i.style.display;return i.style.display=t??"none",e}function Bd(i,t,e,n,o){let r=[];e.forEach(l=>r.push(jd(l)));let s=[];n.forEach((l,d)=>{let u=new Map;l.forEach(f=>{let g=t.computeStyle(d,f,o);u.set(f,g),(!g||g.length==0)&&(d[gt]=ob,s.push(d))}),i.set(d,u)});let a=0;return e.forEach(l=>jd(l,r[a++])),s}function Ud(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,o=new Set(t),r=new Map;function s(a){if(!a)return n;let l=r.get(a);if(l)return l;let d=a.parentNode;return e.has(d)?l=d:o.has(d)?l=n:l=s(d),r.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function lt(i,t){i.classList?.add(t)}function Gn(i,t){i.classList?.remove(t)}function lb(i,t,e){jt(e).onDone(()=>i.processLeaveNode(t))}function cb(i){let t=[];return Kd(i,t),t}function Kd(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof qn?Kd(n.players,t):t.push(n)}}function db(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++){let r=e[o];if(!t.hasOwnProperty(r)||i[r]!==t[r])return!1}return!0}function Wd(i,t,e){let n=e.get(i);if(!n)return!1;let o=t.get(i);return o?n.forEach(r=>o.add(r)):t.set(i,n),e.delete(i),!0}var Yn=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new ta(t.body,e,n),this._timelineEngine=new Zs(t.body,e,n),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(t,e,n,o,r){let s=t+"-"+o,a=this._triggerCache[s];if(!a){let l=[],d=[],u=Hd(this._driver,r,l,d);if(l.length)throw bd(o,l);a=Q_(o,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,o,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,o){this._transitionEngine.insertNode(t,e,n,o)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,o){if(n.charAt(0)=="@"){let[r,s]=Fs(n),a=o;this._timelineEngine.command(r,e,s,a)}else this._transitionEngine.trigger(t,e,n,o)}listen(t,e,n,o,r){if(n.charAt(0)=="@"){let[s,a]=Fs(n);return this._timelineEngine.listen(s,e,a,r)}return this._transitionEngine.listen(t,e,n,o,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function mb(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Hs(t[0]),t.length>1&&(n=Hs(t[t.length-1]))):t instanceof Map&&(e=Hs(t)),e||n?new ub(i,e,n):null}var ub=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,o){this._element=e,this._startStyles=n,this._endStyles=o;let r=i.initialStylesByElement.get(e);r||i.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ft(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ft(this._element,this._initialStyles),this._endStyles&&(ft(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(ln(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ln(this._element,this._endStyles),this._endStyles=null),ft(this._element,this._initialStyles),this._state=3)}}return i})();function Hs(i){let t=null;return i.forEach((e,n)=>{pb(n)&&(t=t||new Map,t.set(n,e))}),t}function pb(i){return i==="display"||i==="position"}var ar=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,o){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=o,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{o!=="offset"&&t.set(o,this._finished?n:Xo(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},lr=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Ls(t,e)}getParentElement(t){return Go(t)}query(t,e,n){return Ns(t,e,n)}computeStyle(t,e,n){return Xo(t,e)}animate(t,e,n,o,r,s=[]){let a=o==0?"both":"forwards",l={duration:n,delay:o,fill:a};r&&(l.easing=r);let d=new Map,u=s.filter(_=>_ instanceof ar);Id(n,o)&&u.forEach(_=>{_.currentSnapshot.forEach((v,x)=>d.set(x,v))});let f=Td(e).map(_=>new Map(_));f=Dd(t,f,d);let g=mb(t,f);return new ar(t,f,l,g)}};var tr="@",Qd="@.disabled",cr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,o){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,o=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==tr&&e==Qd?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,o){return this.delegate.listen(t,e,n,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},na=class extends cr{factory;constructor(t,e,n,o,r){super(e,n,o,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==tr?e.charAt(1)=="."&&e==Qd?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,o){if(e.charAt(0)==tr){let r=fb(t),s=e.slice(1),a="";return s.charAt(0)!=tr&&([s,a]=gb(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,n,l)})}return this.delegate.listen(t,e,n,o)}};function fb(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function gb(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var dr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(t,e){let n="",o=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let d=this._rendererCache,u=d.get(o);if(!u){let f=()=>d.delete(o);u=new cr(n,o,this.engine,f),d.set(o,u)}return u}let r=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(r,s,t,d.name,d)};return e.data.animation.forEach(a),new na(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),o.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var _b=(()=>{class i extends Yn{constructor(e,n,o){super(e,n,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(Me(Ma),Me(Cn),Me(yn))};static \u0275prov=Ke({token:i,factory:i.\u0275fac})}return i})();function bb(){return new nr}function vb(i,t,e){return new dr(i,t,e)}var Xd=[{provide:yn,useFactory:bb},{provide:Yn,useClass:_b},{provide:ga,useFactory:vb,deps:[Pa,Yn,ua]}],Gx=[{provide:Cn,useClass:ia},{provide:pr,useValue:"NoopAnimations"},...Xd],xb=[{provide:Cn,useFactory:()=>new lr},{provide:pr,useFactory:()=>"BrowserAnimations"},...Xd];function Jd(){return pa("NgEagerAnimations"),[...xb]}var Zd={providers:[ya({eventCoalescing:!0}),Ta(ed),Ea(),Jd()]};function Cb(i,t){if(i&1){let e=U();c(0,"header",37)(1,"div",38)(2,"div",39)(3,"div",5),b(4,"img",40),m(),c(5,"div",7)(6,"div",8),p(7,"INSTITUT SUP\xC9RIEUR DES"),m(),c(8,"div",9),p(9,"ETUDES TECHNOLOGIQUES DE Kairouan"),m()()(),c(10,"div",41)(11,"button",42),b(12,"i",43),m(),c(13,"a",44),p(14,"Contactez-nous"),m(),c(15,"a",45),p(16,"Formations"),m(),c(17,"button",46),w("click",function(){I(e);let o=P();return D(o.openStudentSpace())}),b(18,"i",47),c(19,"span"),p(20,"Espace Extranet"),m()(),c(21,"a",48),b(22,"i",27),c(23,"span"),p(24,"Connexion"),m()(),c(25,"button",49),w("click",function(){I(e);let o=P();return D(o.toggleMenu())}),c(26,"div",50),b(27,"span")(28,"span")(29,"span"),m(),c(30,"span",51),p(31,"MENU"),m()()()()()}}function yb(i,t){if(i&1){let e=U();c(0,"a",52),w("click",function(){I(e);let o=P();return D(o.closeMenu())}),c(1,"span",12),b(2,"i",53),m(),c(3,"span",14),p(4,"ADMIN DASHBOARD"),m()()}}function Mb(i,t){if(i&1){let e=U();c(0,"footer",54)(1,"div",55)(2,"div",56)(3,"h4"),p(4,"ISET Kairouan"),m(),c(5,"p"),p(6,"Institut Sup\xE9rieur des \xC9tudes Technologiques de Kairouan, un \xE9tablissement public d'enseignement sup\xE9rieur qui forme des techniciens sup\xE9rieurs et des ing\xE9nieurs dans les domaines technologiques."),m()(),c(7,"div",56)(8,"h4"),p(9,"LIENS RAPIDES"),m(),c(10,"ul")(11,"li")(12,"a",57),p(13,"Formations & Dipl\xF4mes"),m()(),c(14,"li")(15,"a",58),p(16,"Inscription & Admission"),m()(),c(17,"li")(18,"a",59),p(19,"Biblioth\xE8que Num\xE9rique"),m()(),c(20,"li")(21,"button",60),w("click",function(){I(e);let o=P();return D(o.openStudentSpace())}),p(22,"Espace \xC9tudiant"),m()(),c(23,"li")(24,"a",61),p(25,"Certifications ISO"),m()()()(),c(26,"div",56)(27,"h4"),p(28,"CONTACT"),m(),c(29,"ul",30)(30,"li"),b(31,"i",62),c(32,"span"),p(33,"Avenue de l'Environnement, 3100 Kairouan, Tunisie"),m()(),c(34,"li"),b(35,"i",63),c(36,"span"),p(37,"(+216) 77 123 456"),m()(),c(38,"li"),b(39,"i",24),c(40,"span"),p(41,"contact@isetk.rnu.tn"),m()(),c(42,"li"),b(43,"i",64),c(44,"span"),p(45,"Lundi - Vendredi: 8h00 - 17h00"),m()()()()(),c(46,"div",65)(47,"p"),p(48,"\xA9 2025 ISET Kairouan. Tous droits r\xE9serv\xE9s. | "),c(49,"a",66),p(50,"Mentions l\xE9gales"),m(),p(51," | "),c(52,"a",66),p(53,"Politique de confidentialit\xE9"),m(),p(54," | "),c(55,"a",66),p(56,"Plan du site"),m()(),c(57,"p",67),p(58,"Certifi\xE9 ISO 9001:2015 et ISO 21001:2018"),m()()()}}var mr=class i{constructor(t,e){this.authService=t;this.router=e;this.title="ISET Kairouan";this.currentUser=null;this.isAdminRoute=!1;this.isMenuOpen=!1;this.isLoginPage=!1;this.isContactPage=!1;this.isFormationsPage=!1;this.router.events.pipe(da(n=>n instanceof Ii)).subscribe(n=>{this.isAdminRoute=n.url.startsWith("/admin")||n.url.startsWith("/staff"),this.isLoginPage=n.url.includes("/login"),this.isContactPage=n.url.includes("/contact"),this.isFormationsPage=n.url.includes("/formations"),this.isMenuOpen=!1})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}ngOnInit(){this.authService.checkAuthStatus(),this.authService.currentUser.subscribe(t=>{this.currentUser=t})}logout(){confirm("Voulez-vous vraiment vous d\xE9connecter ?")&&this.authService.logout()}openStudentSpace(){window.open("https://isetkairouan.edx.tn/login.faces","_blank","noopener,noreferrer")}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(e){return new(e||i)($(Ce),$(je))}}static{this.\u0275cmp=Q({type:i,selectors:[["app-root"]],decls:67,vars:5,consts:[["class","main-header transparent-header",4,"ngIf"],[1,"menu-overlay-full"],[1,"menu-bg-campus"],[1,"menu-sidebar-blue"],[1,"menu-logo-section"],[1,"logo-img"],["src","assets/logo-iset.png","alt","Logo ISET Kairouan"],[1,"institution-name"],[1,"main-name"],[1,"sub-name"],[1,"overlay-nav"],["routerLink","/","routerLinkActive","active",3,"click"],[1,"nav-icon"],[1,"fas","fa-home"],[1,"nav-text"],["routerLink","/institut","routerLinkActive","active",3,"click"],[1,"fas","fa-university"],["routerLink","/formations","routerLinkActive","active",3,"click"],[1,"fas","fa-graduation-cap"],["routerLink","/projets","routerLinkActive","active",3,"click"],[1,"fas","fa-project-diagram"],["routerLink","/vie-universitaire","routerLinkActive","active",3,"click"],[1,"fas","fa-users"],["routerLink","/contact","routerLinkActive","active",3,"click"],[1,"fas","fa-envelope"],[1,"nav-divider"],["routerLink","/login",1,"login-link",3,"click"],[1,"fas","fa-sign-in-alt"],["routerLink","/admin","class","admin-link",3,"click",4,"ngIf"],[1,"menu-footer-pro"],[1,"contact-info"],[1,"info-item"],[1,"fas","fa-phone-alt"],[1,"close-menu-btn",3,"click"],[1,"fas","fa-times"],[1,"diagonal-stripes"],["class","main-footer",4,"ngIf"],[1,"main-header","transparent-header"],[1,"header-container"],["routerLink","/",1,"logo-section"],["src","assets/logo-iset.jpeg","alt","Logo ISET Kairouan"],[1,"header-actions"],[1,"action-icon","search-btn"],[1,"fas","fa-search"],["routerLink","/contact",1,"nav-link"],["routerLink","/formations",1,"nav-link"],[1,"extranet-btn",3,"click"],[1,"fas","fa-users-viewfinder"],["routerLink","/login","title","Connexion",1,"login-btn-compact","btn-login-premium"],[1,"menu-toggle",3,"click"],[1,"hamburger"],[1,"menu-text"],["routerLink","/admin",1,"admin-link",3,"click"],[1,"fas","fa-shield-alt"],[1,"main-footer"],[1,"footer-content"],[1,"footer-column"],["routerLink","/formations"],["routerLink","/services"],["href","#"],[2,"background","none","border","none","cursor","pointer","font","inherit","color","rgba(255, 255, 255, 0.85)","text-decoration","none","transition","color 0.3s","padding","0",3,"click"],["routerLink","/certifications"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone"],[1,"fas","fa-clock"],[1,"footer-bottom"],["href","#",2,"color","#a3d5ff"],[2,"margin-top","0.5rem","font-size","0.85rem"]],template:function(e,n){e&1&&(k(0,Cb,32,0,"header",0),c(1,"div",1),b(2,"div",2),c(3,"div",3)(4,"div",4)(5,"div",5),b(6,"img",6),m(),c(7,"div",7)(8,"div",8),p(9,"INSTITUT SUP\xC9RIEUR DES"),m(),c(10,"div",9),p(11,"ETUDES TECHNOLOGIQUES DE Kairouan"),m()()(),c(12,"nav",10)(13,"a",11),w("click",function(){return n.closeMenu()}),c(14,"span",12),b(15,"i",13),m(),c(16,"span",14),p(17,"ACCUEIL"),m()(),c(18,"a",15),w("click",function(){return n.closeMenu()}),c(19,"span",12),b(20,"i",16),m(),c(21,"span",14),p(22,"L'INSTITUT"),m()(),c(23,"a",17),w("click",function(){return n.closeMenu()}),c(24,"span",12),b(25,"i",18),m(),c(26,"span",14),p(27,"FORMATIONS"),m()(),c(28,"a",19),w("click",function(){return n.closeMenu()}),c(29,"span",12),b(30,"i",20),m(),c(31,"span",14),p(32,"PROJETS"),m()(),c(33,"a",21),w("click",function(){return n.closeMenu()}),c(34,"span",12),b(35,"i",22),m(),c(36,"span",14),p(37,"VIE \xC9TUDIANTE"),m()(),c(38,"a",23),w("click",function(){return n.closeMenu()}),c(39,"span",12),b(40,"i",24),m(),c(41,"span",14),p(42,"CONTACT"),m()(),b(43,"div",25),c(44,"a",26),w("click",function(){return n.closeMenu()}),c(45,"span",12),b(46,"i",27),m(),c(47,"span",14),p(48,"CONNEXION"),m()(),k(49,yb,5,0,"a",28),m(),c(50,"div",29)(51,"div",30)(52,"div",31),b(53,"i",32),c(54,"span"),p(55,"+216 77 270 514"),m()(),c(56,"div",31),b(57,"i",24),c(58,"span"),p(59,"contact@isetkr.rnu.tn"),m()()()()(),c(60,"button",33),w("click",function(){return n.closeMenu()}),b(61,"i",34),c(62,"span"),p(63,"FERMER"),m()(),b(64,"div",35),m(),b(65,"router-outlet"),k(66,Mb,59,0,"footer",36)),e&2&&(y("ngIf",!n.isAdminRoute&&!n.isLoginPage&&!n.isContactPage&&!n.isFormationsPage),h(),z("open",n.isMenuOpen),h(48),y("ngIf",(n.currentUser==null?null:n.currentUser.role)==="admin"),h(17),y("ngIf",!n.isAdminRoute&&!n.isLoginPage&&!n.isContactPage&&!n.isFormationsPage))},dependencies:[$t,pe,Ie,Gt,X,le],encapsulation:2})}};wa(mr,Zd).catch(i=>console.error(i));
